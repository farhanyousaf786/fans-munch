/*! For license information please see main.90b76d67.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),o=n(43),i=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope");var I=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function j(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case C:return"SuspenseList";case I:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case k:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}var R=Array.isArray,D=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},B=[],M=-1;function F(e){return{current:e}}function U(e){0>M||(e.current=B[M],B[M]=null,M--)}function z(e,t){M++,B[M]=e.current,e.current=t}var V=F(null),$=F(null),q=F(null),H=F(null);function W(e,t){switch(z(q,t),z($,e),z(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),z(V,e)}function G(){U(V),U($),U(q)}function K(e){null!==e.memoizedState&&z(H,e);var t=V.current,n=id(t,e.type);t!==n&&(z($,e),z(V,n))}function Q(e){$.current===e&&(U(V),U($)),H.current===e&&(U(H),Kd._currentValue=L)}var Y=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,se=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~i)?o=ye(r):0!==(s&=a)?o=ye(s):n||0!==(n=a&~e)&&(o=ye(n)):0!==(a=r&~i)?o=ye(a):0!==s?o=ye(s):n||0!==(n=r&~e)&&(o=ye(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:o}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Ce(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),je="__reactFiber$"+Ae,Re="__reactProps$"+Ae,De="__reactContainer$"+Ae,Oe="__reactEvents$"+Ae,Le="__reactListeners$"+Ae,Be="__reactHandles$"+Ae,Me="__reactResources$"+Ae,Fe="__reactMarker$"+Ae;function Ue(e){delete e[je],delete e[Re],delete e[Oe],delete e[Le],delete e[Be]}function ze(e){var t=e[je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[je]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[je])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[je]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function qe(e){var t=e[Me];return t||(t=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Fe]=!0}var We=new Set,Ge={};function Ke(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(o=t,Y.call(et,o)||!Y.call(Ze,o)&&(Je.test(o)?et[o]=!0:(Ze[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],a=i[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return ot("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,o,i,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ct(t)):null!=n?yt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function vt(e,t,n,r,o,i,s,a){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(R(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Ct(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&Ct(e,i,t[i])}function xt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var jt=null,Rt=null;function Dt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Re]||null;if(!o)throw Error(s(90));gt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Lt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==jt||null!==Rt)&&(zc(),jt&&(t=jt,e=Rt,Rt=jt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Mt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Rh){Ft=!1}var zt=null,Vt=null,$t=null;function qt(){if($t)return $t;var e,t,n=Vt,r=n.length,o="value"in zt?zt.value:zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return $t=o.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Gt(){return!1}function Kt(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Wt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Qt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Kt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Kt(nn),on=Kt(h({},nn,{dataTransfer:0})),sn=Kt(h({},en,{relatedTarget:0})),an=Kt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Kt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Kt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Kt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Kt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Kt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=Kt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Kt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Kt(h({},Jt,{newState:0,oldState:0})),kn=[9,13,27,32],_n=Mt&&"CompositionEvent"in window,Sn=null;Mt&&"documentMode"in document&&(Sn=document.documentMode);var Cn=Mt&&"TextEvent"in window&&!Sn,En=Mt&&(!_n||Sn&&8<Sn&&11>=Sn),xn=String.fromCharCode(32),In=!1;function Nn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Rn(e,t,n,r){jt?Rt?Rt.push(r):Rt=[r]:jt=r,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,On=null;function Ln(e){Lu(e,0)}function Bn(e){if(ht($e(e)))return e}function Mn(e,t){if("change"===e)return t}var Fn=!1;if(Mt){var Un;if(Mt){var zn="oninput"in document;if(!zn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),zn="function"===typeof Vn.oninput}Un=zn}else Un=!1;Fn=Un&&(!document.documentMode||9<document.documentMode)}function $n(){Dn&&(Dn.detachEvent("onpropertychange",qn),On=Dn=null)}function qn(e){if("value"===e.propertyName&&Bn(On)){var t=[];Rn(t,On,e,At(e)),Lt(Ln,t)}}function Hn(e,t,n){"focusin"===e?($n(),On=n,(Dn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&$n()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(On)}function Gn(e,t){if("click"===e)return Bn(t)}function Kn(e,t){if("input"===e||"change"===e)return Bn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Y.call(t,o)||!Qn(e[o],t[o]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Mt&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ir=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=qu(or,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Mt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){wr.set(e,t),Ke(t,[e])}kr.push("scrollEnd");var Sr=new WeakMap;function Cr(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Er=[],xr=0,Ir=0;function Nr(){for(var e=xr,t=Ir=xr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var o=Er[t];Er[t++]=null;var i=Er[t];if(Er[t++]=null,null!==r&&null!==o){var s=r.pending;null===s?o.next=o:(o.next=s.next,s.next=o),r.pending=o}0!==i&&jr(n,o,i)}}function Pr(e,t,n,r){Er[xr++]=e,Er[xr++]=t,Er[xr++]=n,Er[xr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return Pr(e,t,n,r),Rr(e)}function Ar(e,t){return Pr(e,null,null,t),Rr(e)}function jr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-fe(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Rr(e){if(50<jc)throw jc=0,Rc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Or(e,t,n,r)}function Br(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,o,i){var a=0;if(r=e,"function"===typeof e)Br(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=Lr(31,n,t,o)).elementType=I,e.lanes=i,e;case g:return zr(n.children,o,i,t);case v:a=8,o|=24;break;case y:return(e=Lr(12,n,t,2|o)).elementType=y,e.lanes=i,e;case S:return(e=Lr(13,n,t,o)).elementType=S,e.lanes=i,e;case C:return(e=Lr(19,n,t,o)).elementType=C,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case k:a=10;break e;case w:a=9;break e;case _:a=11;break e;case E:a=14;break e;case x:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(a,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function zr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function $r(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Hr=0,Wr=null,Gr=0,Kr=[],Qr=0,Yr=null,Xr=1,Jr="";function Zr(e,t){qr[Hr++]=Gr,qr[Hr++]=Wr,Wr=e,Gr=t}function eo(e,t,n){Kr[Qr++]=Xr,Kr[Qr++]=Jr,Kr[Qr++]=Yr,Yr=e;var r=Xr;e=Jr;var o=32-fe(r)-1;r&=~(1<<o),n+=1;var i=32-fe(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Xr=1<<32-fe(t)+o|n<<o|r,Jr=i+e}else Xr=1<<i|n<<o|r,Jr=e}function to(e){null!==e.return&&(Zr(e,1),eo(e,1,0))}function no(e){for(;e===Wr;)Wr=qr[--Hr],qr[Hr]=null,Gr=qr[--Hr],qr[Hr]=null;for(;e===Yr;)Yr=Kr[--Qr],Kr[Qr]=null,Jr=Kr[--Qr],Kr[Qr]=null,Xr=Kr[--Qr],Kr[Qr]=null}var ro=null,oo=null,io=!1,so=null,ao=!1,lo=Error(s(519));function co(e){throw go(Cr(Error(s(418,"")),e)),lo}function uo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[je]=e,t[Re]=r,n){case"dialog":Bu("cancel",t),Bu("close",t);break;case"iframe":case"object":case"embed":Bu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Bu(Du[n],t);break;case"source":Bu("error",t);break;case"img":case"image":case"link":Bu("error",t),Bu("load",t);break;case"details":Bu("toggle",t);break;case"input":Bu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Bu("invalid",t);break;case"textarea":Bu("invalid",t),kt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Bu("beforetoggle",t),Bu("toggle",t)),null!=r.onScroll&&Bu("scroll",t),null!=r.onScrollEnd&&Bu("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||co(e)}function ho(e){for(ro=e.return;ro;)switch(ro.tag){case 5:case 13:return void(ao=!1);case 27:case 3:return void(ao=!0);default:ro=ro.return}}function fo(e){if(e!==ro)return!1;if(!io)return ho(e),io=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&oo&&co(e),ho(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oo=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oo=null}}else 27===n?(n=oo,fd(e.type)?(e=yd,yd=null,oo=e):oo=n):oo=ro?vd(e.stateNode.nextSibling):null;return!0}function po(){oo=ro=null,io=!1}function mo(){var e=so;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),so=null),e}function go(e){null===so?so=[e]:so.push(e)}var vo=F(null),yo=null,bo=null;function wo(e,t,n){z(vo,t._currentValue),t._currentValue=n}function ko(e){e._currentValue=vo.current,U(vo)}function _o(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function So(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var a=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),_o(i.return,n,e),r||(a=null);break e}i=l.next}}else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(i=a.alternate)&&(i.lanes|=n),_o(a,n,e),a=null}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}}function Co(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var a=o.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=o.type;Qn(o.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(o===H.current){if(null===(a=o.alternate))throw Error(s(387));a.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Kd):e=[Kd])}o=o.return}null!==e&&So(t,e,n,r),t.flags|=262144}function Eo(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xo(e){yo=e,bo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Io(e){return Po(yo,e)}function No(e,t){return null===yo&&xo(e),Po(e,t)}function Po(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bo){if(null===e)throw Error(s(308));bo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bo=bo.next=t;return n}var To="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ao=r.unstable_scheduleCallback,jo=r.unstable_NormalPriority,Ro={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Do(){return{controller:new To,data:new Map,refCount:0}}function Oo(e){e.refCount--,0===e.refCount&&Ao(jo,function(){e.controller.abort()})}var Lo=null,Bo=0,Mo=0,Fo=null;function Uo(){if(0===--Bo&&null!==Lo){null!==Fo&&(Fo.status="fulfilled");var e=Lo;Lo=null,Mo=0,Fo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zo=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Lo){var n=Lo=[];Bo=0,Mo=Pu(),Fo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bo++,t.then(Uo,Uo)}(0,t),null!==zo&&zo(e,t)};var Vo=F(null);function $o(){var e=Vo.current;return null!==e?e:rc.pooledCache}function qo(e,t){z(Vo,null===t?Vo.current:t.pool)}function Ho(){var e=$o();return null===e?null:{parent:Ro._currentValue,pool:e}}var Wo=Error(s(460)),Go=Error(s(474)),Ko=Error(s(542)),Qo={then:function(){}};function Yo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xo(){}function Jo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xo,Xo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xo,Xo);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e}throw Zo=t,Wo}}var Zo=null;function ei(){if(null===Zo)throw Error(s(459));var e=Zo;return Zo=null,e}function ti(e){if(e===Wo||e===Ko)throw Error(s(483))}var ni=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Rr(e),jr(e,null,n),t}return Pr(e,r,t,n),Rr(e)}function ai(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}function li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ci=!1;function ui(){if(ci){if(null!==Fo)throw Fo}}function di(e,t,n,r){ci=!1;var o=e.updateQueue;ni=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(ic&f)===f:(r&f)===f){0!==f&&f===Mo&&(ci=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;f=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(v,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ni=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=o.callbacks)?o.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(p=a).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=d}}function hi(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function fi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hi(n[e],t)}var pi=F(null),mi=F(0);function gi(e,t){z(mi,e=dc),z(pi,t),dc=e|t.baseLanes}function vi(){z(mi,dc),z(pi,pi.current)}function yi(){dc=mi.current,U(pi),U(mi)}var bi=0,wi=null,ki=null,_i=null,Si=!1,Ci=!1,Ei=!1,xi=0,Ii=0,Ni=null,Pi=0;function Ti(){throw Error(s(321))}function Ai(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function ji(e,t,n,r,o,i){return bi=i,wi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ws:Gs,Ei=!1,i=n(r,o),Ei=!1,Ci&&(i=Di(t,n,r,o)),Ri(e),i}function Ri(e){D.H=Hs;var t=null!==ki&&null!==ki.next;if(bi=0,_i=ki=wi=null,Si=!1,Ii=0,Ni=null,t)throw Error(s(300));null===e||Ia||null!==(e=e.dependencies)&&Eo(e)&&(Ia=!0)}function Di(e,t,n,r){wi=e;var o=0;do{if(Ci&&(Ni=null),Ii=0,Ci=!1,25<=o)throw Error(s(301));if(o+=1,_i=ki=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=Ks,i=t(n,r)}while(Ci);return i}function Oi(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?zi(t):t,e=e.useState()[0],(null!==ki?ki.memoizedState:null)!==e&&(wi.flags|=1024),t}function Li(){var e=0!==xi;return xi=0,e}function Bi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mi(e){if(Si){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Si=!1}bi=0,_i=ki=wi=null,Ci=!1,Ii=xi=0,Ni=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_i?wi.memoizedState=_i=e:_i=_i.next=e,_i}function Ui(){if(null===ki){var e=wi.alternate;e=null!==e?e.memoizedState:null}else e=ki.next;var t=null===_i?wi.memoizedState:_i.next;if(null!==t)_i=t,ki=e;else{if(null===e){if(null===wi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(ki=e).memoizedState,baseState:ki.baseState,baseQueue:ki.baseQueue,queue:ki.queue,next:null},null===_i?wi.memoizedState=_i=e:_i=_i.next=e}return _i}function zi(e){var t=Ii;return Ii+=1,null===Ni&&(Ni=[]),e=Jo(Ni,e,t),t=wi,null===(null===_i?t.memoizedState:_i.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ws:Gs),e}function Vi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return zi(e);if(e.$$typeof===k)return Io(e)}throw Error(s(438,String(e)))}function $i(e){var t=null,n=wi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function qi(e,t){return"function"===typeof t?t(e):t}function Hi(e){return Wi(Ui(),ki,e)}function Wi(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=a=null,c=null,u=t=o.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(bi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Mo&&(d=!0);else{if((bi&f)===f){u=u.next,f===Mo&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=i):c=c.next=h,wi.lanes|=f,fc|=f}h=u.action,Ei&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=i):c=c.next=f,wi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=i:c.next=l,!Qn(i,e.memoizedState)&&(Ia=!0,d&&null!==(n=Fo)))throw n;e.memoizedState=i,e.baseState=a,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Gi(e){var t=Ui(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);Qn(i,t.memoizedState)||(Ia=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ki(e,t,n){var r=wi,o=Ui(),i=io;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Qn((ki||o).memoizedState,n);if(a&&(o.memoizedState=n,Ia=!0),o=o.queue,vs(2048,8,Xi.bind(null,r,o,e),[e]),o.getSnapshot!==t||a||null!==_i&&1&_i.memoizedState.tag){if(r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,o,n,t),null),null===rc)throw Error(s(349));i||0!==(124&bi)||Qi(r,t,n)}return n}function Qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,r){t.value=n,t.getSnapshot=r,Ji(t)&&Zi(e)}function Xi(e,t,n){return n(function(){Ji(t)&&Zi(e)})}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Zi(e){var t=Ar(e,2);null!==t&&Lc(t,e,2)}function es(e){var t=Fi();if("function"===typeof e){var n=e;if(e=n(),Ei){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,Wi(e,ki,"function"===typeof r?r:qi)}function ns(e,t,n,r,o){if(Vs(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,rs(t,i)):(i.next=n.next,t.pending=n.next=i)}}function rs(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=D.T,s={};D.T=s;try{var a=n(o,r),l=D.S;null!==l&&l(s,a),os(e,t,a)}catch(c){ss(e,t,c)}finally{D.T=i}}else try{os(e,t,i=n(o,r))}catch(u){ss(e,t,u)}}function os(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){is(e,t,n)},function(n){return ss(e,t,n)}):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==r)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(io){var n=rc.formState;if(null!==n){e:{var r=wi;if(io){if(oo){t:{for(var o=oo,i=ao;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=vd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){oo=vd(o.nextSibling),r="F!"===o.data;break e}}co(r)}r=!1}r&&(t=n[0])}}return(n=Fi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=Fs.bind(null,wi,r),r.dispatch=n,r=es(!1),i=zs.bind(null,wi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=Fi()).queue=o,n=ns.bind(null,wi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function us(e){return ds(Ui(),ki,e)}function ds(e,t,n){if(t=Wi(e,t,ls)[0],e=Hi(qi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=zi(t)}catch(s){if(s===Wo)throw Ko;throw s}else r=t;var o=(t=Ui()).queue,i=o.dispatch;return n!==t.memoizedState&&(wi.flags|=2048,ps(9,{destroy:void 0,resource:void 0},hs.bind(null,o,n),null)),[r,i,e]}function hs(e,t){e.action=t}function fs(e){var t=Ui(),n=ki;if(null!==n)return ds(t,n,e);Ui(),t=t.memoizedState;var r=(n=Ui()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return Ui().memoizedState}function gs(e,t,n,r){var o=Fi();r=void 0===r?null:r,wi.flags|=e,o.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function vs(e,t,n,r){var o=Ui();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==ki&&null!==r&&Ai(r,ki.memoizedState.deps)?o.memoizedState=ps(t,i,n,r):(wi.flags|=e,o.memoizedState=ps(1|t,i,n,r))}function ys(e,t){gs(8390656,8,e,t)}function bs(e,t){vs(2048,8,e,t)}function ws(e,t){return vs(4,2,e,t)}function ks(e,t){return vs(4,4,e,t)}function _s(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ss(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vs(4,4,_s.bind(null,t,e),n)}function Cs(){}function Es(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ai(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xs(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ai(t,r[1]))return r[0];if(r=e(),Ei){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Is(e,t,n){return void 0===n||0!==(1073741824&bi)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),wi.lanes|=e,fc|=e,n)}function Ns(e,t,n,r){return Qn(n,t)?n:null!==pi.current?(e=Is(e,n,r),Qn(e,t)||(Ia=!0),e):0===(42&bi)?(Ia=!0,e.memoizedState=n):(e=Oc(),wi.lanes|=e,fc|=e,t)}function Ps(e,t,n,r,o){var i=O.p;O.p=0!==i&&8>i?i:8;var s=D.T,a={};D.T=a,zs(e,!1,t,n);try{var l=o(),c=D.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else Us(e,t,r,Dc())}catch(u){Us(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{O.p=i,D.T=s}}function Ts(){}function As(e,t,n,r){if(5!==e.tag)throw Error(s(476));var o=js(e).queue;Ps(e,o,t,L,null===n?Ts:function(){return Rs(e),n(r)})}function js(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Rs(e){Us(e,js(e).next.queue,{},Dc())}function Ds(){return Io(Kd)}function Os(){return Ui().memoizedState}function Ls(){return Ui().memoizedState}function Bs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=si(t,e=ii(n),n);return null!==r&&(Lc(r,t,n),ai(r,t,n)),t={cache:Do()},void(e.payload=t)}t=t.return}}function Ms(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vs(e)?$s(t,n):null!==(n=Tr(e,t,n,r))&&(Lc(n,e,r),qs(n,t,r))}function Fs(e,t,n){Us(e,t,n,Dc())}function Us(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vs(e))$s(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Qn(a,s))return Pr(e,t,o,0),null===rc&&Nr(),!1}catch(l){}if(null!==(n=Tr(e,t,o,r)))return Lc(n,e,r),qs(n,t,r),!0}return!1}function zs(e,t,n,r){if(r={lane:2,revertLane:Pu(),action:r,hasEagerState:!1,eagerState:null,next:null},Vs(e)){if(t)throw Error(s(479))}else null!==(t=Tr(e,n,r,2))&&Lc(t,e,2)}function Vs(e){var t=e.alternate;return e===wi||null!==t&&t===wi}function $s(e,t){Ci=Si=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}var Hs={readContext:Io,use:Vi,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useLayoutEffect:Ti,useInsertionEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useSyncExternalStore:Ti,useId:Ti,useHostTransitionStatus:Ti,useFormState:Ti,useActionState:Ti,useOptimistic:Ti,useMemoCache:Ti,useCacheRefresh:Ti},Ws={readContext:Io,use:Vi,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4194308,4,_s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=Fi();t=void 0===t?null:t;var r=e();if(Ei){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fi();if(void 0!==n){var o=n(t);if(Ei){he(!0);try{n(t)}finally{he(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Ms.bind(null,wi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=Fs.bind(null,wi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Cs,useDeferredValue:function(e,t){return Is(Fi(),e,t)},useTransition:function(){var e=es(!1);return e=Ps.bind(null,wi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wi,o=Fi();if(io){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ic)||Qi(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,ys(Xi.bind(null,r,i,e),[e]),r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,i,n,t),null),n},useId:function(){var e=Fi(),t=rc.identifierPrefix;if(io){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=xi++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Pi++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ds,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=zs.bind(null,wi,!0,n),n.dispatch=t,[e,t]},useMemoCache:$i,useCacheRefresh:function(){return Fi().memoizedState=Bs.bind(null,wi)}},Gs={readContext:Io,use:Vi,useCallback:Es,useContext:Io,useEffect:bs,useImperativeHandle:Ss,useInsertionEffect:ws,useLayoutEffect:ks,useMemo:xs,useReducer:Hi,useRef:ms,useState:function(){return Hi(qi)},useDebugValue:Cs,useDeferredValue:function(e,t){return Ns(Ui(),ki.memoizedState,e,t)},useTransition:function(){var e=Hi(qi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Ki,useId:Os,useHostTransitionStatus:Ds,useFormState:us,useActionState:us,useOptimistic:function(e,t){return ts(Ui(),0,e,t)},useMemoCache:$i,useCacheRefresh:Ls},Ks={readContext:Io,use:Vi,useCallback:Es,useContext:Io,useEffect:bs,useImperativeHandle:Ss,useInsertionEffect:ws,useLayoutEffect:ks,useMemo:xs,useReducer:Gi,useRef:ms,useState:function(){return Gi(qi)},useDebugValue:Cs,useDeferredValue:function(e,t){var n=Ui();return null===ki?Is(n,e,t):Ns(n,ki.memoizedState,e,t)},useTransition:function(){var e=Gi(qi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Ki,useId:Os,useHostTransitionStatus:Ds,useFormState:fs,useActionState:fs,useOptimistic:function(e,t){var n=Ui();return null!==ki?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$i,useCacheRefresh:Ls},Qs=null,Ys=0;function Xs(e){var t=Ys;return Ys+=1,null===Qs&&(Qs=[]),Jo(Qs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Mr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===x&&ea(i)===t.type)?(Js(t=o(t,n.props),n),t.return=e,t):(Js(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=zr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Js(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=$r(t,e.mode,n)).return=e,t;case x:return h(e,t=(0,t._init)(t._payload),n)}if(R(t)||T(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xs(t),n);if(t.$$typeof===k)return h(e,No(e,t),n);Zs(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===o?c(e,t,n,r):null;case m:return n.key===o?u(e,t,n,r):null;case x:return f(e,t,n=(o=n._init)(n._payload),r)}if(R(n)||T(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Xs(n),r);if(n.$$typeof===k)return f(e,t,No(e,n),r);Zs(e,n)}return null}function v(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case x:return v(e,t,n,r=(0,r._init)(r._payload),o)}if(R(r)||T(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return v(e,t,n,Xs(r),o);if(r.$$typeof===k)return v(e,t,n,No(t,r),o);Zs(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=o(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===x&&ea(b)===c.type){n(l,c.sibling),Js(d=o(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=zr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Js(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=o(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=$r(u,l.mode,d)).return=l,l=d}return a(l);case x:return y(l,c,u=(b=u._init)(u._payload),d)}if(R(u))return function(o,s,a,l){for(var c=null,u=null,d=s,p=s=0,m=null;null!==d&&p<a.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(o,d,a[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(o,d),s=i(g,s,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===a.length)return n(o,d),io&&Zr(o,p),c;if(null===d){for(;p<a.length;p++)null!==(d=h(o,a[p],l))&&(s=i(d,s,p),null===u?c=d:u.sibling=d,u=d);return io&&Zr(o,p),c}for(d=r(d);p<a.length;p++)null!==(m=v(d,o,p,a[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=i(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(o,e)}),io&&Zr(o,p),c}(l,c,u,d);if(T(u)){if("function"!==typeof(b=T(u)))throw Error(s(150));return function(o,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=a,m=a=0,g=null,y=l.next();null!==p&&!y.done;m++,y=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(o,p,y.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(o,p),a=i(b,a,m),null===d?u=b:d.sibling=b,d=b,p=g}if(y.done)return n(o,p),io&&Zr(o,m),u;if(null===p){for(;!y.done;m++,y=l.next())null!==(y=h(o,y.value,c))&&(a=i(y,a,m),null===d?u=y:d.sibling=y,d=y);return io&&Zr(o,m),u}for(p=r(p);!y.done;m++,y=l.next())null!==(y=v(p,o,m,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),a=i(y,a,m),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach(function(e){return t(o,e)}),io&&Zr(o,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,Xs(u),d);if(u.$$typeof===k)return y(l,c,No(l,u),d);Zs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=o(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{Ys=0;var o=y(e,t,n,r);return Qs=null,o}catch(s){if(s===Wo||s===Ko)throw s;var i=Lr(29,s,null,e.mode);return i.lanes=r,i.return=e,i}}}var na=ta(!0),ra=ta(!1),oa=F(null),ia=null;function sa(e){var t=e.alternate;z(ua,1&ua.current),z(oa,e),null===ia&&(null===t||null!==pi.current||null!==t.memoizedState)&&(ia=e)}function aa(e){if(22===e.tag){if(z(ua,ua.current),z(oa,e),null===ia){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ia=e)}}else la()}function la(){z(ua,ua.current),z(oa,oa.current)}function ca(e){U(oa),ia===e&&(ia=null),U(ua)}var ua=F(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),o=ii(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=si(e,o,r))&&(Lc(t,e,r),ai(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),o=ii(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=si(e,o,r))&&(Lc(t,e,r),ai(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=ii(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=si(e,r,n))&&(Lc(t,e,n),ai(t,e,n))}};function pa(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(o,i))}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=h({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var va="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ya(e){va(e)}function ba(e){console.error(e)}function wa(e){va(e)}function ka(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function _a(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Sa(e,t,n){return(n=ii(n)).tag=3,n.payload={element:null},n.callback=function(){ka(e,t)},n}function Ca(e){return(e=ii(e)).tag=3,e}function Ea(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){_a(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){_a(t,n,r),"function"!==typeof o&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var xa=Error(s(461)),Ia=!1;function Na(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Pa(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return xo(t),r=ji(e,t,n,s,i,o),a=Li(),null===e||Ia?(io&&a&&to(t),t.flags|=1,Na(e,t,r,o),t.child):(Bi(e,t,o),Qa(e,t,o))}function Ta(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Br(i)||void 0!==i.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Aa(e,t,i,r,o))}if(i=e.child,!Ya(e,o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return Qa(e,t,o)}return t.flags|=1,(e=Mr(i,r)).ref=t.ref,e.return=t,t.child=e}function Aa(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(Ia=!1,t.pendingProps=r=i,!Ya(e,o))return t.lanes=e.lanes,Qa(e,t,o);0!==(131072&e.flags)&&(Ia=!0)}}return Oa(e,t,n,r,o)}function ja(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ra(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ra(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qo(0,null!==i?i.cachePool:null),null!==i?gi(t,i):vi(),aa(t)}else null!==i?(qo(0,i.cachePool),gi(t,i),la(),t.memoizedState=null):(null!==e&&qo(0,null),vi(),la());return Na(e,t,o,n),t.child}function Ra(e,t,n,r){var o=$o();return o=null===o?null:{parent:Ro._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&qo(0,null),vi(),aa(t),null!==e&&Co(e,t,r,!0),null}function Da(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oa(e,t,n,r,o){return xo(t),n=ji(e,t,n,r,void 0,o),r=Li(),null===e||Ia?(io&&r&&to(t),t.flags|=1,Na(e,t,n,o),t.child):(Bi(e,t,o),Qa(e,t,o))}function La(e,t,n,r,o,i){return xo(t),t.updateQueue=null,n=Di(t,r,n,o),Ri(e),r=Li(),null===e||Ia?(io&&r&&to(t),t.flags|=1,Na(e,t,n,i),t.child):(Bi(e,t,i),Qa(e,t,i))}function Ba(e,t,n,r,o){if(xo(t),null===t.stateNode){var i=Dr,s=n.contextType;"object"===typeof s&&null!==s&&(i=Io(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ri(t),s=n.contextType,i.context="object"===typeof s&&null!==s?Io(s):Dr,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ha(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&fa.enqueueReplaceState(i,i.state,null),di(t,r,i,o),ui(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var a=t.memoizedProps,l=ga(n,a);i.props=l;var c=i.context,u=n.contextType;s=Dr,"object"===typeof u&&null!==u&&(s=Io(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a||c!==s)&&ma(t,i,r,s),ni=!1;var h=t.memoizedState;i.state=h,di(t,r,i,o),ui(),c=t.memoizedState,a||h!==c||ni?("function"===typeof d&&(ha(t,n,d,r),c=t.memoizedState),(l=ni||pa(t,n,l,r,h,c,s))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,oi(e,t),u=ga(n,s=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Io(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==l)&&ma(t,i,r,l),ni=!1,h=t.memoizedState,i.state=h,di(t,r,i,o),ui();var f=t.memoizedState;s!==d||h!==f||ni||null!==e&&null!==e.dependencies&&Eo(e.dependencies)?("function"===typeof a&&(ha(t,n,a,r),f=t.memoizedState),(u=ni||pa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Eo(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Da(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,o),t.child=na(t,null,n,o)):Na(e,t,n,o),t.memoizedState=i.state,e=t.child):e=Qa(e,t,o),e}function Ma(e,t,n,r){return po(),t.flags|=256,Na(e,t,n,r),t.child}var Fa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ua(e){return{baseLanes:e,cachePool:Ho()}}function za(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Va(e,t,n){var r,o=t.pendingProps,i=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(io){if(i?sa(t):la(),io){var l,c=oo;if(l=c){e:{for(l=c,c=ao;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ro=t,oo=null,l=!0):l=!1}l||co(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=o.children,o=o.fallback,i?(la(),c=qa({mode:"hidden",children:c},i=t.mode),o=zr(o,i,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(i=t.child).memoizedState=Ua(n),i.childLanes=za(e,r,n),t.memoizedState=Fa,o):(sa(t),$a(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Ha(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),i=o.fallback,c=t.mode,o=qa({mode:"visible",children:o.children},c),(i=zr(i,c,n,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,na(t,e.child,null,n),(o=t.child).memoizedState=Ua(n),o.childLanes=za(e,r,n),t.memoizedState=Fa,t=i);else if(sa(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(s(419))).stack="",o.digest=r,go({value:o,source:null,stack:null}),t=Ha(e,t,n)}else if(Ia||Co(e,t,n,!1),r=0!==(n&e.childLanes),Ia||r){if(null!==(r=rc)&&(0!==(o=0!==((o=0!==(42&(o=n&-n))?1:Ne(o))&(r.suspendedLanes|n))?0:o)&&o!==l.retryLane))throw l.retryLane=o,Ar(e,o),Lc(r,e,o),xa;"$?"===c.data||Gc(),t=Ha(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,oo=vd(c.nextSibling),ro=t,io=!0,so=null,ao=!1,null!==e&&(Kr[Qr++]=Xr,Kr[Qr++]=Jr,Kr[Qr++]=Yr,Xr=e.id,Jr=e.overflow,Yr=t),(t=$a(t,o.children)).flags|=4096);return t}return i?(la(),i=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=Mr(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Mr(u,i):(i=zr(i,c,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,null===(c=e.child.memoizedState)?c=Ua(n):(null!==(l=c.cachePool)?(u=Ro._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ho(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=za(e,r,n),t.memoizedState=Fa,o):(sa(t),e=(n=e.child).sibling,(n=Mr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $a(e,t){return(t=qa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qa(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ha(e,t,n){return na(t,e.child,null,n),(e=$a(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_o(e.return,t,n)}function Ga(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ka(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Na(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n,t);else if(19===e.tag)Wa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(ua,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ga(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===da(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ga(t,!0,n,null,i);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Co(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Eo(e))}function Xa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ia=!0;else{if(!Ya(e,n)&&0===(128&t.flags))return Ia=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),wo(0,Ro,e.memoizedState.cache),po();break;case 27:case 5:K(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:wo(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Va(e,t,n):(sa(t),null!==(e=Qa(e,t,n))?e.sibling:null);sa(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Co(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return Ka(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),z(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,ja(e,t,n);case 24:wo(0,Ro,e.memoizedState.cache)}return Qa(e,t,n)}(e,t,n);Ia=0!==(131072&e.flags)}else Ia=!1,io&&0!==(1048576&t.flags)&&eo(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===_){t.tag=11,t=Pa(null,t,r,e,n);break e}if(o===E){t.tag=14,t=Ta(null,t,r,e,n);break e}}throw t=j(r)||r,Error(s(306,t,""))}Br(r)?(e=ga(r,e),t.tag=1,t=Ba(null,t,r,e,n)):(t.tag=0,t=Oa(null,t,r,e,n))}return t;case 0:return Oa(e,t,t.type,t.pendingProps,n);case 1:return Ba(e,t,r=t.type,o=ga(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,oi(e,t),di(t,r,null,n);var a=t.memoizedState;if(r=a.cache,wo(0,Ro,r),r!==i.cache&&So(t,[Ro],n,!0),ui(),r=a.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ma(e,t,r,n);break e}if(r!==o){go(o=Cr(Error(s(424)),t)),t=Ma(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oo=vd(e.firstChild),ro=t,io=!0,so=null,ao=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===o){t=Qa(e,t,n);break e}Na(e,t,r,n)}t=t.child}return t;case 26:return Da(e,t),null===e?(n=Nd(t.type,null,t.pendingProps,null))?t.memoizedState=n:io||(n=t.type,e=t.pendingProps,(r=rd(q.current).createElement(n))[je]=t,r[Re]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=Nd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&io&&(r=t.stateNode=wd(t.type,t.pendingProps,q.current),ro=t,ao=!0,o=oo,fd(t.type)?(yd=o,oo=vd(r.firstChild)):oo=o),Na(e,t,t.pendingProps.children,n),Da(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&io&&((o=r=oo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ao))?(t.stateNode=r,ro=t,oo=vd(r.firstChild),ao=!1,o=!0):o=!1),o||co(t)),K(t),o=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,r=i.children,sd(o,i)?r=null:null!==a&&sd(o,a)&&(t.flags|=32),null!==t.memoizedState&&(o=ji(e,t,Oi,null,null,n),Kd._currentValue=o),Da(e,t),Na(e,t,r,n),t.child;case 6:return null===e&&io&&((e=n=oo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,ao))?(t.stateNode=n,ro=t,oo=null,e=!0):e=!1),e||co(t)),null;case 13:return Va(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):Na(e,t,r,n),t.child;case 11:return Pa(e,t,t.type,t.pendingProps,n);case 7:return Na(e,t,t.pendingProps,n),t.child;case 8:case 12:return Na(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wo(0,t.type,r.value),Na(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,xo(t),r=r(o=Io(o)),t.flags|=1,Na(e,t,r,n),t.child;case 14:return Ta(e,t,t.type,t.pendingProps,n);case 15:return Aa(e,t,t.type,t.pendingProps,n);case 19:return Ka(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qa(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Mr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return ja(e,t,n);case 24:return xo(t),r=Io(Ro),null===e?(null===(o=$o())&&(o=rc,i=Do(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},ri(t),wo(0,Ro,o)):(0!==(e.lanes&n)&&(oi(e,t),di(t,null,null,n),ui()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),wo(0,Ro,r)):(r=i.cache,wo(0,Ro,r),r!==o.cache&&So(t,[Ro],n,!0))),Na(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ja(e){e.flags|=4}function Za(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zd(t)){if(null!==(t=oa.current)&&((4194048&ic)===ic?null!==ia:(62914560&ic)!==ic&&0===(536870912&ic)||t!==ia))throw Zo=Qo,Go;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ko(Ro),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fo(t)?Ja(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mo())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Ja(t),null!==n?(nl(t),Za(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ja(t),nl(t),Za(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ja(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=q.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=V.current,fo(t)?uo(t):(e=wd(o,r,n),t.stateNode=e,Ja(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=V.current,fo(t))uo(t);else{switch(o=rd(q.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[je]=t,e[Re]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ja(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=q.current,fo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=ro))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[je]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||co(t)}else(e=rd(e).createTextNode(r))[je]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[je]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),o=!1}else o=mo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return ko(t.type),nl(t),null;case 19:if(U(ua),null===(o=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=o.rendering))if(r)tl(o,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=da(e))){for(t.flags|=128,tl(o,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return z(ua,1&ua.current|2),t.child}e=e.sibling}null!==o.tail&&te()>_c&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=da(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!io)return nl(t),null}else 2*te()-o.renderingStartTime>_c&&536870912!==n&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,e=ua.current,z(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),yi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Vo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ko(Ro),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ol(e,t){switch(no(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ko(Ro),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(ua),null;case 4:return G(),null;case 10:return ko(t.type),null;case 22:case 23:return ca(t),yi(),null!==e&&U(Vo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ko(Ro),null;default:return null}}function il(e,t){switch(no(t),t.tag){case 3:ko(Ro),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 13:ca(t);break;case 19:U(ua);break;case 10:ko(t.type);break;case 22:case 23:ca(t),yi(),null!==e&&U(Vo);break;case 24:ko(Ro)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==o)}}catch(a){uu(t,t.return,a)}}function al(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,o=t;var l=n,c=a;try{c()}catch(u){uu(o,l,u)}}}r=r.next}while(r!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fi(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){uu(e,t,o)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){uu(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){uu(e,e.return,o)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":o=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Ju(e,t,f,p,r,h)}}return void gt(e,a,l,c,u,d,i,o);case"select":for(i in p=a=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Ju(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":a=i;default:i!==c&&Ju(e,t,o,i,r,c)}return t=l,n=a,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,o)}for(a in r)if(o=r[a],i=n[a],r.hasOwnProperty(a)&&(null!=o||null!=i))switch(a){case"value":f=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:o!==i&&Ju(e,t,a,o,r,i)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(xt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&Zu(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Ju(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Ju(e,t,h,f,r,p)}(r,e.type,n,t),r[Re]=t}catch(o){uu(e,e.return,o)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ed(t,r,n),t[je]=e,t[Re]=n}catch(i){uu(e,e.return,i)}}var bl=!1,wl=!1,kl=!1,_l="function"===typeof WeakSet?WeakSet:Set,Sl=null;function Cl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Bl(e,n),4&r&&sl(5,n);break;case 1:if(Bl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var o=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Bl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fi(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Bl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Bl(e,n);break;case 13:Bl(e,n),4&r&&Tl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,o=bl;var i=wl;bl=r,(wl=t)&&!i?Fl(e,n,0!==(8772&n.subtreeFlags)):Bl(e,n),bl=o,wl=i}break;case 30:break;default:Bl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xl=null,Il=!1;function Nl(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:wl||dl(n,t),Nl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=xl,o=Il;fd(n.type)&&(xl=n.stateNode,Il=!1),Nl(e,t,n),kd(n.stateNode),xl=r,Il=o;break;case 5:wl||dl(n,t);case 6:if(r=xl,o=Il,xl=null,Nl(e,t,n),Il=o,null!==(xl=r))if(Il)try{(9===xl.nodeType?xl.body:"HTML"===xl.nodeName?xl.ownerDocument.body:xl).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{xl.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==xl&&(Il?(pd(9===(e=xl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ih(e)):pd(xl,n.stateNode));break;case 4:r=xl,o=Il,xl=n.stateNode.containerInfo,Il=!0,Nl(e,t,n),xl=r,Il=o;break;case 0:case 11:case 14:case 15:wl||al(2,n,t),wl||al(4,n,t),Nl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Nl(e,t,n),wl=r;break;default:Nl(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ih(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _l),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _l),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function jl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){xl=l.stateNode,Il=!1;break e}break;case 5:xl=l.stateNode,Il=!1;break e;case 3:case 4:xl=l.stateNode.containerInfo,Il=!0;break e}l=l.return}if(null===xl)throw Error(s(160));Pl(i,a,o),xl=null,Il=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Rl=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jl(t,e),Ol(e),4&r&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:jl(t,e),Ol(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Rl;if(jl(t,e),Ol(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[Fe]||i[je]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),ed(i,r,n),i[je]=e,He(i),r=i;break e;case"link":var a=Fd("link","href",o).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((i=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(a=Fd("meta","content",o).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((i=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(s(468,r))}i[je]=e,He(i),r=i}e.stateNode=r}else Ud(o,e.type,e.stateNode);else e.stateNode=Dd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Ud(o,e.type,e.stateNode):Dd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:jl(t,e),Ol(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jl(t,e),Ol(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){o=e.stateNode;try{_t(o,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(kl=!0);break;case 6:if(jl(t,e),Ol(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Md=null,o=Rl,Rl=Cd(t.containerInfo),jl(t,e),Rl=o,Ol(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ih(t.containerInfo)}catch(p){uu(e,e.return,p)}kl&&(kl=!1,Ll(e));break;case 4:r=Rl,Rl=Cd(e.stateNode.containerInfo),jl(t,e),Ol(e),Rl=r;break;case 12:default:jl(t,e),Ol(e);break;case 13:jl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(kc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||o,wl=d||c,jl(t,e),wl=d,bl=u,Ol(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||bl||wl||Ml(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,o)"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:jl(t,e),Ol(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode;vl(e,ml(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(_t(i,""),n.flags&=-33),vl(e,ml(e),i);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,ml(e),a);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Bl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function Ml(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),Ml(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ml(t);break;case 27:kd(t.stateNode);case 26:case 5:dl(t,t.return),Ml(t);break;case 22:null===t.memoizedState&&Ml(t);break;default:Ml(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Fl(o,i,n),sl(4,i);break;case 1:if(Fl(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(o=(r=i).updateQueue)){var a=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)hi(l[o],a)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(i),ul(i,i.return);break;case 27:yl(i);case 26:case 5:Fl(o,i,n),n&&null===r&&4&s&&hl(i),ul(i,i.return);break;case 12:Fl(o,i,n);break;case 13:Fl(o,i,n),n&&4&s&&Tl(o,i);break;case 22:null===i.memoizedState&&Fl(o,i,n),ul(i,i.return);break;case 30:break;default:Fl(o,i,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oo(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oo(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,n,r),t=t.sibling}function $l(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&o&&sl(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oo(e)));break;case 12:if(2048&o){Vl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,a=i.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?Vl(e,t,n,r):Hl(e,t):2&i._visibility?Vl(e,t,n,r):(i._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&Ul(s,t);break;case 24:Vl(e,t,n,r),2048&o&&zl(t.alternate,t)}}function ql(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:ql(i,s,a,l,o),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?ql(i,s,a,l,o):Hl(i,s):(u._visibility|=2,ql(i,s,a,l,o)),o&&2048&c&&Ul(s.alternate,s);break;case 24:ql(i,s,a,l,o),o&&2048&c&&zl(s.alternate,s);break;default:ql(i,s,a,l,o)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Hl(n,r),2048&o&&Ul(r.alternate,r);break;case 24:Hl(n,r),2048&o&&zl(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Wl=8192;function Gl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:Gl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(s(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=Pd(n.href),i=e.querySelector(Td(o));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void He(i);i=e.ownerDocument||e,n=Ad(n),(o=_d.get(o))&&Ld(n,o),He(i=i.createElement("link"));var a=i;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Rl;Rl=Cd(e.stateNode.containerInfo),Gl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Gl(e),Wl=t):Gl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var o=(r=Sl).sibling,i=r.return;if(El(r),r===n){Sl=null;break e}if(null!==o){o.return=i,Sl=o;break e}Sl=i}}}var ec={getCacheForType:function(e){var t=Io(Ro),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,oc=null,ic=0,sc=0,ac=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,vc=0,yc=null,bc=null,wc=!1,kc=0,_c=1/0,Sc=null,Cc=null,Ec=0,xc=null,Ic=null,Nc=0,Pc=0,Tc=null,Ac=null,jc=0,Rc=null;function Dc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==D.T){return 0!==Mo?Mo:Pu()}return Te()}function Oc(){0===gc&&(gc=0===(536870912&ic)||io?_e():536870912);var e=oa.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||($c(e,0),Uc(e,ic,gc,!1)),Ee(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&Uc(e,ic,gc,!1)),_u(e))}function Bc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),o=r?function(e,t){var n=nc;nc|=2;var r=Hc(),o=Wc();rc!==e||ic!==t?(Sc=null,_c=te()+500,$c(e,t)):cc=we(e,t);e:for(;;)try{if(0!==sc&&null!==oc){t=oc;var i=ac;t:switch(sc){case 1:sc=0,ac=null,Zc(e,t,i,1);break;case 2:case 9:if(Yo(i)){sc=0,ac=null,Jc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),_u(e)},i.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Yo(i)?(sc=0,ac=null,Jc(t)):(sc=0,ac=null,Zc(e,t,i,7));break;case 5:var a=null;switch(oc.tag){case 26:a=oc.memoizedState;case 5:case 27:var l=oc;if(!a||zd(a)){sc=0,ac=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,eu(u)):oc=null}break t}}sc=0,ac=null,Zc(e,t,i,5);break;case 6:sc=0,ac=null,Zc(e,t,i,6);break;case 8:Vc(),hc=6;break e;default:throw Error(s(462))}}Yc();break}catch(d){qc(e,d)}return bo=yo=null,D.H=r,D.A=o,nc=n,null!==oc?0:(rc=null,ic=0,Nr(),hc)}(e,t):Kc(e,t,!0),i=r;;){if(0===o){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!i||Fc(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;o=yc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,a).flags|=256),2!==(a=Kc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,o=4;break e}i=bc,bc=o,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}o=a}if(i=!1,2!==o)continue}}if(1===o){$c(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(o=kc+300-te())){if(Uc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Mc.bind(null,r,n,bc,Sc,wc,t,gc,pc,vc,lc,i,2,-0,0),o)}else Mc(r,n,bc,Sc,wc,t,gc,pc,vc,lc,i,0,-0,0)}break}o=Kc(e,t,!1),i=!1}_u(e)}function Mc(e,t,n,r,o,i,a,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vd={stylesheets:null,count:0,unsuspend:$d},Kl(t),null!==(h=function(){if(null===Vd)throw Error(s(475));var e=Vd;return e.stylesheets&&0===e.count&&Wd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,o,a,l,c,d,1,f,p)),void Uc(e,i,a,!u);nu(e,t,i,n,r,o,a,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Qn(i(),o))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-fe(o),s=1<<i;r[i]=-1,o&=~s}0!==n&&xe(e,n,t)}function zc(){return 0!==(6&nc)||(Su(0,!1),!1)}function Vc(){if(null!==oc){if(0===sc)var e=oc.return;else bo=yo=null,Mi(e=oc),Qs=null,Ys=0,e=oc;for(;null!==e;)il(e.alternate,e),e=e.return;oc=null}}function $c(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,oc=n=Mr(e.current,null),ic=t,sc=0,ac=null,lc=!1,cc=we(e,t),uc=!1,vc=gc=mc=pc=fc=hc=0,bc=yc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-fe(r),i=1<<o;t|=e[o],r&=~i}return dc=t,Nr(),n}function qc(e,t){wi=null,D.H=Hs,t===Wo||t===Ko?(t=ei(),sc=3):t===Go?(t=ei(),sc=4):sc=t===xa?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===oc&&(hc=1,ka(e,Cr(t,e.current)))}function Hc(){var e=D.H;return D.H=Hs,null===e?Hs:e}function Wc(){var e=D.A;return D.A=ec,e}function Gc(){hc=4,lc||(4194048&ic)!==ic&&null!==oa.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Uc(rc,ic,gc,!1)}function Kc(e,t,n){var r=nc;nc|=2;var o=Hc(),i=Wc();rc===e&&ic===t||(Sc=null,$c(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==oc){var a=oc,l=ac;switch(sc){case 8:Vc(),s=6;break e;case 3:case 2:case 9:case 6:null===oa.current&&(t=!0);var c=sc;if(sc=0,ac=null,Zc(e,a,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,ac=null,Zc(e,a,l,c)}}Qc(),s=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,bo=yo=null,nc=r,D.H=o,D.A=i,null===oc&&(rc=null,ic=0,Nr()),s}function Qc(){for(;null!==oc;)Xc(oc)}function Yc(){for(;null!==oc&&!Z();)Xc(oc)}function Xc(e){var t=Xa(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=La(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=La(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Mi(t);default:il(n,t),t=Xa(n,t=oc=Fr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Zc(e,t,n,r){bo=yo=null,Mi(t),Qs=null,Ys=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Co(t,n,o,!0),null!==(n=oa.current)){switch(n.tag){case 13:return null===ia?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Qo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,o)),!1;case 22:return n.flags|=65536,r===Qo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,o)),!1}throw Error(s(435,n.tag))}return du(e,r,o),Gc(),!1}if(io)return null!==(t=oa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==lo&&go(Cr(e=Error(s(422),{cause:r}),n))):(r!==lo&&go(Cr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Cr(r,n),li(e,o=Sa(e.stateNode,r,o)),4!==hc&&(hc=2)),!1;var i=Error(s(520),{cause:r});if(i=Cr(i,n),null===yc?yc=[i]:yc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Cr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,li(n,e=Sa(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Cc||!Cc.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Ea(o=Ca(o),e,n,r),li(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,ic))return hc=1,ka(e,Cr(n,e.current)),void(oc=null)}catch(i){if(null!==o)throw oc=o,i;return hc=1,ka(e,Cr(n,e.current)),void(oc=null)}32768&t.flags?(io||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=oa.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);hc=6,oc=null}function nu(e,t,n,r,o,i,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==Ec);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&xe(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i|=Ir,a,l,c),e===rc&&(oc=rc=null,ic=0),Ic=t,xc=e,Nc=n,Pc=i,Tc=o,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,o=O.p,O.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==i||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(l=a),f===i&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(i=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=ga(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=a,O.p=o,D.T=r}}Ec=1,ru(),ou(),iu()}}function ru(){if(1===Ec){Ec=0;var e=xc,t=Ic,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var o=nc;nc|=4;try{Dl(t,e);var i=nd,s=er(e.containerInfo),a=i.focusedElem,l=i.selectionRange;if(s!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var v=Jn(a,m),y=Jn(a,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=o,O.p=r,D.T=n}}e.current=t,Ec=2}}function ou(){if(2===Ec){Ec=0;var e=xc,t=Ic,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var o=nc;nc|=4;try{Cl(e,t.alternate,t)}finally{nc=o,O.p=r,D.T=n}}Ec=3}}function iu(){if(4===Ec||3===Ec){Ec=0,ee();var e=xc,t=Ic,n=Nc,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Ic=xc=null,su(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Cc=null),Pe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,o=O.p,O.p=2,D.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];i(a.value,{componentStack:a.stack})}}finally{D.T=t,O.p=o}}0!==(3&Nc)&&au(),_u(e),o=e.pendingLanes,0!==(4194090&n)&&0!==(42&o)?e===Rc?jc++:(jc=0,Rc=e):jc=0,Su(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oo(t)))}function au(e){return ru(),ou(),iu(),lu()}function lu(){if(5!==Ec)return!1;var e=xc,t=Pc;Pc=0;var n=Pe(Nc),r=D.T,o=O.p;try{O.p=32>n?32:n,D.T=null,n=Tc,Tc=null;var i=xc,a=Nc;if(Ec=0,Ic=xc=null,Nc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Xl(i.current),$l(i,i.current,a,n),nc=l,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{O.p=o,D.T=r,su(e,t)}}function cu(e,t,n){t=Cr(n,t),null!==(e=si(e,t=Sa(e.stateNode,t,2),2))&&(Ee(e,2),_u(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Cc||!Cc.has(r))){e=Cr(n,e),null!==(r=si(t,n=Ca(2),2))&&(Ea(n,r,t,e),Ee(r,2),_u(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(uc=!0,o.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-kc?0===(2&nc)&&$c(e,0):mc|=n,vc===ic&&(vc=0)),_u(e)}function fu(e,t){0===t&&(t=Se()),null!==(e=Ar(e,t))&&(Ee(e,t),_u(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,vu=null,yu=!1,bu=!1,wu=!1,ku=0;function _u(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),bu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?X(re,Cu):Eu()}))}function Su(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var s=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=o&~(s&~a))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Nu(r,i))}else i=ic,0===(3&(i=be(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,i)||(n=!0,Nu(r,i));r=r.next}}while(n);wu=!1}}function Cu(){Eu()}function Eu(){bu=yu=!1;var e=0;0!==ku&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=ku),ku=0);for(var t=te(),n=null,r=gu;null!==r;){var o=r.next,i=xu(r,t);0===i?(r.next=null,null===n?gu=o:n.next=o,null===o&&(vu=n)):(n=r,(0!==e||0!==(3&i))&&(bu=!0)),r=o}Su(e,!1)}function xu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-fe(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=ke(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}if(n=ic,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Pe(n)){case 2:case 8:n=oe;break;case 32:default:n=ie;break;case 268435456:n=ae}return r=Iu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Iu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Bc(e,r,t),xu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Iu.bind(null,e):null)}function Nu(e,t){if(au())return null;Bc(e,t,!0)}function Pu(){return 0===ku&&(ku=_e()),ku}function Tu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var ju=0;ju<kr.length;ju++){var Ru=kr[ju];_r(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}_r(fr,"onAnimationEnd"),_r(pr,"onAnimationIteration"),_r(mr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(gr,"onTransitionRun"),_r(vr,"onTransitionStart"),_r(yr,"onTransitionCancel"),_r(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=c;try{i(o)}catch(u){va(u)}o.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=c;try{i(o)}catch(u){va(u)}o.currentTarget=null,i=l}}}}function Bu(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function Mu(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Fu]){e[Fu]=!0,We.forEach(function(t){"selectionchange"!==t&&(Ou.has(t)||Mu(t,!1,e),Mu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,Mu("selectionchange",!1,t))}}function zu(e,t,n,r){switch(ch(t)){case 2:var o=rh;break;case 8:o=oh;break;default:o=ih}n=o.bind(null,t,n,e),o=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===o)return;s=s.return}for(;null!==a;){if(null===(s=ze(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=i=s;continue e}a=a.parentNode}}r=r.return}Lt(function(){var r=i,o=At(n),s=[];e:{var a=wr.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fr:case pr:case mr:c=an;break;case br:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Bt(m,f))&&d.push($u(m,g,p)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,o),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Tt||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[De])&&(c||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?a:$e(c),p=null==u?a:$e(u),(a=new d(g,m+"leave",c,n,o)).target=h,a.relatedTarget=p,g=null,ze(o)===r&&((d=new d(f,m+"enter",u,n,o)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Hu(p))m++;for(p=0,g=f;g;g=Hu(g))p++;for(;0<m-p;)d=Hu(d),m--;for(;0<p-m;)f=Hu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Hu(d),f=Hu(f)}d=null}else d=null;null!==c&&Wu(s,a,c,d,!1),null!==u&&null!==h&&Wu(s,h,u,d,!0)}if("select"===(c=(a=r?$e(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=Mn;else if(jn(a))if(Fn)v=Kn;else{v=Wn;var y=Hn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&xt(r.elementType)&&(v=Mn):v=Gn;switch(v&&(v=v(e,r))?Rn(s,v,n,o):(y&&y(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&yt(a,"number",a.value)),y=r?$e(r):window,e){case"focusin":(jn(y)||"true"===y.contentEditable)&&(rr=y,or=r,ir=null);break;case"focusout":ir=or=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,o)}var b;if(_n)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Tn?Nn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(En&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Tn&&(b=qt()):(Vt="value"in(zt=o)?zt.value:zt.textContent,Tn=!0)),0<(y=qu(r,w)).length&&(w=new cn(w,e,null,n,o),s.push({event:w,listeners:y}),b?w.data=b:null!==(b=Pn(n))&&(w.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(In=!0,xn);case"textInput":return(e=t.data)===xn&&In?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!_n&&Nn(e,t)?(e=qt(),$t=Vt=zt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=qu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,o),s.push({event:y,listeners:w}),y.data=b)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Tu((o[Re]||null).action),s=r.submitter;s&&null!==(t=(t=s[Re]||null)?Tu(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var a=new Zt("action","action",null,r,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ku){var e=s?Au(o,s):new FormData(o);As(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(a.preventDefault(),e=s?Au(o,s):new FormData(o),As(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(s,e,r,n,o)}Lu(s,t)})}function $u(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Bt(e,n))&&r.unshift($u(e,o,i)),null!=(o=Bt(e,t))&&r.push($u(e,o,i))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,o?null!=(c=Bt(n,i))&&s.unshift($u(n,c,l)):o||null!=(c=Bt(n,i))&&s.push($u(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Ku=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Ku,"")}function Yu(e,t){return t=Qu(t),Qu(e)===t}function Xu(){}function Ju(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Ju(e,t,"name",o.name,o,null),Ju(e,t,"formEncType",o.formEncType,o,null),Ju(e,t,"formMethod",o.formMethod,o,null),Ju(e,t,"formTarget",o.formTarget,o,null)):(Ju(e,t,"encType",o.encType,o,null),Ju(e,t,"method",o.method,o,null),Ju(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Bu("scroll",e);break;case"onScrollEnd":null!=r&&Bu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Bu("beforetoggle",e),Bu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=It.get(n)||n,r)}}function Zu(e,t,n,r,o,i){switch(n){case"style":Et(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Bu("scroll",e);break;case"onScrollEnd":null!=r&&Bu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Re]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bu("error",e),Bu("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,r,a,n,null)}}return i&&Ju(e,t,"srcSet",n.srcSet,n,null),void(o&&Ju(e,t,"src",n.src,n,null));case"input":Bu("invalid",e);var l=r=a=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Ju(e,t,o,d,n,null)}}return vt(e,r,l,c,u,a,i,!1),void dt(e);case"select":for(i in Bu("invalid",e),o=a=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":o=l;default:Ju(e,t,i,l,n,null)}return t=r,n=a,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(a in Bu("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ju(e,t,a,l,n,null)}return kt(e,o,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Ju(e,t,c,o,n,null);return;case"dialog":Bu("beforetoggle",e),Bu("toggle",e),Bu("cancel",e),Bu("close",e);break;case"iframe":case"object":Bu("load",e);break;case"video":case"audio":for(o=0;o<Du.length;o++)Bu(Du[o],e);break;case"image":Bu("error",e),Bu("load",e);break;case"details":Bu("toggle",e);break;case"embed":case"source":case"link":Bu("error",e),Bu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,u,o,n,null)}return;default:if(xt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Zu(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&Ju(e,t,l,o,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&kd(s.documentElement),2&n&&kd(s.body),4&n)for(kd(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===o)return e.removeChild(i),void Ih(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Ih(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function kd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var _d=new Map,Sd=new Set;function Cd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=O.d;O.d={f:function(){var e=Ed.f(),t=zc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Rs(t):Ed.r(e)},D:function(e){Ed.D(e),Id("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Id("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=xd;if(r&&e&&t){var o='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+mt(n.imageSizes)+'"]')):o+='[href="'+mt(e)+'"]';var i=o;switch(t){case"style":i=Pd(e);break;case"script":i=jd(e)}_d.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),_d.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Td(i))||"script"===t&&r.querySelector(Rd(i))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=xd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=jd(e)}if(!_d.has(i)&&(e=h({rel:"modulepreload",href:e},t),_d.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(i)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=xd;if(n&&e){var r=qe(n).hoistableScripts,o=jd(e),i=r.get(o);i||((i=n.querySelector(Rd(o)))||(e=h({src:e,async:!0},t),(t=_d.get(o))&&Bd(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Ed.S(e,t,n);var r=xd;if(r&&e){var o=qe(r).hoistableStyles,i=Pd(e);t=t||"default";var s=o.get(i);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Td(i)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_d.get(i))&&Ld(e,n);var l=s=r.createElement("link");He(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Od(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},o.set(i,s)}}},M:function(e,t){Ed.M(e,t);var n=xd;if(n&&e){var r=qe(n).hoistableScripts,o=jd(e),i=r.get(o);i||((i=n.querySelector(Rd(o)))||(e=h({src:e,async:!0,type:"module"},t),(t=_d.get(o))&&Bd(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var xd="undefined"===typeof document?null:document;function Id(e,t,n){var r=xd;if(r&&"string"===typeof t&&t){var o=mt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Sd.has(o)||(Sd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Nd(e,t,n,r){var o,i,a,l,c=(c=q.current)?Cd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pd(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pd(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Td(e)))&&!u._p&&(d.instance=u,d.state.loading=5),_d.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_d.set(e,n),u||(o=c,i=e,a=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=o.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",a),He(i),o.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=jd(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pd(e){return'href="'+mt(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function jd(e){return'[src="'+mt(e)+'"]'}function Rd(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var o=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",o),Od(r,n.precedence,e),t.instance=r;case"stylesheet":o=Pd(n.href);var i=e.querySelector(Td(o));if(i)return t.state.loading|=4,t.instance=i,He(i),i;r=Ad(n),(o=_d.get(o))&&Ld(r,o),He(i=(e.ownerDocument||e).createElement("link"));var a=i;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(i,"link",r),t.state.loading|=4,Od(i,n.precedence,e),t.instance=i;case"script":return i=jd(n.src),(o=e.querySelector(Rd(i)))?(t.instance=o,He(o),o):(r=n,(o=_d.get(i))&&Bd(r=h({},n),o),He(o=(e=e.ownerDocument||e).createElement("script")),ed(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Od(r,n.precedence,e));return t.instance}function Od(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)i=a;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Bd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Md=null;function Fd(e,t,n){if(null===Md){var r=new Map,o=Md=new Map;o.set(n,r)}else(r=(o=Md).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Fe]||i[je]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(i):r.set(s,[i])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function $d(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Wd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Gd,e),Hd=null,qd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var s=o[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(o=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,o),n.set(s,o),this.count++,r=qd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Kd={$$typeof:k,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Qd(e,t,n,r,o,i,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Yd(e,t,n,r,o,i,s,a,l,c,u,d){return e=new Qd(e,t,n,s,a,l,c,d),t=1,!0===i&&(t|=24),i=Lr(3,null,null,t),e.current=i,i.stateNode=e,(t=Do()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ri(i),e}function Xd(e){return e?e=Dr:Dr}function Jd(e,t,n,r,o,i){o=Xd(o),null===r.context?r.context=o:r.pendingContext=o,(r=ii(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=si(e,r,t))&&(Lc(n,0,t),ai(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Lc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var o=D.T;D.T=null;var i=O.p;try{O.p=2,ih(e,t,n,r)}finally{O.p=i,D.T=o}}function oh(e,t,n,r){var o=D.T;D.T=null;var i=O.p;try{O.p=8,ih(e,t,n,r)}finally{O.p=i,D.T=o}}function ih(e,t,n,r){if(nh){var o=sh(r);if(null===o)Vu(e,t,r,ah,n),yh(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,o),!0;case"dragenter":return hh=bh(hh,e,t,n,r,o),!0;case"mouseover":return fh=bh(fh,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ph.set(i,bh(ph.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,mh.set(i,bh(mh.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(yh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==o;){var i=Ve(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ye(i.pendingLanes);if(0!==s){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-fe(s);a.entanglements[1]|=l,s&=~l}_u(i),0===(6&nc)&&(_c=te()+500,Su(0,!1))}}break;case 13:null!==(a=Ar(i,2))&&Lc(a,0,2),zc(),eh(i,2)}if(null===(i=sh(r))&&Vu(e,t,r,ah,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function sh(e){return lh(e=At(e))}var ah=null;function lh(e){if(ah=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ah=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case oe:return 8;case ie:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Ve(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function wh(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Ne(e);var t=Ar(n,e);null!==t&&Lc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function _h(e,t,n){kh(e)&&n.delete(t)}function Sh(){uh=!1,null!==dh&&kh(dh)&&(dh=null),null!==hh&&kh(hh)&&(hh=null),null!==fh&&kh(fh)&&(fh=null),ph.forEach(_h),mh.forEach(_h)}function Ch(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sh)))}var Eh=null;function xh(e){Eh!==e&&(Eh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=Ve(n);null!==i&&(e.splice(t,3),t-=3,As(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Ih(e){function t(t){return Ch(t,e)}null!==dh&&Ch(dh,e),null!==hh&&Ch(hh,e),null!==fh&&Ch(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)wh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],s=o[Re]||null;if("function"===typeof i)s||xh(n);else if(s){var a=null;if(i&&i.hasAttribute("formAction")){if(o=i,s=i[Re]||null)a=s.formAction;else if(null!==lh(o))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),xh(n)}}}function Nh(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=Nh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jd(t.current,Dc(),e,t,null,null)},Ph.prototype.unmount=Nh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),zc(),t[De]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&wh(e)}};var Th=o.version;if("19.1.1"!==Th)throw Error(s(527,Th,"19.1.1"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return u(o),e;if(i===r)return u(o),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{ue=jh.inject(Ah),de=jh}catch(Dh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",o=ya,i=ba,l=wa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,o,i,l,0,null),e[De]=t.current,Uu(e),new Nh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,o="",i=ya,l=ba,c=wa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,o,i,l,c,0,u)).context=Xd(null),n=t.current,(o=ii(r=Ne(r=Dc()))).callback=null,si(n,o,r),n=r,t.current.lanes=n,Ee(t,n),_u(t),e[De]=t.current,Uu(e),new Ph(t)},t.version="19.1.1"},43:(e,t,n)=>{"use strict";e.exports=n(288)},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},245:(e,t,n)=>{"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(173)),i=u(n(742)),s=u(n(612)),a=n(43),l=u(a),c=u(n(686));function u(e){return e&&e.__esModule?e:{default:e}}var d={bgColor:o.default.oneOfType([o.default.object,o.default.string]),fgColor:o.default.oneOfType([o.default.object,o.default.string]),level:o.default.string,size:o.default.number,value:o.default.string.isRequired},h=(0,a.forwardRef)(function(e,t){var n=e.bgColor,o=void 0===n?"#FFFFFF":n,a=e.fgColor,u=void 0===a?"#000000":a,d=e.level,h=void 0===d?"L":d,f=e.size,p=void 0===f?256:f,m=e.value,g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["bgColor","fgColor","level","size","value"]),v=new s.default(-1,i.default[h]);v.addData(m),v.make();var y=v.modules;return l.default.createElement(c.default,r({},g,{bgColor:o,bgD:y.map(function(e,t){return e.map(function(e,n){return e?"":"M "+n+" "+t+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:u,fgD:y.map(function(e,t){return e.map(function(e,n){return e?"M "+n+" "+t+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:p,viewBoxSize:y.length}))});h.displayName="QRCode",h.propTypes=d,t.Ay=h},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var k=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function C(e,t,r,o,i,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(){}function P(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,o,i,s)}}if(u)return s=s(e),u=""===i?"."+I(e,0):i,k(s)?(o="",null!=u&&(o=u.replace(x,"$&/")+"/"),P(s,t,o,"",function(e){return e})):null!=s&&(E(s)&&(l=s,c=o+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+u,s=C(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===i?".":i+":";if(k(e))for(var m=0;m<e.length;m++)u+=P(i=e[m],t,o,a=p+I(i,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=P(i=i.value,t,o,a=p+I(i,m++),s);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,n){if(null==e)return e;var r=[],o=0;return P(e,r,"","",function(e){return t.call(n,e,o++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),a=0;a<i;a++)s[a]=arguments[a+2];r.children=s}return C(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return C(e,i,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),o=_.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,j)}catch(i){j(i)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.1"},343:(e,t,n)=>{var r=n(957);function o(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}o.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=o},361:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.width=t,this.height=e.length/t,this.data=e}return e.createEmpty=function(t,n){return new e(new Uint8ClampedArray(t*n),t)},e.prototype.get=function(e,t){return!(e<0||e>=this.width||t<0||t>=this.height)&&!!this.data[t*this.width+e]},e.prototype.set=function(e,t,n){this.data[t*this.width+e]=n?1:0},e.prototype.setRegion=function(e,t,n,r,o){for(var i=t;i<t+r;i++)for(var s=e;s<e+n;s++)this.set(s,i,!!o)},e}();t.BitMatrix=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.addOrSubtractGF=function(e,t){return e^t};var o=function(){function e(e,t,n){this.primitive=e,this.size=t,this.generatorBase=n,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var o=1,i=0;i<this.size;i++)this.expTable[i]=o,(o*=2)>=this.size&&(o=(o^this.primitive)&this.size-1);for(i=0;i<this.size-1;i++)this.logTable[this.expTable[i]]=i;this.zero=new r.default(this,Uint8ClampedArray.from([0])),this.one=new r.default(this,Uint8ClampedArray.from([1]))}return e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},e.prototype.inverse=function(e){if(0===e)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[e]-1]},e.prototype.buildMonomial=function(e,t){if(e<0)throw new Error("Invalid monomial degree less than 0");if(0===t)return this.zero;var n=new Uint8ClampedArray(e+1);return n[0]=t,new r.default(this,n)},e.prototype.log=function(e){if(0===e)throw new Error("Can't take log(0)");return this.logTable[e]},e.prototype.exp=function(e){return this.expTable[e]},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(e,t){if(0===t.length)throw new Error("No coefficients.");this.field=e;var n=t.length;if(n>1&&0===t[0]){for(var r=1;r<n&&0===t[r];)r++;if(r===n)this.coefficients=e.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(n-r);for(var o=0;o<this.coefficients.length;o++)this.coefficients[o]=t[r+o]}}else this.coefficients=t}return e.prototype.degree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.addOrSubtract=function(t){var n;if(this.isZero())return t;if(t.isZero())return this;var o=this.coefficients,i=t.coefficients;o.length>i.length&&(o=(n=[i,o])[0],i=n[1]);for(var s=new Uint8ClampedArray(i.length),a=i.length-o.length,l=0;l<a;l++)s[l]=i[l];for(l=a;l<i.length;l++)s[l]=r.addOrSubtractGF(o[l-a],i[l]);return new e(this.field,s)},e.prototype.multiply=function(t){if(0===t)return this.field.zero;if(1===t)return this;for(var n=this.coefficients.length,r=new Uint8ClampedArray(n),o=0;o<n;o++)r[o]=this.field.multiply(this.coefficients[o],t);return new e(this.field,r)},e.prototype.multiplyPoly=function(t){if(this.isZero()||t.isZero())return this.field.zero;for(var n=this.coefficients,o=n.length,i=t.coefficients,s=i.length,a=new Uint8ClampedArray(o+s-1),l=0;l<o;l++)for(var c=n[l],u=0;u<s;u++)a[l+u]=r.addOrSubtractGF(a[l+u],this.field.multiply(c,i[u]));return new e(this.field,a)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new Error("Invalid degree less than 0");if(0===n)return this.field.zero;for(var r=this.coefficients.length,o=new Uint8ClampedArray(r+t),i=0;i<r;i++)o[i]=this.field.multiply(this.coefficients[i],n);return new e(this.field,o)},e.prototype.evaluateAt=function(e){var t=0;if(0===e)return this.getCoefficient(0);var n=this.coefficients.length;if(1===e)return this.coefficients.forEach(function(e){t=r.addOrSubtractGF(t,e)}),t;t=this.coefficients[0];for(var o=1;o<n;o++)t=r.addOrSubtractGF(this.field.multiply(e,t),this.coefficients[o]);return t},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(5),i=n(11),s=n(12);function a(e){var t=s.locate(e);if(!t)return null;for(var n=0,r=t;n<r.length;n++){var a=r[n],l=i.extract(e,a),c=o.decode(l.matrix);if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:l.mappingFunction(a.dimension,0),topLeftCorner:l.mappingFunction(0,0),bottomRightCorner:l.mappingFunction(a.dimension,a.dimension),bottomLeftCorner:l.mappingFunction(0,a.dimension),topRightFinderPattern:a.topRight,topLeftFinderPattern:a.topLeft,bottomLeftFinderPattern:a.bottomLeft,bottomRightAlignmentPattern:a.alignmentPattern}}}return null}var l={inversionAttempts:"attemptBoth"};function c(e,t,n,o){void 0===o&&(o={});var i=l;Object.keys(i||{}).forEach(function(e){i[e]=o[e]||i[e]});var s="attemptBoth"===i.inversionAttempts||"invertFirst"===i.inversionAttempts,c="onlyInvert"===i.inversionAttempts||"invertFirst"===i.inversionAttempts,u=r.binarize(e,t,n,s),d=u.binarized,h=u.inverted,f=a(c?h:d);return f||"attemptBoth"!==i.inversionAttempts&&"invertFirst"!==i.inversionAttempts||(f=a(c?d:h)),f}c.default=c,t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function o(e,t,n){return e<t?t:e>n?n:e}var i=function(){function e(e,t){this.width=e,this.data=new Uint8ClampedArray(e*t)}return e.prototype.get=function(e,t){return this.data[t*this.width+e]},e.prototype.set=function(e,t,n){this.data[t*this.width+e]=n},e}();t.binarize=function(e,t,n,s){if(e.length!==t*n*4)throw new Error("Malformed data passed to binarizer.");for(var a=new i(t,n),l=0;l<t;l++)for(var c=0;c<n;c++){var u=e[4*(c*t+l)+0],d=e[4*(c*t+l)+1],h=e[4*(c*t+l)+2];a.set(l,c,.2126*u+.7152*d+.0722*h)}for(var f=Math.ceil(t/8),p=Math.ceil(n/8),m=new i(f,p),g=0;g<p;g++)for(var v=0;v<f;v++){var y=0,b=1/0,w=0;for(c=0;c<8;c++)for(l=0;l<8;l++){var k=a.get(8*v+l,8*g+c);y+=k,b=Math.min(b,k),w=Math.max(w,k)}var _=y/Math.pow(8,2);if(w-b<=24&&(_=b/2,g>0&&v>0)){var S=(m.get(v,g-1)+2*m.get(v-1,g)+m.get(v-1,g-1))/4;b<S&&(_=S)}m.set(v,g,_)}var C=r.BitMatrix.createEmpty(t,n),E=null;for(s&&(E=r.BitMatrix.createEmpty(t,n)),g=0;g<p;g++)for(v=0;v<f;v++){for(var x=o(v,2,f-3),I=o(g,2,p-3),N=(y=0,-2);N<=2;N++)for(var P=-2;P<=2;P++)y+=m.get(x+N,I+P);var T=y/25;for(N=0;N<8;N++)for(P=0;P<8;P++){l=8*v+N,c=8*g+P;var A=a.get(l,c);C.set(l,c,A<=T),s&&E.set(l,c,!(A<=T))}}return s?{binarized:C,inverted:E}:{binarized:C}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(9),s=n(10);function a(e,t){for(var n=e^t,r=0;n;)r++,n&=n-1;return r}function l(e,t){return t<<1|e}var c=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],u=[function(e){return(e.y+e.x)%2===0},function(e){return e.y%2===0},function(e){return e.x%3===0},function(e){return(e.y+e.x)%3===0},function(e){return(Math.floor(e.y/2)+Math.floor(e.x/3))%2===0},function(e){return e.x*e.y%2+e.x*e.y%3===0},function(e){return(e.y*e.x%2+e.y*e.x%3)%2===0},function(e){return((e.y+e.x)%2+e.y*e.x%3)%2===0}];function d(e,t,n){for(var o=u[n.dataMask],i=e.height,s=function(e){var t=17+4*e.versionNumber,n=r.BitMatrix.createEmpty(t,t);n.setRegion(0,0,9,9,!0),n.setRegion(t-8,0,8,9,!0),n.setRegion(0,t-8,9,8,!0);for(var o=0,i=e.alignmentPatternCenters;o<i.length;o++)for(var s=i[o],a=0,l=e.alignmentPatternCenters;a<l.length;a++){var c=l[a];6===s&&6===c||6===s&&c===t-7||s===t-7&&6===c||n.setRegion(s-2,c-2,5,5,!0)}return n.setRegion(6,9,1,t-17,!0),n.setRegion(9,6,t-17,1,!0),e.versionNumber>6&&(n.setRegion(t-11,0,3,6,!0),n.setRegion(0,t-11,6,3,!0)),n}(t),a=[],c=0,d=0,h=!0,f=i-1;f>0;f-=2){6===f&&f--;for(var p=0;p<i;p++)for(var m=h?i-1-p:p,g=0;g<2;g++){var v=f-g;if(!s.get(v,m)){d++;var y=e.get(v,m);o({y:m,x:v})&&(y=!y),c=l(y,c),8===d&&(a.push(c),d=0,c=0)}}h=!h}return a}function h(e){var t=function(e){var t=e.height,n=Math.floor((t-17)/4);if(n<=6)return s.VERSIONS[n-1];for(var r=0,o=5;o>=0;o--)for(var i=t-9;i>=t-11;i--)r=l(e.get(i,o),r);var c=0;for(i=5;i>=0;i--)for(o=t-9;o>=t-11;o--)c=l(e.get(i,o),c);for(var u,d=1/0,h=0,f=s.VERSIONS;h<f.length;h++){var p=f[h];if(p.infoBits===r||p.infoBits===c)return p;var m=a(r,p.infoBits);m<d&&(u=p,d=m),(m=a(c,p.infoBits))<d&&(u=p,d=m)}return d<=3?u:void 0}(e);if(!t)return null;var n=function(e){for(var t=0,n=0;n<=8;n++)6!==n&&(t=l(e.get(n,8),t));for(var r=7;r>=0;r--)6!==r&&(t=l(e.get(8,r),t));var o=e.height,i=0;for(r=o-1;r>=o-7;r--)i=l(e.get(8,r),i);for(n=o-8;n<o;n++)i=l(e.get(n,8),i);for(var s=1/0,u=null,d=0,h=c;d<h.length;d++){var f=h[d],p=f.bits,m=f.formatInfo;if(p===t||p===i)return m;var g=a(t,p);g<s&&(u=m,s=g),t!==i&&(g=a(i,p))<s&&(u=m,s=g)}return s<=3?u:null}(e);if(!n)return null;var r=function(e,t,n){var r=t.errorCorrectionLevels[n],o=[],i=0;if(r.ecBlocks.forEach(function(e){for(var t=0;t<e.numBlocks;t++)o.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),i+=e.dataCodewordsPerBlock+r.ecCodewordsPerBlock}),e.length<i)return null;e=e.slice(0,i);for(var s=r.ecBlocks[0].dataCodewordsPerBlock,a=0;a<s;a++)for(var l=0,c=o;l<c.length;l++)c[l].codewords.push(e.shift());if(r.ecBlocks.length>1){var u=r.ecBlocks[0].numBlocks,d=r.ecBlocks[1].numBlocks;for(a=0;a<d;a++)o[u+a].codewords.push(e.shift())}for(;e.length>0;)for(var h=0,f=o;h<f.length;h++)f[h].codewords.push(e.shift());return o}(d(e,t,n),t,n.errorCorrectionLevel);if(!r)return null;for(var u=r.reduce(function(e,t){return e+t.numDataCodewords},0),h=new Uint8ClampedArray(u),f=0,p=0,m=r;p<m.length;p++){var g=m[p],v=i.decode(g.codewords,g.codewords.length-g.numDataCodewords);if(!v)return null;for(var y=0;y<g.numDataCodewords;y++)h[f++]=v[y]}try{return o.decode(h,t.versionNumber)}catch(b){return null}}t.decode=function(e){if(null==e)return null;var t=h(e);if(t)return t;for(var n=0;n<e.width;n++)for(var r=n+1;r<e.height;r++)e.get(n,r)!==e.get(r,n)&&(e.set(n,r,!e.get(n,r)),e.set(r,n,!e.get(r,n)));return h(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=n(7),s=n(8);function a(e,t){for(var n=[],r="",o=[10,12,14][t],i=e.readBits(o);i>=3;){if((c=e.readBits(10))>=1e3)throw new Error("Invalid numeric value above 999");var s=Math.floor(c/100),a=Math.floor(c/10)%10,l=c%10;n.push(48+s,48+a,48+l),r+=s.toString()+a.toString()+l.toString(),i-=3}if(2===i){if((c=e.readBits(7))>=100)throw new Error("Invalid numeric value above 99");s=Math.floor(c/10),a=c%10,n.push(48+s,48+a),r+=s.toString()+a.toString()}else if(1===i){var c;if((c=e.readBits(4))>=10)throw new Error("Invalid numeric value above 9");n.push(48+c),r+=c.toString()}return{bytes:n,text:r}}!function(e){e.Numeric="numeric",e.Alphanumeric="alphanumeric",e.Byte="byte",e.Kanji="kanji",e.ECI="eci"}(r=t.Mode||(t.Mode={})),function(e){e[e.Terminator=0]="Terminator",e[e.Numeric=1]="Numeric",e[e.Alphanumeric=2]="Alphanumeric",e[e.Byte=4]="Byte",e[e.Kanji=8]="Kanji",e[e.ECI=7]="ECI"}(o||(o={}));var l=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function c(e,t){for(var n=[],r="",o=[9,11,13][t],i=e.readBits(o);i>=2;){var s=e.readBits(11),a=Math.floor(s/45),c=s%45;n.push(l[a].charCodeAt(0),l[c].charCodeAt(0)),r+=l[a]+l[c],i-=2}return 1===i&&(a=e.readBits(6),n.push(l[a].charCodeAt(0)),r+=l[a]),{bytes:n,text:r}}function u(e,t){for(var n=[],r="",o=[8,16,16][t],i=e.readBits(o),s=0;s<i;s++){var a=e.readBits(8);n.push(a)}try{r+=decodeURIComponent(n.map(function(e){return"%"+("0"+e.toString(16)).substr(-2)}).join(""))}catch(l){}return{bytes:n,text:r}}function d(e,t){for(var n=[],r="",o=[8,10,12][t],i=e.readBits(o),a=0;a<i;a++){var l=e.readBits(13),c=Math.floor(l/192)<<8|l%192;c+=c<7936?33088:49472,n.push(c>>8,255&c),r+=String.fromCharCode(s.shiftJISTable[c])}return{bytes:n,text:r}}t.decode=function(e,t){for(var n,s,l,h,f=new i.BitStream(e),p=t<=9?0:t<=26?1:2,m={text:"",bytes:[],chunks:[],version:t};f.available()>=4;){var g=f.readBits(4);if(g===o.Terminator)return m;if(g===o.ECI)0===f.readBits(1)?m.chunks.push({type:r.ECI,assignmentNumber:f.readBits(7)}):0===f.readBits(1)?m.chunks.push({type:r.ECI,assignmentNumber:f.readBits(14)}):0===f.readBits(1)?m.chunks.push({type:r.ECI,assignmentNumber:f.readBits(21)}):m.chunks.push({type:r.ECI,assignmentNumber:-1});else if(g===o.Numeric){var v=a(f,p);m.text+=v.text,(n=m.bytes).push.apply(n,v.bytes),m.chunks.push({type:r.Numeric,text:v.text})}else if(g===o.Alphanumeric){var y=c(f,p);m.text+=y.text,(s=m.bytes).push.apply(s,y.bytes),m.chunks.push({type:r.Alphanumeric,text:y.text})}else if(g===o.Byte){var b=u(f,p);m.text+=b.text,(l=m.bytes).push.apply(l,b.bytes),m.chunks.push({type:r.Byte,bytes:b.bytes,text:b.text})}else if(g===o.Kanji){var w=d(f,p);m.text+=w.text,(h=m.bytes).push.apply(h,w.bytes),m.chunks.push({type:r.Kanji,bytes:w.bytes,text:w.text})}}if(0===f.available()||0===f.readBits(f.available()))return m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.byteOffset=0,this.bitOffset=0,this.bytes=e}return e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Error("Cannot read "+e.toString()+" bits");var t=0;if(this.bitOffset>0){var n=8-this.bitOffset,r=e<n?e:n,o=255>>8-r<<(i=n-r);t=(this.bytes[this.byteOffset]&o)>>i,e-=r,this.bitOffset+=r,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(e>0){for(;e>=8;)t=t<<8|255&this.bytes[this.byteOffset],this.byteOffset++,e-=8;var i;if(e>0)o=255>>(i=8-e)<<i,t=t<<e|(this.bytes[this.byteOffset]&o)>>i,this.bitOffset+=e}return t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}();t.BitStream=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(2);t.decode=function(e,t){var n=new Uint8ClampedArray(e.length);n.set(e);for(var i=new r.default(285,256,0),s=new o.default(i,n),a=new Uint8ClampedArray(t),l=!1,c=0;c<t;c++){var u=s.evaluateAt(i.exp(c+i.generatorBase));a[a.length-1-c]=u,0!==u&&(l=!0)}if(!l)return n;var d=new o.default(i,a),h=function(e,t,n,r){var o;t.degree()<n.degree()&&(t=(o=[n,t])[0],n=o[1]);for(var i=t,s=n,a=e.zero,l=e.one;s.degree()>=r/2;){var c=i,u=a;if(a=l,(i=s).isZero())return null;s=c;for(var d=e.zero,h=i.getCoefficient(i.degree()),f=e.inverse(h);s.degree()>=i.degree()&&!s.isZero();){var p=s.degree()-i.degree(),m=e.multiply(s.getCoefficient(s.degree()),f);d=d.addOrSubtract(e.buildMonomial(p,m)),s=s.addOrSubtract(i.multiplyByMonomial(p,m))}if(l=d.multiplyPoly(a).addOrSubtract(u),s.degree()>=i.degree())return null}var g=l.getCoefficient(0);if(0===g)return null;var v=e.inverse(g);return[l.multiply(v),s.multiply(v)]}(i,i.buildMonomial(t,1),d,t);if(null===h)return null;var f=function(e,t){var n=t.degree();if(1===n)return[t.getCoefficient(1)];for(var r=new Array(n),o=0,i=1;i<e.size&&o<n;i++)0===t.evaluateAt(i)&&(r[o]=e.inverse(i),o++);return o!==n?null:r}(i,h[0]);if(null==f)return null;for(var p=function(e,t,n){for(var o=n.length,i=new Array(o),s=0;s<o;s++){for(var a=e.inverse(n[s]),l=1,c=0;c<o;c++)s!==c&&(l=e.multiply(l,r.addOrSubtractGF(1,e.multiply(n[c],a))));i[s]=e.multiply(t.evaluateAt(a),e.inverse(l)),0!==e.generatorBase&&(i[s]=e.multiply(i[s],a))}return i}(i,h[1],f),m=0;m<f.length;m++){var g=n.length-1-i.log(f[m]);if(g<0)return null;n[g]=r.addOrSubtractGF(n[g],p[m])}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function o(e,t,n,r){var o=e.x-t.x+n.x-r.x,i=e.y-t.y+n.y-r.y;if(0===o&&0===i)return{a11:t.x-e.x,a12:t.y-e.y,a13:0,a21:n.x-t.x,a22:n.y-t.y,a23:0,a31:e.x,a32:e.y,a33:1};var s=t.x-n.x,a=r.x-n.x,l=t.y-n.y,c=r.y-n.y,u=s*c-a*l,d=(o*c-a*i)/u,h=(s*i-o*l)/u;return{a11:t.x-e.x+d*t.x,a12:t.y-e.y+d*t.y,a13:d,a21:r.x-e.x+h*r.x,a22:r.y-e.y+h*r.y,a23:h,a31:e.x,a32:e.y,a33:1}}t.extract=function(e,t){for(var n,i,s=function(e,t,n,r){var i=o(e,t,n,r);return{a11:i.a22*i.a33-i.a23*i.a32,a12:i.a13*i.a32-i.a12*i.a33,a13:i.a12*i.a23-i.a13*i.a22,a21:i.a23*i.a31-i.a21*i.a33,a22:i.a11*i.a33-i.a13*i.a31,a23:i.a13*i.a21-i.a11*i.a23,a31:i.a21*i.a32-i.a22*i.a31,a32:i.a12*i.a31-i.a11*i.a32,a33:i.a11*i.a22-i.a12*i.a21}}({x:3.5,y:3.5},{x:t.dimension-3.5,y:3.5},{x:t.dimension-6.5,y:t.dimension-6.5},{x:3.5,y:t.dimension-3.5}),a=o(t.topLeft,t.topRight,t.alignmentPattern,t.bottomLeft),l=(i=s,{a11:(n=a).a11*i.a11+n.a21*i.a12+n.a31*i.a13,a12:n.a12*i.a11+n.a22*i.a12+n.a32*i.a13,a13:n.a13*i.a11+n.a23*i.a12+n.a33*i.a13,a21:n.a11*i.a21+n.a21*i.a22+n.a31*i.a23,a22:n.a12*i.a21+n.a22*i.a22+n.a32*i.a23,a23:n.a13*i.a21+n.a23*i.a22+n.a33*i.a23,a31:n.a11*i.a31+n.a21*i.a32+n.a31*i.a33,a32:n.a12*i.a31+n.a22*i.a32+n.a32*i.a33,a33:n.a13*i.a31+n.a23*i.a32+n.a33*i.a33}),c=r.BitMatrix.createEmpty(t.dimension,t.dimension),u=function(e,t){var n=l.a13*e+l.a23*t+l.a33;return{x:(l.a11*e+l.a21*t+l.a31)/n,y:(l.a12*e+l.a22*t+l.a32)/n}},d=0;d<t.dimension;d++)for(var h=0;h<t.dimension;h++){var f=u(h+.5,d+.5);c.set(h,d,e.get(Math.floor(f.x),Math.floor(f.y)))}return{matrix:c,mappingFunction:u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function o(e){return e.reduce(function(e,t){return e+t})}function i(e,t,n,o){var i,s,a,l,c=[{x:Math.floor(e.x),y:Math.floor(e.y)}],u=Math.abs(t.y-e.y)>Math.abs(t.x-e.x);u?(i=Math.floor(e.y),s=Math.floor(e.x),a=Math.floor(t.y),l=Math.floor(t.x)):(i=Math.floor(e.x),s=Math.floor(e.y),a=Math.floor(t.x),l=Math.floor(t.y));for(var d=Math.abs(a-i),h=Math.abs(l-s),f=Math.floor(-d/2),p=i<a?1:-1,m=s<l?1:-1,g=!0,v=i,y=s;v!==a+p;v+=p){var b=u?y:v,w=u?v:y;if(n.get(b,w)!==g&&(g=!g,c.push({x:b,y:w}),c.length===o+1))break;if((f+=h)>0){if(y===l)break;y+=m,f-=d}}for(var k=[],_=0;_<o;_++)c[_]&&c[_+1]?k.push(r(c[_],c[_+1])):k.push(0);return k}function s(e,t,n,r){var o,s=t.y-e.y,a=t.x-e.x,l=i(e,t,n,Math.ceil(r/2)),c=i(e,{x:e.x-a,y:e.y-s},n,Math.ceil(r/2)),u=l.shift()+c.shift()-1;return(o=c.concat(u)).concat.apply(o,l)}function a(e,t){var n=o(e)/o(t),r=0;return t.forEach(function(t,o){r+=Math.pow(e[o]-t*n,2)}),{averageSize:n,error:r}}function l(e,t,n){try{var r=s(e,{x:-1,y:e.y},n,t.length),o=s(e,{x:e.x,y:-1},n,t.length),i=s(e,{x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},n,t.length),l=s(e,{x:Math.min(n.width,e.x+e.y)+1,y:Math.min(n.height,e.y+e.x)+1},n,t.length),c=a(r,t),u=a(o,t),d=a(i,t),h=a(l,t),f=Math.sqrt(c.error*c.error+u.error*u.error+d.error*d.error+h.error*h.error),p=(c.averageSize+u.averageSize+d.averageSize+h.averageSize)/4;return f+(Math.pow(c.averageSize-p,2)+Math.pow(u.averageSize-p,2)+Math.pow(d.averageSize-p,2)+Math.pow(h.averageSize-p,2))/p}catch(m){return 1/0}}function c(e,t){for(var n=Math.round(t.x);e.get(n,Math.round(t.y));)n--;for(var r=Math.round(t.x);e.get(r,Math.round(t.y));)r++;for(var o=(n+r)/2,i=Math.round(t.y);e.get(Math.round(o),i);)i--;for(var s=Math.round(t.y);e.get(Math.round(o),s);)s++;return{x:o,y:(i+s)/2}}function u(e,t,n,i,a){var c,u,d;try{c=function(e,t,n,i){var a=(o(s(e,n,i,5))/7+o(s(e,t,i,5))/7+o(s(n,e,i,5))/7+o(s(t,e,i,5))/7)/4;if(a<1)throw new Error("Invalid module size");var l=Math.round(r(e,t)/a),c=Math.round(r(e,n)/a),u=Math.floor((l+c)/2)+7;switch(u%4){case 0:u++;break;case 2:u--}return{dimension:u,moduleSize:a}}(i,n,a,e),u=c.dimension,d=c.moduleSize}catch(y){return null}var h=n.x-i.x+a.x,f=n.y-i.y+a.y,p=(r(i,a)+r(i,n))/2/d,m=1-3/p,g={x:i.x+m*(h-i.x),y:i.y+m*(f-i.y)},v=t.map(function(t){var n=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,i=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.floor(n),Math.floor(i))){var s=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1];return o(s),{x:n,y:i,score:l({x:Math.floor(n),y:Math.floor(i)},[1,1,1],e)+r({x:n,y:i},g)}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});return{alignmentPattern:p>=15&&v.length?v[0]:g,dimension:u}}t.locate=function(e){for(var t=[],n=[],i=[],s=[],a=function(r){for(var a=0,l=!1,c=[0,0,0,0,0],u=function(t){var i=e.get(t,r);if(i===l)a++;else{c=[c[1],c[2],c[3],c[4],a],a=1,l=i;var u=o(c)/7,d=Math.abs(c[0]-u)<u&&Math.abs(c[1]-u)<u&&Math.abs(c[2]-3*u)<3*u&&Math.abs(c[3]-u)<u&&Math.abs(c[4]-u)<u&&!i,h=o(c.slice(-3))/3,f=Math.abs(c[2]-h)<h&&Math.abs(c[3]-h)<h&&Math.abs(c[4]-h)<h&&i;if(d){var p=t-c[3]-c[4],m=p-c[2],g={startX:m,endX:p,y:r};(v=n.filter(function(e){return m>=e.bottom.startX&&m<=e.bottom.endX||p>=e.bottom.startX&&m<=e.bottom.endX||m<=e.bottom.startX&&p>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5})).length>0?v[0].bottom=g:n.push({top:g,bottom:g})}if(f){var v,y=t-c[4],b=y-c[3];g={startX:b,y:r,endX:y},(v=s.filter(function(e){return b>=e.bottom.startX&&b<=e.bottom.endX||y>=e.bottom.startX&&b<=e.bottom.endX||b<=e.bottom.startX&&y>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5})).length>0?v[0].bottom=g:s.push({top:g,bottom:g})}}},d=-1;d<=e.width;d++)u(d);t.push.apply(t,n.filter(function(e){return e.bottom.y!==r&&e.bottom.y-e.top.y>=2})),n=n.filter(function(e){return e.bottom.y===r}),i.push.apply(i,s.filter(function(e){return e.bottom.y!==r})),s=s.filter(function(e){return e.bottom.y===r})},d=0;d<=e.height;d++)a(d);t.push.apply(t,n.filter(function(e){return e.bottom.y-e.top.y>=2})),i.push.apply(i,s);var h=t.filter(function(e){return e.bottom.y-e.top.y>=2}).map(function(t){var n=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,r=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.round(n),Math.round(r))){var i=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1],s=o(i)/i.length;return{score:l({x:Math.round(n),y:Math.round(r)},[1,1,3,1,1],e),x:n,y:r,size:s}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score}).map(function(e,t,n){if(t>4)return null;var r=n.filter(function(e,n){return t!==n}).map(function(t){return{x:t.x,y:t.y,score:t.score+Math.pow(t.size-e.size,2)/e.size,size:t.size}}).sort(function(e,t){return e.score-t.score});if(r.length<2)return null;var o=e.score+r[0].score+r[1].score;return{points:[e].concat(r.slice(0,2)),score:o}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});if(0===h.length)return null;var f=function(e,t,n){var o,i,s,a,l,c,u,d=r(e,t),h=r(t,n),f=r(e,n);return h>=d&&h>=f?(l=(o=[t,e,n])[0],c=o[1],u=o[2]):f>=h&&f>=d?(l=(i=[e,t,n])[0],c=i[1],u=i[2]):(l=(s=[e,n,t])[0],c=s[1],u=s[2]),(u.x-c.x)*(l.y-c.y)-(u.y-c.y)*(l.x-c.x)<0&&(l=(a=[u,l])[0],u=a[1]),{bottomLeft:l,topLeft:c,topRight:u}}(h[0].points[0],h[0].points[1],h[0].points[2]),p=f.topRight,m=f.topLeft,g=f.bottomLeft,v=u(e,i,p,m,g),y=[];v&&y.push({alignmentPattern:{x:v.alignmentPattern.x,y:v.alignmentPattern.y},bottomLeft:{x:g.x,y:g.y},dimension:v.dimension,topLeft:{x:m.x,y:m.y},topRight:{x:p.x,y:p.y}});var b=c(e,p),w=c(e,m),k=c(e,g),_=u(e,i,b,w,k);return _&&y.push({alignmentPattern:{x:_.alignmentPattern.x,y:_.alignmentPattern.y},bottomLeft:{x:k.x,y:k.y},topLeft:{x:w.x,y:w.y},topRight:{x:b.x,y:b.y},dimension:_.dimension}),0===y.length?null:y}}]).default},e.exports=t()},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},392:(e,t,n)=>{var r=n(460);function o(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}o.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(i)));return new o(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=r.gexp(r.glog(e.get(i))+t);return new o(n,0).mod(e)}},e.exports=o},436:(e,t,n)=>{var r=n(742);function o(e,t){this.totalCount=e,this.dataCount=t}o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(e,t){var n=o.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=new Array,s=0;s<r;s++)for(var a=n[3*s+0],l=n[3*s+1],c=n[3*s+2],u=0;u<a;u++)i.push(new o(l,c));return i},o.getRsBlockTable=function(e,t){switch(t){case r.L:return o.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return o.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return o.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return o.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=o},439:(e,t,n)=>{"use strict";n.r(t),n.d(t,{convertPrice:()=>a,formatPriceWithCurrency:()=>l,getPriceInfo:()=>c});var r=n(493),o=n(752);const i={NIS:"ILS"};function s(e){return i[e]||e}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";try{const n=s(t),i=(0,o.$u)();if(!e||e<=0){const t=(0,o.So)(i);return{convertedPrice:0,symbol:(null===t||void 0===t?void 0:t.symbol)||"$",currencyCode:i,originalPrice:e,firebaseCurrency:n}}if(console.log(`\ud83d\udcb1 [CONVERTER] DB: ${e} ${t}(${n}) \u2192 User wants: ${i}`),i===n){const t=(0,o.So)(i);return console.log("\u2705 [CONVERTER] Same currency - no conversion needed"),{convertedPrice:e,symbol:(null===t||void 0===t?void 0:t.symbol)||"$",currencyCode:i,originalPrice:e,firebaseCurrency:n}}const a=(0,r.AJ)();if(!a){console.warn("\u26a0\ufe0f [CONVERTER] No rates available, using original price");const t=(0,o.So)(i);return{convertedPrice:e,symbol:(null===t||void 0===t?void 0:t.symbol)||"$",currencyCode:i,originalPrice:e,firebaseCurrency:n}}const l=a[n]||1,c=a[i]||1,u=e/l,d=u*c,h=(0,o.So)(i);return console.log(`\ud83d\udcb1 [CONVERTER] ${e} ${n} (rate: ${l}) \u2192 ${u.toFixed(2)} USD \u2192 ${d.toFixed(2)} ${i} (rate: ${c})`),{convertedPrice:d,symbol:(null===h||void 0===h?void 0:h.symbol)||"$",currencyCode:i,originalPrice:e,firebaseCurrency:n}}catch(n){console.error("\u274c [CONVERTER] Error converting price:",n.message);const r=s(t),i=(0,o.So)(r);return{convertedPrice:e,symbol:(null===i||void 0===i?void 0:i.symbol)||"$",currencyCode:r,originalPrice:e,firebaseCurrency:r}}}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";const{convertedPrice:n,symbol:r}=a(e,t);return`${r}${n.toFixed(2)}`}function c(e){const t=a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD");return{displayPrice:t.convertedPrice.toFixed(2),symbol:t.symbol,currencyCode:t.currencyCode,originalPrice:t.originalPrice,firebaseCurrency:t.firebaseCurrency}}},460:e=>{for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;e.exports=t},493:(e,t,n)=>{"use strict";n.d(t,{AJ:()=>s,D3:()=>a,Jn:()=>i});const r="currency_rates_cache",o=432e5;async function i(){try{console.log("\ud83d\udcb1 [CURRENCY INIT] Starting currency rates initialization...");const n=localStorage.getItem(r);if(n){const{rates:e,timestamp:t}=JSON.parse(n),r=Date.now()-t,i=(r/36e5).toFixed(1);if(r<o)return console.log(`\u2705 [CURRENCY INIT] Using cached rates (${i} hours old)`),console.log("\ud83d\udcca [CURRENCY INIT] Cached rates:",e),console.log("\u23f0 [CURRENCY INIT] Cache expires in:",((o-r)/36e5).toFixed(1),"hours"),e;console.log(`\u23f0 [CURRENCY INIT] Cache expired (${i} hours old), fetching fresh rates...`)}else console.log("\ud83c\udd95 [CURRENCY INIT] No cached rates found, fetching from server...");let i;console.log("\ud83d\udd04 [CURRENCY INIT] Fetching from /api/currency/rates");try{const e=await fetch("/api/currency/rates",{timeout:5e3});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);i=await e.json()}catch(e){console.warn("\u26a0\ufe0f [CURRENCY INIT] Server unavailable, fetching directly from API:",e.message);try{const e=await fetch("https://api.exchangerate-api.com/v4/latest/USD"),t=await e.json();if(t&&t.rates){const e={};["ILS","USD","EUR","GBP","JPY","AUD","CAD","CHF","CNY","INR","MXN","BRL","ZAR","SGD","HKD","NZD","SEK","NOK","DKK","AED"].forEach(n=>{t.rates[n]&&(e[n]=t.rates[n])}),i={success:!0,rates:e},console.log("\u2705 [CURRENCY INIT] Fetched directly from ExchangeRate API")}}catch(t){throw console.error("\u274c [CURRENCY INIT] Fallback also failed:",t.message),new Error("Both server and direct API failed")}}if(i&&i.success&&i.rates){const e={rates:i.rates,timestamp:Date.now()};return localStorage.setItem(r,JSON.stringify(e)),console.log("\u2705 [CURRENCY INIT] Fresh rates fetched and cached"),console.log("\ud83d\udcca [CURRENCY INIT] Rates:",i.rates),console.log("\ud83d\udcbe [CURRENCY INIT] Stored in localStorage"),console.log("\u23f0 [CURRENCY INIT] Next refresh in 12 hours"),i.rates}throw new Error("Invalid response from server")}catch(n){console.error("\u274c [CURRENCY INIT] Error initializing currency rates:",n.message);const e=localStorage.getItem(r);if(e){const{rates:t}=JSON.parse(e);return console.log("\u26a0\ufe0f [CURRENCY INIT] Using stale cached rates as fallback"),console.log("\ud83d\udcca [CURRENCY INIT] Fallback rates:",t),t}return null}}function s(){try{const e=localStorage.getItem(r);if(e){const{rates:t,timestamp:n}=JSON.parse(e),r=((Date.now()-n)/36e5).toFixed(1);return console.log(`\ud83d\udcca [CURRENCY] Current cached rates (${r} hours old):`,t),t}return console.log("\u26a0\ufe0f [CURRENCY] No cached rates available"),null}catch(e){return console.error("\u274c [CURRENCY] Error getting cached rates:",e.message),null}}function a(){try{const e=localStorage.getItem(r);if(!e)return{exists:!1,message:"No cache found"};const{timestamp:t}=JSON.parse(e),n=Date.now()-t,i=(n/36e5).toFixed(1),s=((o-n)/36e5).toFixed(1),a=n>o;return{exists:!0,ageHours:parseFloat(i),expiresInHours:parseFloat(s),isExpired:a,message:a?`Cache expired (${i} hours old)`:`Cache valid (${i} hours old, expires in ${s} hours)`}}catch(e){return console.error("\u274c [CURRENCY] Error getting cache status:",e.message),null}}},497:(e,t,n)=>{"use strict";var r=n(218);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},612:(e,t,n)=>{var r=n(343),o=n(436),i=n(813),s=n(898),a=n(392);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;c.addData=function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},c.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=o.getRSBlocks(e,this.errorCorrectLevel),n=new i,r=0,a=0;a<t.length;a++)r+=t[a].dataCount;for(a=0;a<this.dataList.length;a++){var l=this.dataList[a];n.put(l.mode,4),n.put(l.getLength(),s.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},c.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},c.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=s.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},c.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var o=0;o<this.modules.length;o++)for(var i=1*o,s=0;s<this.modules[o].length;s++){var a=1*s;this.modules[o][s]&&(r.beginFill(0,100),r.moveTo(a,i),r.lineTo(a+1,i),r.lineTo(a+1,i+1),r.lineTo(a,i+1),r.endFill())}return r},c.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},c.setupPositionAdjustPattern=function(){for(var e=s.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],o=e[n];if(null==this.modules[r][o])for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)this.modules[r+i][o+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a}},c.setupTypeNumber=function(e){for(var t=s.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},c.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=s.getBCHTypeInfo(n),o=0;o<15;o++){var i=!e&&1==(r>>o&1);o<6?this.modules[o][8]=i:o<8?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(o=0;o<15;o++){i=!e&&1==(r>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=i:o<9?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i}this.modules[this.moduleCount-8][8]=!e},c.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,o=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var l=0;l<2;l++)if(null==this.modules[r][a-l]){var c=!1;i<e.length&&(c=1==(e[i]>>>o&1)),s.getMask(t,r,a-l)&&(c=!c),this.modules[r][a-l]=c,-1==--o&&(i++,o=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var r=o.getRSBlocks(e,t),a=new i,c=0;c<n.length;c++){var u=n[c];a.put(u.mode,4),a.put(u.getLength(),s.getLengthInBits(u.mode,e)),u.write(a)}var d=0;for(c=0;c<r.length;c++)d+=r[c].dataCount;if(a.getLengthInBits()>8*d)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*d+")");for(a.getLengthInBits()+4<=8*d&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*d)&&(a.put(l.PAD0,8),!(a.getLengthInBits()>=8*d));)a.put(l.PAD1,8);return l.createBytes(a,r)},l.createBytes=function(e,t){for(var n=0,r=0,o=0,i=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c++){var u=t[c].dataCount,d=t[c].totalCount-u;r=Math.max(r,u),o=Math.max(o,d),i[c]=new Array(u);for(var h=0;h<i[c].length;h++)i[c][h]=255&e.buffer[h+n];n+=u;var f=s.getErrorCorrectPolynomial(d),p=new a(i[c],f.getLength()-1).mod(f);l[c]=new Array(f.getLength()-1);for(h=0;h<l[c].length;h++){var m=h+p.getLength()-l[c].length;l[c][h]=m>=0?p.get(m):0}}var g=0;for(h=0;h<t.length;h++)g+=t[h].totalCount;var v=new Array(g),y=0;for(h=0;h<r;h++)for(c=0;c<t.length;c++)h<i[c].length&&(v[y++]=i[c][h]);for(h=0;h<o;h++)for(c=0;c<t.length;c++)h<l[c].length&&(v[y++]=l[c][h]);return v},e.exports=l},672:(e,t,n)=>{"use strict";var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=a(n(173)),i=n(43),s=a(i);function a(e){return e&&e.__esModule?e:{default:e}}var l={bgColor:o.default.oneOfType([o.default.object,o.default.string]).isRequired,bgD:o.default.string.isRequired,fgColor:o.default.oneOfType([o.default.object,o.default.string]).isRequired,fgD:o.default.string.isRequired,size:o.default.number.isRequired,title:o.default.string,viewBoxSize:o.default.number.isRequired,xmlns:o.default.string},c=(0,i.forwardRef)(function(e,t){var n=e.bgColor,o=e.bgD,i=e.fgD,a=e.fgColor,l=e.size,c=e.title,u=e.viewBoxSize,d=e.xmlns,h=void 0===d?"http://www.w3.org/2000/svg":d,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",r({},f,{height:l,ref:t,viewBox:"0 0 "+u+" "+u,width:l,xmlns:h}),c?s.default.createElement("title",null,c):null,s.default.createElement("path",{d:o,fill:n}),s.default.createElement("path",{d:i,fill:a}))});c.displayName="QRCodeSvg",c.propTypes=l,t.default=c},742:e=>{e.exports={L:1,M:0,Q:3,H:2}},752:(e,t,n)=>{"use strict";n.d(t,{$u:()=>s,FV:()=>a,So:()=>c,zN:()=>l});const r="user_currency_preference",o="USD",i=[{code:"ILS",name:"Israeli Shekel",symbol:"\u20aa"},{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:"\u20ac"},{code:"GBP",name:"British Pound",symbol:"\xa3"},{code:"JPY",name:"Japanese Yen",symbol:"\xa5"},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"CHF",name:"Swiss Franc",symbol:"CHF"},{code:"CNY",name:"Chinese Yuan",symbol:"\xa5"},{code:"INR",name:"Indian Rupee",symbol:"\u20b9"},{code:"MXN",name:"Mexican Peso",symbol:"$"},{code:"BRL",name:"Brazilian Real",symbol:"R$"},{code:"ZAR",name:"South African Rand",symbol:"R"},{code:"SGD",name:"Singapore Dollar",symbol:"S$"},{code:"HKD",name:"Hong Kong Dollar",symbol:"HK$"},{code:"NZD",name:"New Zealand Dollar",symbol:"NZ$"},{code:"SEK",name:"Swedish Krona",symbol:"kr"},{code:"NOK",name:"Norwegian Krone",symbol:"kr"},{code:"DKK",name:"Danish Krone",symbol:"kr"},{code:"AED",name:"UAE Dirham",symbol:"\u062f.\u0625"}];function s(){try{const e=localStorage.getItem(r);return e&&i.find(t=>t.code===e)?(console.log(`\ud83d\udcb1 [CURRENCY PREF] Using preferred currency: ${e}`),e):(console.log(`\ud83d\udcb1 [CURRENCY PREF] No preference saved, using default: ${o}`),o)}catch(e){return console.error("\u274c [CURRENCY PREF] Error getting preferred currency:",e.message),o}}function a(e){try{if(!i.find(t=>t.code===e))throw new Error(`Invalid currency code: ${e}`);return localStorage.setItem(r,e),console.log(`\u2705 [CURRENCY PREF] Preferred currency set to: ${e}`),window.dispatchEvent(new CustomEvent("currency-preference-changed",{detail:e})),!0}catch(t){return console.error("\u274c [CURRENCY PREF] Error setting preferred currency:",t.message),!1}}function l(){return i}function c(e){return i.find(t=>t.code===e)||i.find(e=>e.code===o)}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},813:e=>{function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,k(e),!m)if(null!==r(c))m=!0,C||(C=!0,S());else{var t=r(u);null!==t&&j(_,t.startTime-e)}}var S,C=!1,E=-1,x=5,I=-1;function N(){return!!v||!(t.unstable_now()-I<x)}function P(){if(v=!1,C){var e=t.unstable_now();I=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),p=!0;var i=f;try{t:{for(k(e),h=r(c);null!==h&&!(h.expirationTime>e&&N());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,k(e),n=!0;break t}h===r(c)&&o(c),k(e)}else o(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&j(_,l.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?S():C=!1}}}if("function"===typeof w)S=function(){w(P)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,A=T.port2;T.port1.onmessage=P,S=function(){A.postMessage(null)}}else S=function(){y(P,0)};function j(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,j(_,i-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,C||(C=!0,S()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},898:(e,t,n)=>{var r=n(957),o=n(392),i=n(460),s=0,a=1,l=2,c=3,u=4,d=5,h=6,f=7,p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;p.getBCHDigit(t)-p.getBCHDigit(p.G15)>=0;)t^=p.G15<<p.getBCHDigit(t)-p.getBCHDigit(p.G15);return(e<<10|t)^p.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;p.getBCHDigit(t)-p.getBCHDigit(p.G18)>=0;)t^=p.G18<<p.getBCHDigit(t)-p.getBCHDigit(p.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return p.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case s:return(t+n)%2==0;case a:return t%2==0;case l:return n%3==0;case c:return(t+n)%3==0;case u:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case h:return(t*n%2+t*n%3)%2==0;case f:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new o([1],0),n=0;n<e;n++)t=t.multiply(new o([1,i.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var o=0;o<t;o++){for(var i=0,s=e.isDark(r,o),a=-1;a<=1;a++)if(!(r+a<0||t<=r+a))for(var l=-1;l<=1;l++)o+l<0||t<=o+l||0==a&&0==l||s==e.isDark(r+a,o+l)&&i++;i>5&&(n+=3+i-5)}for(r=0;r<t-1;r++)for(o=0;o<t-1;o++){var c=0;e.isDark(r,o)&&c++,e.isDark(r+1,o)&&c++,e.isDark(r,o+1)&&c++,e.isDark(r+1,o+1)&&c++,0!=c&&4!=c||(n+=3)}for(r=0;r<t;r++)for(o=0;o<t-6;o++)e.isDark(r,o)&&!e.isDark(r,o+1)&&e.isDark(r,o+2)&&e.isDark(r,o+3)&&e.isDark(r,o+4)&&!e.isDark(r,o+5)&&e.isDark(r,o+6)&&(n+=40);for(o=0;o<t;o++)for(r=0;r<t-6;r++)e.isDark(r,o)&&!e.isDark(r+1,o)&&e.isDark(r+2,o)&&e.isDark(r+3,o)&&e.isDark(r+4,o)&&!e.isDark(r+5,o)&&e.isDark(r+6,o)&&(n+=40);var u=0;for(o=0;o<t;o++)for(r=0;r<t;r++)e.isDark(r,o)&&u++;return n+=10*(Math.abs(100*u/t/t-50)/5)}};e.exports=p},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},957:e=>{e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},987:function(e){var t;t=function(){return function(){var e={"./packages/@logrocket/console/src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./packages/@logrocket/console/src/registerConsole.js")).default;t.default=o},"./packages/@logrocket/console/src/registerConsole.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];return["log","warn","info","error","debug"].forEach(function(n){t.push((0,i.default)(console,n,function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e.addEvent("lr.core.LogEvent",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.isEnabled;if("object"===(0,o.default)(i)&&!1===i[n]||!1===i)return null;if("error"===n&&t.shouldAggregateConsoleErrors)if(r&&r.length>=2&&"ERROR"===r[0]){var a="";try{a=" ".concat(r[1])}catch(l){}s.Capture.captureMessage(e,"".concat(r[0]).concat(a),r,{},!0)}else s.Capture.captureMessage(e,r[0],r,{},!0);return{logLevel:n.toUpperCase(),args:r}})}))}),function(){t.forEach(function(e){return e()})}};var o=r(n("./node_modules/@babel/runtime/helpers/typeof.js")),i=r(n("./packages/@logrocket/utils/src/enhanceFunc.ts")),s=n("./packages/@logrocket/exceptions/src/index.js")},"./packages/@logrocket/exceptions/src/Capture.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.captureMessage=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={exceptionType:i?"CONSOLE":"MESSAGE",message:t,messageArgs:n,browserHref:window.location?window.location.href:""};(0,o.scrubException)(s,r),e.addEvent("lr.core.Exception",function(){return s})},t.captureException=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"WINDOW",l=r||i.default.computeStackTrace(t),c={exceptionType:a,errorType:l.name,message:l.message,browserHref:window.location?window.location.href:""};(0,o.scrubException)(c,n);var u={_stackTrace:(0,s.default)(l)};e.addEvent("lr.core.Exception",function(){return c},u)};var o=n("./packages/@logrocket/utils/src/scrubException.ts"),i=r(n("./packages/@logrocket/utils/src/TraceKit.js")),s=r(n("./packages/@logrocket/exceptions/src/stackTraceFromError.js"))},"./packages/@logrocket/exceptions/src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"registerExceptions",{enumerable:!0,get:function(){return i.default}}),t.Capture=void 0;var i=r(n("./packages/@logrocket/exceptions/src/registerExceptions.js")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n("./packages/@logrocket/exceptions/src/Capture.js"));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.Capture=s},"./packages/@logrocket/exceptions/src/raven/FunctionPropertyMirror.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(n("./node_modules/@babel/runtime/helpers/createClass.js")),s=r(n("./node_modules/@babel/runtime/helpers/typeof.js")),a=new Set(["prototype","length","name","arguments","caller","__lr__","__lr_wrapper__","__inner__","__refreshMirroredProps__"]),l=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.hasKey,s=r.reservedProps,l=void 0===s?a:s,c=r.includeSymbols,u=void 0===c||c;(0,o.default)(this,e),this.source=t,this.target=n,this.hasKey=i||function(){return!1},this.reservedProps=l,this.includeSymbols=u,this.mirroredProps=Object.create(null),this.descriptorCache=Object.create(null)}return(0,i.default)(e,[{key:"isReserved",value:function(e){return null===e||void 0===e||(function(e){return"symbol"===(0,s.default)(e)}(e)?!this.includeSymbols:this.reservedProps.has(e))}},{key:"remember",value:function(e){this.mirroredProps[e]=!0}},{key:"forget",value:function(e){delete this.mirroredProps[e],Object.prototype.hasOwnProperty.call(this.descriptorCache,e)&&delete this.descriptorCache[e]}},{key:"hasMirrored",value:function(e){return Object.prototype.hasOwnProperty.call(this.mirroredProps,e)}},{key:"getDescriptor",value:function(e){if(Object.prototype.hasOwnProperty.call(this.descriptorCache,e))return this.descriptorCache[e]||void 0;var t;try{t=Object.getOwnPropertyDescriptor(this.source,e)}catch(n){t=void 0}return this.descriptorCache[e]=t||null,t}},{key:"defineMirroredDescriptor",value:function(e,t){var n=this,r=!Object.prototype.hasOwnProperty.call(t,"configurable")||t.configurable,o=!Object.prototype.hasOwnProperty.call(t,"enumerable")||t.enumerable;if(t.get||t.set)Object.defineProperty(this.target,e,{configurable:r,enumerable:o,get:t.get?function(){return t.get.call(n.source)}:void 0,set:t.set?function(e){return t.set.call(n.source,e)}:void 0});else{var i=!Object.prototype.hasOwnProperty.call(t,"writable")||t.writable;Object.defineProperty(this.target,e,{configurable:r,enumerable:o,get:function(){return n.source[e]},set:!1===i?void 0:function(t){n.source[e]=t}})}}},{key:"mirrorProperty",value:function(e){if(this.isReserved(e)||this.hasMirrored(e))return!1;if(!this.hasKey(this.source,e))return!1;var t=this.getDescriptor(e);if(!t)return!1;try{return this.defineMirroredDescriptor(e,t),this.remember(e),!0}catch(n){try{return this.target[e]=this.source[e],this.remember(e),!0}catch(r){return!1}}}},{key:"mirrorProperties",value:function(e){if(e)for(var t=Array.isArray(e)?e:[e],n=0;n<t.length;n+=1)this.mirrorProperty(t[n])}},{key:"syncAll",value:function(){try{this.mirrorProperties(Object.getOwnPropertyNames(this.source)),this.includeSymbols&&"function"===typeof Object.getOwnPropertySymbols&&this.mirrorProperties(Object.getOwnPropertySymbols(this.source))}catch(e){}}},{key:"syncProperty",value:function(e){this.isReserved(e)||(this.forget(e),this.mirrorProperty(e))}},{key:"attachManualRefreshHook",value:function(){var e=this;this.isReserved("__refreshMirroredProps__")&&Object.defineProperty(this.target,"__refreshMirroredProps__",{configurable:!0,enumerable:!1,writable:!1,value:function(){return e.syncAll(),e.target}})}}]),e}();t.default=l},"./packages/@logrocket/exceptions/src/raven/raven.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/typeof.js")),i=r(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(n("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(n("./packages/@logrocket/utils/src/TraceKit.js")),l=r(n("./packages/@logrocket/exceptions/src/raven/FunctionPropertyMirror.js")),c=Object.prototype;function u(e){return void 0===e}function d(e){return"function"===typeof e}function h(e,t){return c.hasOwnProperty.call(e,t)}function f(e,t,n,r){var o=e[t];e[t]=n(o),r&&r.push([e,t,o])}var p="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},m=(p.document,function(){function e(t){var n=t.captureException;(0,i.default)(this,e),this._errorHandler=this._errorHandler.bind(this),this._ignoreOnError=0,this._wrappedBuiltIns=[],this.captureException=n,a.default.report.subscribe(this._errorHandler),this._instrumentTryCatch()}return(0,s.default)(e,[{key:"uninstall",value:function(){var e;for(a.default.report.unsubscribe(this._errorHandler);this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}}},{key:"_errorHandler",value:function(e){this._ignoreOnError||this.captureException(e)}},{key:"_ignoreNextOnError",value:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})}},{key:"context",value:function(e,t,n){return d(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)}},{key:"wrap",value:function(e,t,n){var r=this;if(u(t)&&!d(e))return e;if(d(e)&&(t=e,e=void 0),!d(t))return t;try{if(t.__lr__)return t;if(t.__lr_wrapper__)return t.__lr_wrapper__;if(!Object.isExtensible(t))return t}catch(p){return t}function i(){var o=[],i=arguments.length,s=!e||e&&!1!==e.deep;for(n&&d(n)&&n.apply(this,arguments);i--;)o[i]=s?r.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,o)}catch(p){throw r._ignoreNextOnError(),r.captureException(a.default.computeStackTrace(p),e),p}}var s="object"===("undefined"===typeof Reflect?"undefined":(0,o.default)(Reflect))?Reflect:void 0,c=new l.default(t,i,{hasKey:h,includeSymbols:!0});c.syncAll(),c.attachManualRefreshHook(),i.prototype=t.prototype;try{"function"===typeof Object.setPrototypeOf?Object.setPrototypeOf(i,t):u(i.__proto__)||(i.__proto__=t)}catch(m){}var f=i;return"function"===typeof Proxy&&(f=new Proxy(i,{apply:function(e,t,n){return c.syncAll(),e.apply(t,n)},construct:function(e,t,n){return c.syncAll(),s&&s.construct?s.construct(e,t,n):new(Function.bind.apply(e,[null].concat(t||[])))},get:function(e,n,r){return"__inner__"===n?t:(c.mirrorProperty(n),s&&s.get?s.get(e,n,r):e[n])},set:function(e,n,r,o){if("__lr__"===n||"__lr_wrapper__"===n||"__inner__"===n)return s&&s.set?s.set(e,n,r,o):(e[n]=r,!0);var i;c.mirrorProperty(n),s&&s.set?i=s.set(e,n,r,o):(e[n]=r,i=!0);try{t[n]=r,c.syncProperty(n)}catch(a){}return i},has:function(e,n){if(c.mirrorProperty(n),s&&s.has){if(s.has(e,n))return!0}else if(n in e)return!0;return n in t},ownKeys:function(e){return c.syncAll(),s&&s.ownKeys?s.ownKeys(e):Object.getOwnPropertyNames(e)},getOwnPropertyDescriptor:function(e,t){return c.mirrorProperty(t),s&&s.getOwnPropertyDescriptor?s.getOwnPropertyDescriptor(e,t):Object.getOwnPropertyDescriptor(e,t)},defineProperty:function(e,n,r){var o;if(s&&s.defineProperty?o=s.defineProperty(e,n,r):(Object.defineProperty(e,n,r),o=!0),"__lr__"===n||"__lr_wrapper__"===n||"__inner__"===n)return o;try{Object.defineProperty(t,n,r)}catch(i){}return c.syncProperty(n),o},deleteProperty:function(e,n){if("__lr__"===n||"__lr_wrapper__"===n||"__inner__"===n)return s&&s.deleteProperty?s.deleteProperty(e,n):delete e[n];c.forget(n);try{delete t[n]}catch(r){}return s&&s.deleteProperty?s.deleteProperty(e,n):delete e[n]}})),t.__lr_wrapper__=f,i.__lr__=!0,i.__inner__=t,f!==i&&(f.__lr__=!0,f.__inner__=t),f}},{key:"_instrumentTryCatch",value:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var s=o[0];return d(s)&&(o[0]=e.wrap(s)),t.apply?t.apply(this,o):t(o[0],o[1])}}function r(n){var r=p[n]&&p[n].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(f(r,"addEventListener",function(t){return function(n,r,o,i){try{r&&r.handleEvent&&(r.handleEvent=e.wrap(r.handleEvent))}catch(s){}return t.call(this,n,e.wrap(r,void 0,void 0),o,i)}},t),f(r,"removeEventListener",function(e){return function(t,n,r,o){try{var i=null===n||void 0===n?void 0:n.__lr_wrapper__;i&&e.call(this,t,i,r,o)}catch(s){}return e.call(this,t,n,r,o)}},void 0))}f(p,"setTimeout",n,t),f(p,"setInterval",n,t),p.requestAnimationFrame&&f(p,"requestAnimationFrame",function(t){return function(n){return t(e.wrap(n))}},t);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i=0;i<o.length;i++)r(o[i]);var s=p.jQuery||p.$;s&&s.fn&&s.fn.ready&&f(s.fn,"ready",function(t){return function(n){return t.call(this,e.wrap(n))}},t)}}]),e}());t.default=m},"./packages/@logrocket/exceptions/src/registerExceptions.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new i.default({captureException:function(t){s.captureException(e,null,null,t)}}),n=function(t){t.reason instanceof Error?s.captureException(e,t.reason,null,null,"UNHANDLED_REJECTION"):e.addEvent("lr.core.Exception",function(){return{exceptionType:"UNHANDLED_REJECTION",message:t.reason||"Unhandled Promise rejection"}})};return window.addEventListener("unhandledrejection",n),function(){window.removeEventListener("unhandledrejection",n),t.uninstall()}};var i=r(n("./packages/@logrocket/exceptions/src/raven/raven.js")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n("./packages/@logrocket/exceptions/src/Capture.js"));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},"./packages/@logrocket/exceptions/src/stackTraceFromError.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e){return null===e?void 0:e}return e.stack?e.stack.map(function(e){return{lineNumber:t(e.line),columnNumber:t(e.column),fileName:t(e.url),functionName:t(e.func)}}):void 0}},"./packages/@logrocket/network/src/fetchIntercept.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),i=n("./packages/@logrocket/network/src/registerXHR.js"),s=[];function a(e,t){for(var n=s.reduce(function(e,t){return[t].concat(e)},[]),r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];var c=Promise.resolve(a);return n.forEach(function(e){var n=e.request,r=e.requestError;(n||r)&&(c=c.then(function(e){return n.apply(void 0,[t].concat((0,o.default)(e)))},function(e){return r.apply(void 0,[t].concat((0,o.default)(e)))}))}),c=c.then(function(t){var n,r;(0,i.setActive)(!1);try{n=e.apply(void 0,(0,o.default)(t))}catch(s){r=s}if((0,i.setActive)(!0),r)throw r;return n}),n.forEach(function(e){var n=e.response,r=e.responseError;(n||r)&&(c=c.then(function(e){return n(t,e)},function(e){return r&&r(t,e)}))}),c}function l(e){if(e.fetch&&e.Promise){var t=e.fetch.polyfill;e.fetch=function(e){var t=0;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a.apply(void 0,[e,t++].concat(r))}}(e.fetch),t&&(e.fetch.polyfill=t)}}var c=!1,u={register:function(e){return c||(c=!0,l(window)),s.push(e),function(){var t=s.indexOf(e);t>=0&&s.splice(t,1)}},clear:function(){s=[]}};t.default=u},"./packages/@logrocket/network/src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isReactNative:!1,isDisabled:!1};if(!0===(null===t||void 0===t?void 0:t.isDisabled))return function(){};var n=t.isReactNative,r=t.shouldAugmentNPS,o=t.shouldParseXHRBlob,d={},f=function(e){var t=e;if("object"===(0,i.default)(e)&&null!=e){var n=Object.getPrototypeOf(e);n!==Object.prototype&&null!==n||(t=JSON.stringify(e))}if(t&&t.length&&t.length>4096e3&&"string"===typeof t){var r=t.substring(0,1e3);return"".concat(r," ... LogRocket truncating to first 1000 characters.\n      Keep data under 4MB to prevent truncation. https://docs.logrocket.com/reference/network")}return e},p=function(t,n){var r=n.method;e.addEvent("lr.network.RequestEvent",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.isEnabled,i=void 0===o||o,s=e.requestSanitizer,a=void 0===s?function(e){return e}:s;if(!i)return null;var l=null;try{l=a(h(h({},n),{},{reqId:t}))}catch(m){console.error(m)}if(l){var c=l.url;if("undefined"!==typeof document&&"function"===typeof document.createElement){var p=document.createElement("a");p.href=l.url,c=p.href}return{reqId:t,url:c,headers:(0,u.default)(l.headers,function(e){return"".concat(e)}),body:f(l.body),method:r,referrer:l.referrer||void 0,mode:l.mode||void 0,credentials:l.credentials||void 0,initiatorType:l.initiatorType||"UNKNOWN"}}return d[t]=!0,null})},m=function(t,n){var r=n.method,o=n.status,i=n.responseType;e.addEvent("lr.network.ResponseEvent",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=e.isEnabled,a=void 0===s||s,l=e.responseSanitizer,c=void 0===l?function(e){return e}:l;if(!a)return null;if(d[t])return delete d[t],null;var p=null;try{p=c(h(h({},n),{},{reqId:t}))}catch(m){console.error(m)}return p?{reqId:t,responseType:i,status:p.status,headers:(0,u.default)(p.headers,function(e){return"".concat(e)}),body:f(p.body),method:r}:{reqId:t,responseType:i,status:o,headers:{},body:null,method:r}})},g=function(t){return e.isDisabled||!0===d[t]},v=(0,s.default)({addRequest:p,addResponse:m,isIgnored:g}),y=(0,c.default)({addRequest:p,addResponse:m,isIgnored:g,logger:e,shouldAugmentNPS:r,shouldParseXHRBlob:o}),b=(0,a.registerIonic)({addRequest:p,addResponse:m,isIgnored:g}),w=n?function(){}:(0,l.default)(e);return function(){w(),v(),y(),b()}};var o=r(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),i=r(n("./node_modules/@babel/runtime/helpers/typeof.js")),s=r(n("./packages/@logrocket/network/src/registerFetch.js")),a=n("./packages/@logrocket/network/src/registerIonic.ts"),l=r(n("./packages/@logrocket/network/src/registerNetworkInformation.js")),c=r(n("./packages/@logrocket/network/src/registerXHR.js")),u=r(n("./packages/@logrocket/utils/src/mapValues.ts"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},"./packages/@logrocket/network/src/registerFetch.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.addRequest,n=e.addResponse,r=e.isIgnored,o="fetch-",i={},a=s.default.register({request:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var a;if("undefined"!==typeof Request&&r[0]instanceof Request){var c;try{c=r[0].clone().text()}catch(d){c=Promise.resolve("LogRocket fetch error: ".concat(d.message))}a=c.then(function(e){return l(l({},u(r[0])),{},{body:e})},function(e){return l(l({},u(r[0])),{},{body:"LogRocket fetch error: ".concat(e.message)})})}else a=Promise.resolve(l(l({},u(r[1])),{},{url:"".concat(r[0]),body:(r[1]||{}).body}));return a.then(function(n){return i[e]=n.method,n.initiatorType="FETCH",t("".concat(o).concat(e),n),r})},requestError:function(e,t){return Promise.reject(t)},response:function(e,t){var s,a,l;if(r("".concat(o).concat(e)))return t;if("text/event-stream"===t.headers.get("content-type"))a=Promise.resolve("LogRocket skipped consuming an event-stream body.");else if("string"===typeof(l=t.headers.get("content-type"))&&(l.startsWith("image/")&&"image/svg+xml"!==l||l.startsWith("video/")||"application/octet-stream"===l))a=Promise.resolve("LogRocket skipped consuming a binary body.");else{try{s=t.clone()}catch(p){var u={url:t.url,responseType:t.type.toUpperCase(),status:t.status,headers:c(t.headers),body:"LogRocket fetch error: ".concat(p.message),method:i[e]};return delete i[e],n("".concat(o).concat(e),u),t}try{if(window.TextDecoder&&s.body){var d=s.body.getReader(),h=new window.TextDecoder("utf-8"),f="";a=d.read().then(function e(t){var n=t.done,r=t.value;if(n)return f;var o=r?h.decode(r,{stream:!0}):"";return f+=o,d.read().then(e)})}else a=s.text()}catch(m){a=Promise.resolve("LogRocket error reading body: ".concat(m.message))}}return a.catch(function(e){if(!("AbortError"===e.name&&e instanceof DOMException))return"LogRocket error reading body: ".concat(e.message)}).then(function(r){var s={url:t.url,responseType:t.type.toUpperCase(),status:t.status,headers:c(t.headers),body:r,method:i[e]};delete i[e],n("".concat(o).concat(e),s)}),t},responseError:function(e,t){var r={url:void 0,status:0,headers:{},body:"".concat(t)};return n("".concat(o).concat(e),r),Promise.reject(t)}});return a};var o=r(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),i=r(n("./packages/@logrocket/utils/src/mapValues.ts")),s=r(n("./packages/@logrocket/network/src/fetchIntercept.js"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=function(e){return(0,i.default)(function(e){if(null==e||"function"!==typeof e.forEach)return e;var t={};return e.forEach(function(e,n){t[n]?t[n]="".concat(t[n],",").concat(e):t[n]="".concat(e)}),t}(e),function(e){return"".concat(e)})};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{url:e.url,headers:c(e.headers),method:e.method&&e.method.toUpperCase(),referrer:e.referrer||void 0,mode:e.mode||void 0,credentials:e.credentials||void 0}}},"./packages/@logrocket/network/src/registerIonic.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.mergeHeaders=C,t.serializeQueryParams=function(e,t){return N("",e,t)},t.appendQueryParamsString=P,t.processData=T,t.registerIonic=function(e){var t,n,r,o=e.addRequest,i=e.addResponse,s=e.isIgnored,l=null===(t=window.cordova)||void 0===t||null===(n=t.plugin)||void 0===n?void 0:n.http,c={},u=!1;if("undefined"===typeof l)return function(){};var d=null===(r=window.ionic)||void 0===r?void 0:r.platforms;if("undefined"!==typeof d&&"function"===typeof d.some&&d.some(function(e){return g.has(e)}))return function(){};var v=l.sendRequest,y=(0,a.default)(function(e,t,n){if(!s("".concat(m).concat(n)))try{var r={url:e.url||"",status:e.status<600&&e.status>=100?e.status:0,headers:e.headers||{},body:t?e.data:e.error,method:c[n].toUpperCase()};i("".concat(m).concat(n),r)}catch(a){var o={url:e.url||"",status:e.status<600&&e.status>=100?e.status:0,headers:e.headers||{},body:"LogRocket fetch error: ".concat(a.message),method:c[n].toUpperCase()};i("".concat(m).concat(n),o)}});return l.sendRequest=function(e,t,n,r){var i=++A;if(!u)try{var s=function(e,t){var n,r=(e=e||{}).data;try{n=_(f,e.serializer||t.getDataSerializer(),"serializer / data payload type")}catch(o){n=_(p,e.serializer||t.getDataSerializer(),"serializer / data payload type"),r={}}return{data:r,filePath:e.filePath,followRedirect:e.followRedirect,headers:S(e.headers||{},b,"Invalid header type, must be string"),method:_(h,e.method||h[0],"method"),name:e.name,params:S(e.params||{},w,"Invalid param, must be of type string or array"),responseType:e.responseType,serializer:n,connectTimeout:e.connectTimeout,readTimeout:e.readTimeout,timeout:e.timeout}}(t,l),a=P(e,N("",s.params,!0)),d=function(e,t,n){var r=n.getHeaders("*")||{},o=function(e,t){var n=new URL(e),r=n.host;return t.getHeaders(r)||null}(e,n)||{};return C(C(r,o),t)}(e,s.headers,l),g=s.method||"get";c[i]=g;var k={url:a,method:g.toUpperCase(),headers:d||{},body:T(s.data||{},s.serializer),initiatorType:"IONIC"};o("".concat(m).concat(i),k)}catch(x){var E={url:e,method:(t.method||"get").toUpperCase(),headers:{},body:"LogRocket fetch error: ".concat(x.message),initiatorType:"IONIC"};o("".concat(m).concat(i),E)}return v(e,t,function(e){u||(y(e,!0,i),delete c[i]),n(e)},function(e){u||(y(e,!1,i),delete c[i]),r(e)})},function(){u=!0,l.sendRequest=v,c={}}};var o=r(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),i=r(n("./node_modules/@babel/runtime/helpers/typeof.js")),s=r(n("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),a=r(n("./packages/@logrocket/utils/src/protectFunc.ts"));function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=new Set(["get","put","post","patch","head","delete","options","upload","download"]),f=new Set(["urlencoded","json","utf8"]),p=new Set(["raw","multipart"]),m="ionic-",g=new Set(["desktop","mobileweb","pwa"]),v=new Set(["FormData"]),y=new Set,b=new Set(["string"]),w=new Set(["string","array"]),k={utf8:b,urlencoded:new Set(["object"]),json:new Set(["array","object"]),raw:new Set(["Uint8Array","ArrayBuffer"]),default:y};function _(e,t,n){if("string"!==typeof t)throw new Error("".concat(n," must be one of: ").concat((0,s.default)(e).join(", ")));if(t=t.trim().toLowerCase(),!e.has(t))throw new Error("".concat(n," must be one of: ").concat((0,s.default)(e).join(", ")));return t}function S(e,t,n){if("object"!==(0,i.default)(e))throw new Error(n);for(var r=0,o=Object.keys(e);r<o.length;r++){var s=o[r];if(!t.has((0,i.default)(e[s])))throw new Error(n)}return e}function C(e,t){return d(d({},e),t)}function E(e,t){return t?encodeURIComponent(e):e}function x(e,t,n){return e.length?n?"".concat(encodeURIComponent(e),"[").concat(encodeURIComponent(t),"]"):"".concat(e,"[").concat(t,"]"):n?encodeURIComponent(t):t}function I(e,t,n){var r,o=[],s=l(t);try{for(s.s();!(r=s.n()).done;){var a=r.value;Array.isArray(a)?o.push(I("".concat(e,"[]"),a,n)):"object"!==(0,i.default)(a)?o.push("".concat(x(e,"",n),"=").concat(E(a,n))):o.push(N("".concat(e,"[]").concat(a),n,void 0))}}catch(c){s.e(c)}finally{s.f()}return o.join("&")}function N(e,t,n){var r=[];for(var o in t)if(t.hasOwnProperty(o)){var s=e.length?"".concat(e,"[").concat(o,"]"):o;Array.isArray(t[o])?r.push(I(s,t[o],n)):"object"!==(0,i.default)(t[o])||null===t[o]?r.push("".concat(x(e,o,n),"=").concat(E(t[o],n))):r.push(N(s,t[o],n))}return r.join("&")}function P(e,t){if(!e.length||!t.length)return e;var n=new URL(e),r=n.host,o=n.pathname,i=n.search,s=n.hash,a=n.protocol;return"".concat(a,"//").concat(r).concat(o).concat(i.length?"".concat(i,"&").concat(t):"?".concat(t)).concat(s)}function T(e,t){var r=(0,i.default)(e),o=function(e){return k[e]||k.default}(t),a=function(e){return"multipart"===e?v:y}(t);if(a.size>0){var l=!1;if(a.forEach(function(t){n.g[t]&&e instanceof n.g[t]&&(l=!0)}),!l)throw new Error("INSTANCE_TYPE_MISMATCH_DATA ".concat((0,s.default)(a).join(", ")))}if(0===a.size&&!o.has(r))throw new Error("TYPE_MISMATCH_DATA ".concat((0,s.default)(o).join(", ")));return"utf8"===t?e:JSON.stringify(e,void 0,2)}var A=0},"./packages/@logrocket/network/src/registerNetworkInformation.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0;function r(){var r={online:window.navigator.onLine,effectiveType:"UNKOWN"};window.navigator.onLine?window.navigator.connection&&window.navigator.connection.effectiveType&&(r.effectiveType=n[window.navigator.connection.effectiveType]||"UNKNOWN"):r.effectiveType="NONE",t&&r.online===t.online&&r.effectiveType===t.effectiveType||(t=r,e.addEvent("lr.network.NetworkStatusEvent",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isEnabled;return void 0===e||e?r:null}))}return setTimeout(r),window.navigator.connection&&"function"===typeof window.navigator.connection.addEventListener&&window.navigator.connection.addEventListener("change",r),window.addEventListener("online",r),window.addEventListener("offline",r),function(){window.removeEventListener("offline",r),window.removeEventListener("online",r),window.navigator.connection&&"function"===typeof window.navigator.connection.removeEventListener&&window.navigator.connection.removeEventListener("change",r)}};var n={"slow-2g":"SLOW2G","2g":"TWOG","3g":"THREEG","4g":"FOURG"}},"./packages/@logrocket/network/src/registerXHR.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.setActive=function(e){d=e},t.default=function(e){var t=e.addRequest,n=e.addResponse,r=e.isIgnored,f=e.logger,p=e.shouldAugmentNPS,m=void 0===p||p,g=e.shouldParseXHRBlob,v=void 0!==g&&g,y=XMLHttpRequest,b=new WeakMap,w=!1,k="xhr-";return window._lrXMLHttpRequest=XMLHttpRequest,XMLHttpRequest=function(e,p){var g=new y(e,p);if(!d)return g;b.set(g,{xhrId:++h,requestHeaders:{},sent:!1,done:!1});var _=g.open,S=g.send;m&&(g.open=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{var r=t[1];if(window.URL&&"function"===typeof window.URL&&0===r.search(l.WOOTRIC_RESPONSES_REGEX)){var o=new window.URL(f.recordingURL);o.searchParams.set("nps","wootric");var i=new window.URL(r),s=i.searchParams.get("response[text]"),a=s?"".concat(s,"\n\n"):"";i.searchParams.set("response[text]","".concat(a,"<").concat(o.href,"|View LogRocket session>")),t[1]=i.href}}catch(c){}return _.apply(this,t)},g.send=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{var r=b.get(g);if(window.URL&&"function"===typeof window.URL&&r&&r.url&&0===r.url.search(l.DELIGHTED_RESPONSES_REGEX)&&t.length&&-1!==t[0].indexOf(l.DELIGHTED_FEEDBACK_PREFIX)){var o=new window.URL(f.recordingURL);o.searchParams.set("nps","delighted");var i=encodeURIComponent(o.href),s=t[0].split("&").map(function(e){if((0,a.default)(e,l.DELIGHTED_FEEDBACK_PREFIX)){var t=e===l.DELIGHTED_FEEDBACK_PREFIX;return"".concat(e).concat(t?"":"\n\n","<").concat(i,"|View LogRocket session>")}return e}).join("&");t[0]=s}}catch(c){}return S.apply(this,t)});var C=function(){var e;if(!w){var t=b.get(g);if(t&&!r("".concat(k).concat(t.xhrId))&&t.sent&&t.done){var o=t.status||c.XHR_CUSTOM_STATUS_CODES.error;o===c.XHR_CUSTOM_STATUS_CODES.error&&!1===(null===(e=window.navigator)||void 0===e?void 0:e.onLine)&&(o=c.XHR_CUSTOM_STATUS_CODES.offline);var i={url:t.url,status:o,headers:t.responseHeaders,body:t.responseBody,method:(t.method||"").toUpperCase()};if(v&&i.body instanceof Blob){var s=new FileReader;s.readAsText(i.body),s.onload=function(){try{i.body=JSON.parse(s.result)}catch(e){}n("".concat(k).concat(t.xhrId),i)}}else n("".concat(k).concat(t.xhrId),i)}}};(0,i.default)(g,"open",(0,s.default)(function(e,t){if(!w){var n=b.get(g);n.method=e,n.url=t}})),(0,i.default)(g,"send",(0,s.default)(function(e){if(!w){var n=b.get(g);if(n){var r={url:n.url,method:n.method&&n.method.toUpperCase(),headers:(0,o.default)(n.requestHeaders||{},function(e){return e.join(", ")}),body:e,initiatorType:"XHR"};t("".concat(k).concat(n.xhrId),r),n.sent=!0,C()}}})),(0,i.default)(g,"setRequestHeader",(0,s.default)(function(e,t){if(!w){var n=b.get(g);n&&(n.requestHeaders=n.requestHeaders||{},n.requestHeaders[e]=n.requestHeaders[e]||[],n.requestHeaders[e].push(t))}}));var E={readystatechange:(0,s.default)(function(){if(!w&&4===g.readyState){var e=b.get(g);if(!e)return;if(r("".concat(k).concat(e.xhrId)))return;var t,n=g.getAllResponseHeaders()||"";e.responseHeaders=(0,u.parseRawHeaders)(n);try{switch(g.responseType){case"json":t=f._shouldCloneResponse?JSON.parse(JSON.stringify(g.response)):g.response;break;case"arraybuffer":case"blob":t=v?g.response:"LogRocket skipped consuming a binary body.";break;case"document":t=g.responseXML;break;case"text":case"":t=g.responseText;break;default:t=""}}catch(o){t="LogRocket: Error accessing response."}e.responseBody=t,e.status=g.status,e.done=!0}}),abort:(0,s.default)(function(){var e=b.get(g);e&&(e.status=c.XHR_CUSTOM_STATUS_CODES.aborted)}),timeout:(0,s.default)(function(){var e=b.get(g);e&&(e.status=c.XHR_CUSTOM_STATUS_CODES.timeout)}),loadend:(0,s.default)(function(){C()})};return Object.keys(E).forEach(function(e){g.addEventListener(e,E[e])}),g},XMLHttpRequest.prototype=y.prototype,["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"].forEach(function(e){XMLHttpRequest[e]=y[e]}),function(){w=!0,XMLHttpRequest=y}};var o=r(n("./packages/@logrocket/utils/src/mapValues.ts")),i=r(n("./packages/@logrocket/utils/src/enhanceFunc.ts")),s=r(n("./packages/@logrocket/utils/src/protectFunc.ts")),a=r(n("./packages/@logrocket/utils/src/startsWith.js")),l=n("./packages/@logrocket/utils/src/constants/nps.js"),c=n("./packages/@logrocket/utils/src/constants/statusCodes.ts"),u=n("./packages/@logrocket/utils/src/parseRawHeaders.ts"),d=!0,h=0},"./packages/@logrocket/now/src/index.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=Date.now.bind(Date),r=n(),o="undefined"!==typeof performance&&performance.now?performance.now.bind(performance):function(){return n()-r};t.default=o},"./packages/@logrocket/redux/src/createEnhancer.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.stateSanitizer,r=void 0===n?function(e){return e}:n,o=t.actionSanitizer,s=void 0===o?function(e){return e}:o;return function(t){return function(n,o,c){var u=t(n,o,c),d=u.dispatch,h=l++;return e.addEvent("lr.redux.InitialState",function(){var e;try{e=r(u.getState())}catch(t){console.error(t.toString())}return{state:e,storeId:h}}),a(a({},u),{},{dispatch:function(t){var n,o,a=(0,i.default)();try{o=d(t)}catch(c){n=c}finally{var l=(0,i.default)()-a;e.addEvent("lr.redux.ReduxAction",function(){var e=null,o=null;try{e=r(u.getState()),o=s(t)}catch(n){console.error(n.toString())}return e&&o?{storeId:h,action:o,duration:l,stateDelta:e}:null})}if(n)throw n;return o}})}}};var o=r(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),i=r(n("./packages/@logrocket/now/src/index.js"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=0},"./packages/@logrocket/redux/src/createMiddleware.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.stateSanitizer,r=void 0===n?function(e){return e}:n,s=t.actionSanitizer,a=void 0===s?function(e){return e}:s;return function(t){var n=i++;return e.addEvent("lr.redux.InitialState",function(){var e;try{e=r(t.getState())}catch(o){console.error(o.toString())}return{state:e,storeId:n}}),function(i){return function(s){var l,c,u=(0,o.default)();try{c=i(s)}catch(h){l=h}finally{var d=(0,o.default)()-u;e.addEvent("lr.redux.ReduxAction",function(){var e=null,o=null;try{e=r(t.getState()),o=a(s)}catch(l){console.error(l.toString())}return e&&o?{storeId:n,action:o,duration:d,stateDelta:e}:null})}if(l)throw l;return c}}}};var o=r(n("./packages/@logrocket/now/src/index.js")),i=0},"./packages/@logrocket/redux/src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createEnhancer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"createMiddleware",{enumerable:!0,get:function(){return i.default}});var o=r(n("./packages/@logrocket/redux/src/createEnhancer.js")),i=r(n("./packages/@logrocket/redux/src/createMiddleware.js"))},"./packages/@logrocket/utils/src/TraceKit.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={collectWindowErrors:!0,debug:!1},o="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},i=[].slice,s="?",a=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;function l(){return"undefined"===typeof document||"undefined"===typeof document.location?"":document.location.href}r.report=function(){var e,t,n=[],c=null,u=null,d=null;function h(e,t){var o=null;if(!t||r.collectWindowErrors){for(var s in n)if(n.hasOwnProperty(s))try{n[s].apply(null,[e].concat(i.call(arguments,2)))}catch(a){o=a}if(o)throw o}}function f(t,n,o,i,c){if(d)r.computeStackTrace.augmentStackTraceWithInitialElement(d,n,o,t),p();else if(c)h(r.computeStackTrace(c),!0);else{var u,f={url:n,line:o,column:i},m=void 0,g=t;"[object String]"==={}.toString.call(t)&&(u=t.match(a))&&(m=u[1],g=u[2]),f.func=s,h({name:m,message:g,url:l(),stack:[f]},!0)}return!!e&&e.apply(this,arguments)}function p(){var e=d,t=c;c=null,d=null,u=null,h.apply(null,[e,!1].concat(t))}function m(e,t){var n=i.call(arguments,1);if(d){if(u===e)return;p()}var o=r.computeStackTrace(e);if(d=o,u=e,c=n,setTimeout(function(){u===e&&p()},o.incomplete?2e3:0),!1!==t)throw e}return m.subscribe=function(r){t||(e=o.onerror,o.onerror=f,t=!0),n.push(r)},m.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},m.uninstall=function(){t&&(o.onerror=e,t=!1,e=void 0),n=[]},m}(),r.computeStackTrace=function(){function e(e){if("undefined"!==typeof e.stack&&e.stack){for(var t,n,r=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=e.stack.split("\n"),c=[],u=(/^(.*) is undefined$/.exec(e.message),0),d=a.length;u<d;++u){if(t=r.exec(a[u])){var h=t[2]&&-1!==t[2].indexOf("native");n={url:h?null:t[2],func:t[1]||s,args:h?[t[2]]:[],line:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}else if(t=i.exec(a[u]))n={url:t[2],func:t[1]||s,args:[],line:+t[3],column:t[4]?+t[4]:null};else{if(!(t=o.exec(a[u])))continue;n={url:t[3],func:t[1]||s,args:t[2]?t[2].split(","):[],line:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}!n.func&&n.line&&(n.func=s),c.push(n)}return c.length?(c[0].column||"undefined"===typeof e.columnNumber||(c[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:l(),stack:c}):null}}function t(e,t,n,r){var o={url:t,line:n};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func=s),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,i){for(var a,c,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],h={},f=!1,p=n.caller;p&&!f;p=p.caller)if(p!==o&&p!==r.report){if(c={url:null,func:s,line:null,column:null},p.name?c.func=p.name:(a=u.exec(p.toString()))&&(c.func=a[1]),"undefined"===typeof c.func)try{c.func=a.input.substring(0,a.input.indexOf("{"))}catch(g){}h[""+p]?f=!0:h[""+p]=!0,d.push(c)}i&&d.splice(0,i);var m={name:e.name,message:e.message,url:l(),stack:d};return t(m,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),m}function o(t,o){var i=null;o=null==o?0:+o;try{if(i=e(t))return i}catch(s){if(r.debug)throw s}try{if(i=n(t,o+1))return i}catch(s){if(r.debug)throw s}return{name:t.name,message:t.message,url:l()}}return o.augmentStackTraceWithInitialElement=t,o.computeStackTraceFromStackProp=e,o}();var c=r;t.default=c},"./packages/@logrocket/utils/src/constants/nps.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DELIGHTED_FEEDBACK_PREFIX=t.DELIGHTED_RESPONSES_REGEX=t.WOOTRIC_RESPONSES_REGEX=void 0,t.WOOTRIC_RESPONSES_REGEX=/^https:\/\/production.wootric.com\/responses/,t.DELIGHTED_RESPONSES_REGEX=/^https:\/\/web.delighted.com\/e\/[a-zA-Z-]*\/c/,t.DELIGHTED_FEEDBACK_PREFIX="comment="},"./packages/@logrocket/utils/src/constants/statusCodes.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.getStatusText=function(e){return s[String(e)]},t.XHR_CUSTOM_FAILURE_STATUSES=t.XHR_CUSTOM_STATUS_CODES=t.STATUS_CODES=void 0;var o,i=r(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),s={0:"",100:"Continue",101:"Switching Protocol",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"unused",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};t.STATUS_CODES=s;var a={error:0,timeout:444,aborted:499,offline:1001};t.XHR_CUSTOM_STATUS_CODES=a;var l=(o={},(0,i.default)(o,a.error,"Error"),(0,i.default)(o,a.timeout,"Timeout"),(0,i.default)(o,a.aborted,"Aborted"),(0,i.default)(o,a.offline,"Offline"),o);t.XHR_CUSTOM_FAILURE_STATUSES=l},"./packages/@logrocket/utils/src/createUnsubListener.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.createUnsubListener=function(e){return function(){e.clear()}},t.Handler=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(n("./node_modules/@babel/runtime/helpers/createClass.js")),s=function(){function e(t){(0,o.default)(this,e),this._value=void 0,this._value=t}return(0,i.default)(e,[{key:"get",value:function(){return this._value}},{key:"clear",value:function(){this._value=void 0}}]),e}();t.Handler=s},"./packages/@logrocket/utils/src/enhanceFunc.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if("function"!==typeof e[t])return o;try{var i=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=s.apply(this,n);return null===(e=a.get())||void 0===e||e.apply(this,n),o},s=e[t],a=new r.Handler(n);return e[t]=i,function(){a.clear(),e[t]===i&&(e[t]=s)}}catch(l){return o}};var r=n("./packages/@logrocket/utils/src/createUnsubListener.ts"),o=function(){}},"./packages/@logrocket/utils/src/logError.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="undefined"!==typeof console&&console.error&&console.error.bind?console.error.bind(console):function(){};t.default=n},"./packages/@logrocket/utils/src/mapValues.ts":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)return{};var n={};return Object.keys(e).forEach(function(r){n[r]=t(e[r])}),n}},"./packages/@logrocket/utils/src/parseRawHeaders.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.parseRawHeaders=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/defineProperty.js"));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.parseRawHeaders=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split(/[\r\n]+/).reduce(function(e,n){var r=n.indexOf(":"),i=n.substring(0,r),a=n.substring(r+1).trim(),l=t.lowerCaseKeys?i.toLowerCase():i;return s(s({},e),{},(0,o.default)({},l,"string"===typeof e[i]?"".concat(e[i],", ").concat(a):a))},{})}},"./packages/@logrocket/utils/src/protectFunc.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(){var n;try{n=e.apply(void 0,arguments)}catch(s){if("undefined"!==typeof window&&window._lrdebug)throw s;var r=t(s);(0,i.default)("LogRocket",s),(0,o.default)(s,r)}return n}};var o=r(n("./packages/@logrocket/utils/src/sendTelemetryData.js")),i=r(n("./packages/@logrocket/utils/src/logError.js"))},"./packages/@logrocket/utils/src/scrubException.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.scrubException=function(e,t){if(t){var n,r=i(l);try{for(r.s();!(n=r.n()).done;){var o=n.value,s=t[o];a(s)&&(e[o]=s.toString())}}catch(b){r.e(b)}finally{r.f()}var u,d=i(c);try{for(d.s();!(u=d.n()).done;){for(var h=u.value,f=t[h]||{},p={},m=0,g=Object.keys(f);m<g.length;m++){var v=g[m],y=f[v];a(y)&&(p[v.toString()]=y.toString())}e[h]=p}}catch(b){d.e(b)}finally{d.f()}}};var o=r(n("./node_modules/@babel/runtime/helpers/typeof.js"));function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return/boolean|number|string/.test((0,o.default)(e))}var l=["level","logger"],c=["tags","extra"]},"./packages/@logrocket/utils/src/sendTelemetryData.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.sendTelemetry=function(e,t){"undefined"!==typeof window&&window._lrdebug?(0,i.default)(e):t&&t.extra&&t.extra.appID&&"function"===typeof t.extra.appID.indexOf&&0===t.extra.appID.indexOf("au2drp/")&&Math.random()>=.25||u(l({message:e},t))},t.default=function(e,t){try{var n,r,o=e.message;try{n=JSON.stringify(t).slice(0,1e3)}catch(e){try{n="Could not stringify payload: ".concat(Object.prototype.toString.call(t))}catch(e){}}try{r=s.default.computeStackTrace(e).stack.map(function(e){return{filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"}})}catch(e){}u({message:o,extra:{stringPayload:n},exception:{values:[{type:e.type,value:o,stacktrace:{frames:r}}]}})}catch(e){(0,i.default)("Failed to send",e)}};var o=r(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),i=r(n("./packages/@logrocket/utils/src/logError.js")),s=r(n("./packages/@logrocket/utils/src/TraceKit.js"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c="c6f6e11c10b0c0daa2223c3bf1ca4f7e01fd93d1";function u(e){try{var t,n,r=e.message,o="https://e.logrocket.com/api/3/store/?sentry_version=7&sentry_client=http%2F3.8.0&sentry_key=b64162b4187a4c5caae8a68a7e291793",s=JSON.stringify(l({message:r,logger:"javascript",platform:"javascript",request:{headers:{"User-Agent":"undefined"!==typeof navigator&&navigator.userAgent},url:"undefined"!==typeof location&&location.href},release:c,environment:"undefined"!==typeof window&&null!==(t=null===(n=window.__SDKCONFIG__)||void 0===n?void 0:n.scriptEnv)&&void 0!==t?t:"prod"},e));if("undefined"!==typeof window){var a=new(window._lrXMLHttpRequest||XMLHttpRequest);a.open("POST",o),a.send(s)}else"undefined"!==typeof fetch&&fetch(o,{method:"POST",body:s}).catch(function(e){(0,i.default)("Failed to send via fetch",e)})}catch(u){(0,i.default)("Failed to send",u)}}},"./packages/@logrocket/utils/src/startsWith.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e&&t&&e.substring(n,n+t.length)===t}},"./packages/logrocket/src/LogRocket.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MAX_QUEUE_SIZE=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(n("./node_modules/@babel/runtime/helpers/createClass.js")),s=r(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),a=r(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),l=r(n("./packages/@logrocket/network/src/index.js")),c=n("./packages/@logrocket/exceptions/src/index.js"),u=r(n("./packages/@logrocket/console/src/index.js")),d=n("./packages/@logrocket/redux/src/index.js"),h=r(n("./packages/@logrocket/utils/src/sendTelemetryData.js"));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.MAX_QUEUE_SIZE=1e3;var m=function(){function e(){var t=this;(0,o.default)(this,e),this._buffer=[],["log","info","warn","error","debug"].forEach(function(e){t[e]=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t.addEvent("lr.core.LogEvent",function(){return"error"===e&&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).shouldAggregateConsoleErrors&&c.Capture.captureMessage(t,r[0],r,{},!0),{logLevel:e.toUpperCase(),args:r}},{shouldCaptureStackTrace:!0})}}),this._isInitialized=!1,this._installed=[],window._lr_surl_cb=this.getSessionURL.bind(this)}return(0,i.default)(e,[{key:"addEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Date.now();this._run(function(o){o.addEvent(e,t,p(p({},n),{},{timeOverride:r}))})}},{key:"onLogger",value:function(e){for(this._logger=e;this._buffer.length>0;)this._buffer.shift()(this._logger)}},{key:"_run",value:function(e){if(!this._isDisabled)if(this._logger)e(this._logger);else{if(this._buffer.length>=1e3)return this._isDisabled=!0,console.warn("LogRocket: script did not load. Check that you have a valid network connection."),void this.uninstall();this._buffer.push(e.bind(this))}}},{key:"_initInternal",value:function(e,t){if(!this._isInitialized){var n,r=t.shouldAugmentNPS,o=void 0===r||r,i=t.shouldParseXHRBlob,s=void 0!==i&&i,d=t.shouldDetectExceptions;(void 0===d||d)&&this._installed.push((0,c.registerExceptions)(this)),this._installed.push((0,l.default)(this,{shouldAugmentNPS:!!o,shouldParseXHRBlob:!!s,isDisabled:!1===(null===t||void 0===t||null===(n=t.network)||void 0===n?void 0:n.isEnabled)})),this._installed.push((0,u.default)(this)),this._isInitialized=!0,this._run(function(n){n.init(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ingestServer,n=(0,a.default)(e,["ingestServer"]);return t?p({serverURL:"".concat(t,"/i"),statsURL:"".concat(t,"/s")},n):n}(t))})}}},{key:"init",value:function(e){var t,n,r,o,i,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=(null===(t=window)||void 0===t||null===(n=t.Zone)||void 0===n?void 0:n.root)||(null===(r=window)||void 0===r||null===(o=r.Zone)||void 0===o||null===(i=o.current)||void 0===i?void 0:i._parent);if(l&&"function"===typeof l.run)try{return void l.run(function(){s._initInternal(e,a)})}catch(c){console.warn("LogRocket: init failed to escape Angular Zone",c),(0,h.default)(c)}this._initInternal(e,a)}},{key:"start",value:function(){this._run(function(e){e.start()})}},{key:"uninstall",value:function(){this._installed.forEach(function(e){return e()}),this._buffer=[],this._run(function(e){e.uninstall()})}},{key:"identify",value:function(e,t){this._run(function(n){n.identify(e,t)})}},{key:"startNewSession",value:function(){this._run(function(e){e.startNewSession()})}},{key:"track",value:function(e,t){this._run(function(n){n.track(e,t)})}},{key:"getSessionURL",value:function(e){if("function"!==typeof e)throw new Error("LogRocket: must pass callback to getSessionURL()");this._run(function(t){t.getSessionURL?t.getSessionURL(e):e(t.recordingURL)})}},{key:"trackScrollEvent",value:function(e){this._logger&&this._logger.trackScrollEvent(e)}},{key:"getVersion",value:function(e){this._run(function(t){e(t.version)})}},{key:"captureMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c.Capture.captureMessage(this,e,[e],t)}},{key:"captureException",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c.Capture.captureException(this,e,t)}},{key:"version",get:function(){return this._logger&&this._logger.version}},{key:"sessionURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingID",get:function(){return this._logger&&this._logger.recordingID}},{key:"threadID",get:function(){return this._logger&&this._logger.threadID}},{key:"tabID",get:function(){return this._logger&&this._logger.tabID}},{key:"reduxEnhancer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,d.createEnhancer)(this,e)}},{key:"reduxMiddleware",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,d.createMiddleware)(this,e)}},{key:"isDisabled",get:function(){return!!(this._isDisabled||this._logger&&this._logger._isDisabled)}}]),e}();t.default=m},"./packages/logrocket/src/makeLogRocket.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return new o.default};if("undefined"!==typeof navigator&&"ReactNative"===navigator.product)throw new Error(i);if("undefined"!==typeof window){if(window._disableLogRocket)return t();if(window.MutationObserver&&window.WeakMap){window._lrMutationObserver=window.MutationObserver;var r=n();return e(r),r}}return s()};var o=r(n("./packages/logrocket/src/LogRocket.js")),i="LogRocket on React Native requires the LogRocket React Native specific SDK. See setup guide here https://docs.logrocket.com/reference/react-native.",s=function(){return{init:function(){},uninstall:function(){},log:function(){},info:function(){},warn:function(){},error:function(){},debug:function(){},addEvent:function(){},identify:function(){},start:function(){},get threadID(){return null},get recordingID(){return null},get recordingURL(){return null},reduxEnhancer:function(){return function(e){return function(){return e.apply(void 0,arguments)}}},reduxMiddleware:function(){return function(){return function(e){return function(t){return e(t)}}}},track:function(){},getSessionURL:function(){},getVersion:function(){},startNewSession:function(){},onLogger:function(){},setClock:function(){},captureMessage:function(){},captureException:function(){}}}},"./packages/logrocket/src/setup.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainsAndEnv=a,t.setupBaseSDKCONFIG=l,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enterpriseServer,n=e.sdkVersion,r=void 0===n?"10.1.1":n,s=(0,o.default)(e,["enterpriseServer","sdkVersion"]),c=a(r),u=c.scriptEnv,d=c.scriptOrigin,h=c.scriptIngest,f=s.sdkServer||t,p=s.ingestServer||t||h,m=(0,i.default)(function(){var e=document.createElement("script");p&&(l(p),window.__SDKCONFIG__.scriptEnv=u),f?e.src="".concat(f,"/logger.min.js"):window.__SDKCONFIG__&&window.__SDKCONFIG__.loggerURL?e.src=window.__SDKCONFIG__.loggerURL:window._lrAsyncScript?e.src=window._lrAsyncScript:e.src="".concat(d,"/logger-1.min.js"),e.async=!0,document.head.appendChild(e),e.onload=function(){"function"===typeof window._LRLogger?setTimeout(function(){m.onLogger(new window._LRLogger({sdkVersion:r}))}):(console.warn("LogRocket: script execution has been blocked by a product or service."),m.uninstall())},e.onerror=function(){console.warn("LogRocket: script could not load. Check that you have a valid network connection."),m.uninstall()}});return m};var o=r(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),i=r(n("./packages/logrocket/src/makeLogRocket.js")),s={"cdn.logrocket.com":"https://r.logrocket.io","cdn.logrocket.io":"https://r.logrocket.io","cdn.lr-ingest.io":"https://r.lr-ingest.io","cdn.lr-in.com":"https://r.lr-in.com","cdn.lr-in-prod.com":"https://r.lr-in-prod.com","cdn.lr-ingest.com":"https://r.lr-ingest.com","cdn.ingest-lr.com":"https://r.ingest-lr.com","cdn.lr-intake.com":"https://r.lr-intake.com","cdn.intake-lr.com":"https://r.intake-lr.com","cdn.logr-ingest.com":"https://r.logr-ingest.com","cdn.lrkt-in.com":"https://r.lrkt-in.com","cdn.lgrckt-in.com":"https://r.lgrckt-in.com","cdn-staging.logrocket.io":"https://staging-i.logrocket.io","cdn-staging.lr-ingest.io":"https://staging-i.lr-ingest.io","cdn-staging.lr-in.com":"https://staging-i.lr-in.com","cdn-staging.lr-in-prod.com":"https://staging-i.lr-in-prod.com","cdn-staging.lr-ingest.com":"https://staging-i.lr-ingest.com","cdn-staging.ingest-lr.com":"https://staging-i.ingest-lr.com","cdn-staging.lr-intake.com":"https://staging-i.lr-intake.com","cdn-staging.intake-lr.com":"https://staging-i.intake-lr.com","cdn-staging.logr-ingest.com":"https://staging-i.logr-ingest.com","cdn-staging.lrkt-in.com":"https://staging-i.lrkt-in.com","cdn-staging.lgrckt-in.com":"https://staging-i.lgrckt-in.com"};function a(e){if("script"===e||"shopify-pixel"===e){try{var t=document.currentScript.src.match(/^(https?:\/\/([^\\]+))\/.+$/),n=t&&t[2];if(n&&s[n])return{scriptEnv:(r=n,r.startsWith("cdn-staging")?"staging":r.startsWith("localhost")?"development":"prod"),scriptOrigin:t&&t[1],scriptIngest:s[n]}}catch(o){}return{scriptEnv:"prod",scriptOrigin:"https://cdn.logrocket.io"}}return{scriptEnv:void 0,scriptOrigin:"https://cdn.lgrckt-in.com",scriptIngest:"https://r.lgrckt-in.com"};var r}function l(e){"undefined"===typeof window.__SDKCONFIG__&&(window.__SDKCONFIG__={}),window.__SDKCONFIG__.serverURL="".concat(e,"/i"),window.__SDKCONFIG__.statsURL="".concat(e,"/s")}},"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/createClass.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/toPropertyKey.js");e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(e){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),o=n("./node_modules/@babel/runtime/helpers/iterableToArray.js"),i=n("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),s=n("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");e.exports=function(e){return r(e)||o(e)||i(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/toPrimitive.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/typeof.js").default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/toPropertyKey.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/typeof.js").default,o=n("./node_modules/@babel/runtime/helpers/toPrimitive.js");e.exports=function(e){var t=o(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/typeof.js":function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r={};return function(){"use strict";var e=r,t=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(0,t(n("./packages/logrocket/src/setup.js")).default)();e.default=o}(),r=r.default}()},e.exports=t()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".a3c1d153.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";n.l=(r,o,i,s)=>{if(e[r])e[r].push(o);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[o];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=i);var s=n.p+n.u(t),a=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,o[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,i,s=r[0],a=r[1],l=r[2],c=0;if(s.some(t=>0!==e[t])){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391),r="popstate";function o(){return d(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return l("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:c(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function i(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function s(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function a(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?u(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function c(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function d(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=o,c=i.history,u="POP",d=null,f=p();function p(){return(c.state||{idx:null}).idx}function m(){u="POP";let e=p(),t=null==e?null:e-f;f=e,d&&d({action:u,location:v.location,delta:t})}function g(e){return h(e)}null==f&&(f=0,c.replaceState({...c.state,idx:f},""));let v={get action(){return u},get location(){return e(i,c)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(r,m),d=e,()=>{i.removeEventListener(r,m),d=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u="PUSH";let r=l(v.location,e,t);n&&n(r,e),f=p()+1;let o=a(r,f),h=v.createHref(r);try{c.pushState(o,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;i.location.assign(h)}s&&d&&d({action:u,location:v.location,delta:1})},replace:function(e,t){u="REPLACE";let r=l(v.location,e,t);n&&n(r,e),f=p();let o=a(r,f),i=v.createHref(r);c.replaceState(o,"",i),s&&d&&d({action:u,location:v.location,delta:0})},go:e=>c.go(e)};return v}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),i(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:c(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let o=P(("string"===typeof t?u(t):t).pathname||"/",n);if(null==o)return null;let i=m(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=N(o);s=E(i[a],e,r)}return s}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(i(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let l=D([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(i(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),m(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))o(e,t,n);else o(e,t)}),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let s=g(r.join("/")),a=[];return a.push(...s.map(e=>""===e?i:[i,e].join("/"))),o&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var v=/^:[\w-]+$/,y=3,b=2,w=1,k=10,_=-2,S=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=_),t&&(r+=b),n.filter(e=>!S(e)).reduce((e,t)=>e+(v.test(t)?y:""===t?w:k),r)}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=x({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=x({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:D([i,u.pathname]),pathnameBase:O(D([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=D([i,u.pathnameBase]))}return s}function x(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=I(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=a[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function I(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function N(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function T(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function j(e){let t=A(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function R(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=u(e):(r={...e},i(!r.pathname||!r.pathname.includes("?"),T("?","pathname","search",r)),i(!r.pathname||!r.pathname.includes("#"),T("#","pathname","hash",r)),i(!r.search||!r.search.includes("#"),T("#","search","hash",r)));let s,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!o&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?u(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:L(r),hash:B(o)}}(r,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}var D=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function M(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var F=["POST","PUT","PATCH","DELETE"],U=(new Set(F),["GET",...F]);new Set(U),Symbol("ResetLoaderData");var z=e.createContext(null);z.displayName="DataRouter";var V=e.createContext(null);V.displayName="DataRouterState";var $=e.createContext(!1);var q=e.createContext({isTransitioning:!1});q.displayName="ViewTransition";var H=e.createContext(new Map);H.displayName="Fetchers";var W=e.createContext(null);W.displayName="Await";var G=e.createContext(null);G.displayName="Navigation";var K=e.createContext(null);K.displayName="Location";var Q=e.createContext({outlet:null,matches:[],isDataRoute:!1});Q.displayName="Route";var Y=e.createContext(null);Y.displayName="RouteError";function X(){return null!=e.useContext(K)}function J(){return i(X(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(K).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ee(t){e.useContext(G).static||e.useLayoutEffect(t)}function te(){let{isDataRoute:t}=e.useContext(Q);return t?function(){let{router:t}=de("useNavigate"),n=fe("useNavigate"),r=e.useRef(!1);ee(()=>{r.current=!0});let o=e.useCallback(async function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(r.current,Z),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...o}))},[t,n]);return o}():function(){i(X(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(z),{basename:n,navigator:r}=e.useContext(G),{matches:o}=e.useContext(Q),{pathname:a}=J(),l=JSON.stringify(j(o)),c=e.useRef(!1);ee(()=>{c.current=!0});let u=e.useCallback(function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(c.current,Z),!c.current)return;if("number"===typeof e)return void r.go(e);let i=R(e,JSON.parse(l),a,"path"===o.relative);null==t&&"/"!==n&&(i.pathname="/"===i.pathname?n:D([n,i.pathname])),(o.replace?r.replace:r.push)(i,o.state,o)},[n,r,l,a,t]);return u}()}e.createContext(null);function ne(){let{matches:t}=e.useContext(Q),n=t[t.length-1];return n?n.params:{}}function re(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(Q),{pathname:o}=J(),i=JSON.stringify(j(r));return e.useMemo(()=>R(t,JSON.parse(i),o,"path"===n),[t,i,o,n])}function oe(t,n,r,o){i(X(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=e.useContext(G),{matches:l}=e.useContext(Q),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let e=m&&m.path||"";ge(h,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,v=J();if(n){let e="string"===typeof n?u(n):n;i("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=v;let y=g.pathname||"/",b=y;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=f(t,{pathname:b});s(m||null!=w,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),s(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=ce(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:D([p,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:D([p,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,r,o);return n&&k?e.createElement(K.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},k):k}function ie(){let t=pe(),n=M(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},s={padding:"2px 4px",backgroundColor:o},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,a)}var se=e.createElement(ie,null),ae=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(Q.Provider,{value:this.props.routeContext},e.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function le(t){let{routeContext:n,match:r,children:o}=t,i=e.useContext(z);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Q.Provider,{value:n},o)}function ce(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let o=t,s=r?.errors;if(null!=s){let e=o.findIndex(e=>e.route.id&&void 0!==s?.[e.route.id]);i(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,l=-1;if(r)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){a=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}return o.reduceRight((t,i,c)=>{let u,d=!1,h=null,f=null;r&&(u=s&&i.route.id?s[i.route.id]:void 0,h=i.route.errorElement||se,a&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=i.route.hydrateFallbackElement||null)));let p=n.concat(o.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(le,{match:i,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===c)?e.createElement(ae,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function ue(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function de(t){let n=e.useContext(z);return i(n,ue(t)),n}function he(t){let n=e.useContext(V);return i(n,ue(t)),n}function fe(t){let n=function(t){let n=e.useContext(Q);return i(n,ue(t)),n}(t),r=n.matches[n.matches.length-1];return i(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function pe(){let t=e.useContext(Y),n=he("useRouteError"),r=fe("useRouteError");return void 0!==t?t:n.errors?.[r]}var me={};function ge(e,t,n){t||me[e]||(me[e]=!0,s(!1,n))}var ve={};function ye(e,t){e||ve[t]||(ve[t]=!0,console.warn(t))}e.memo(function(e){let{routes:t,future:n,state:r}=e;return oe(t,void 0,r,n)});function be(t){let{to:n,replace:r,state:o,relative:a}=t;i(X(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=e.useContext(G);s(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=e.useContext(Q),{pathname:u}=J(),d=te(),h=R(n,j(c),u,"path"===a),f=JSON.stringify(h);return e.useEffect(()=>{d(JSON.parse(f),{replace:r,state:o,relative:a})},[d,f,a,r,o]),null}function we(e){i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ke(t){let{basename:n="/",children:r=null,location:o,navigationType:a="POP",navigator:l,static:c=!1}=t;i(!X(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=e.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);"string"===typeof o&&(o=u(o));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=o,y=e.useMemo(()=>{let e=P(f,d);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:a}},[d,f,p,m,g,v,a]);return s(null!=y,`<Router basename="${d}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:e.createElement(G.Provider,{value:h},e.createElement(K.Provider,{children:r,value:y}))}function _e(e){let{children:t,location:n}=e;return oe(Se(t),n)}e.Component;function Se(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,(t,o)=>{if(!e.isValidElement(t))return;let s=[...n,o];if(t.type===e.Fragment)return void r.push.apply(r,Se(t.props.children,s));i(t.type===we,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),i(!t.props.index||!t.props.children,"An index route cannot have child routes.");let a={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=Se(t.props.children,s)),r.push(a)}),r}var Ce="get",Ee="application/x-www-form-urlencoded";function xe(e){return null!=e&&"string"===typeof e.tagName}var Ie=null;var Ne=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pe(e){return null==e||Ne.has(e)?e:(s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ee}"`),null)}function Te(e,t){let n,r,o,i,s;if(xe(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?P(s,t):null,n=e.getAttribute("method")||Ce,o=Pe(e.getAttribute("enctype"))||Ee,i=new FormData(e)}else if(function(e){return xe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return xe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?P(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Ce,o=Pe(e.getAttribute("formenctype"))||Pe(s.getAttribute("enctype"))||Ee,i=new FormData(s,e),!function(){if(null===Ie)try{new FormData(document.createElement("form"),0),Ie=!1}catch(e){Ie=!0}return Ie}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(xe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ce,r=null,o=Ee,s=e}var a;return i&&"text/plain"===o&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ae(e){return{__html:e}}function je(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Re(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===P(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function De(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Oe(e){return null!=e&&"string"===typeof e.page}function Le(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Be(e,t,n,r,o,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>s(e,t)||a(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||a(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Me(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1),[...new Set(r)];var r}function Fe(e,t){let n=new Set,r=new Set(t);return e.reduce((e,o)=>{if(t&&!Oe(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e},[])}function Ue(e,t){return"lazy"===e.mode&&!0===t}function ze(){let t=e.useContext(z);return je(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ve(){let t=e.useContext(V);return je(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $e=e.createContext(void 0);function qe(){let t=e.useContext($e);return je(t,"You must render this element inside a <HydratedRouter> element"),t}function He(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function We(e,t,n){if(n&&!Ye)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}$e.displayName="FrameworkContext";function Ge(t){let{page:n,...r}=t,{router:o}=ze(),i=e.useMemo(()=>f(o.routes,n,o.basename),[o.routes,n,o.basename]);return i?e.createElement(Qe,{page:n,matches:i,...r}):null}function Ke(t){let{manifest:n,routeModules:r}=qe(),[o,i]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return Fe((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await De(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Le).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(t,n,r).then(t=>{e||i(t)}),()=>{e=!0}},[t,n,r]),o}function Qe(t){let{page:n,matches:r,...o}=t,i=J(),{manifest:s,routeModules:a}=qe(),{basename:l}=ze(),{loaderData:c,matches:u}=Ve(),d=e.useMemo(()=>Be(n,r,u,s,i,"data"),[n,r,u,s,i]),h=e.useMemo(()=>Be(n,r,u,s,i,"assets"),[n,r,u,s,i]),f=e.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{let r=s.routes[n.route.id];r&&r.hasLoader&&(!d.some(e=>e.route.id===n.route.id)&&n.route.id in c&&a[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let o=Re(n,l,"data");return t&&e.size>0&&o.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[o.pathname+o.search]},[l,c,i,s,d,r,n,a]),p=e.useMemo(()=>Me(h,s),[h,s]),m=Ke(h);return e.createElement(e.Fragment,null,f.map(t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...o})),p.map(t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...o})),m.map(t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})}))}var Ye=!1;function Xe(t){let{manifest:n,serverHandoffString:r,isSpaMode:o,renderMeta:i,routeDiscovery:s,ssr:a}=qe(),{router:l,static:c,staticContext:u}=ze(),{matches:d}=Ve(),h=e.useContext($),p=Ue(s,a);i&&(i.didRenderScripts=!0);let m=We(d,null,o);e.useEffect(()=>{0},[]);let g=e.useMemo(()=>{if(h)return null;let o=u?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=c?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${p?"":`import ${JSON.stringify(n.url)}`};\n${m.map((e,t)=>{let r=`route${t}`,o=n.routes[e.route.id];je(o,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=o,u=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...a?[{module:a,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${r} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${p?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,o=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push(`/${i.join("/")}`),i.pop();s.forEach(e=>{let n=f(t.routes,e,t.basename);n&&n.forEach(e=>o.add(e.route.id))});let a=[...o].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return{...r,routes:a,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${m.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ae(o),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ae(i),type:"module",async:!0}))},[]),v=Ye||h?[]:(n.entry.imports.concat(Me(m,n,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let b="object"===typeof n.sri?n.sri:{};return ye(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Ye||h?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,p?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:b[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:b[n.entry.module],suppressHydrationWarning:!0}),v.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:b[n],suppressHydrationWarning:!0})),g)}function Je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function Ze(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let o,i=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(M(n))return e.createElement(et,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(et,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function et(t){let{title:n,renderScripts:r,isOutsideRemixApp:o,children:i}=t,{routeModules:s}=qe();return s.root?.Layout&&!o?i:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?e.createElement(Xe,null):null)))}var tt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{tt&&(window.__reactRouterVersion="7.7.1")}catch(EC){}function nt(t){let{basename:n,children:r,window:i}=t,s=e.useRef();null==s.current&&(s.current=o({window:i,v5Compat:!0}));let a=s.current,[l,c]=e.useState({action:a.action,location:a.location}),u=e.useCallback(t=>{e.startTransition(()=>c(t))},[c]);return e.useLayoutEffect(()=>a.listen(u),[a,u]),e.createElement(ke,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:a})}var rt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=e.forwardRef(function(t,n){let r,{onClick:o,discover:a="render",prefetch:l="none",relative:u,reloadDocument:d,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,...y}=t,{basename:b}=e.useContext(G),w="string"===typeof m&&rt.test(m),k=!1;if("string"===typeof m&&w&&(r=m,tt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=P(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:k=!0}catch(EC){s(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(X(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=e.useContext(G),{hash:s,pathname:a,search:l}=re(t,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:D([r,a])),o.createHref({pathname:c,search:l,hash:s})}(m,{relative:u}),[S,C,E]=function(t,n){let r=e.useContext($e),[o,i]=e.useState(!1),[s,a]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=e.useRef(null);e.useEffect(()=>{if("render"===t&&a(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(o){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[o]);let p=()=>{i(!0)},m=()=>{i(!1),a(!1)};return r?"intent"!==t?[s,f,{}]:[s,f,{onFocus:He(l,p),onBlur:He(c,m),onMouseEnter:He(u,p),onMouseLeave:He(d,m),onTouchStart:He(h,p)}]:[!1,f,{}]}(l,y),x=function(t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=te(),u=J(),d=re(t,{relative:s});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:c(u)===c(d);l(t,{replace:n,state:o,preventScrollReset:i,relative:s,viewTransition:a})}},[u,l,d,r,o,n,t,i,s,a])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:u,viewTransition:v});let I=e.createElement("a",{...y,...E,href:r||_,onClick:k||d?o:function(e){o&&o(e),e.defaultPrevented||x(e)},ref:Je(n,C),target:p,"data-discover":w||"render"!==a?void 0:"true"});return S&&!w?e.createElement(e.Fragment,null,I,e.createElement(Ge,{page:_})):I});ot.displayName="Link",e.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:d,...h}=t,f=re(c,{relative:h.relative}),p=J(),m=e.useContext(V),{navigator:g,basename:v}=e.useContext(G),y=null!=m&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(q);i(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=at("useViewTransitionState"),s=re(t,{relative:n});if(!r.isTransitioning)return!1;let a=P(r.currentLocation.pathname,o)||r.currentLocation.pathname,l=P(r.nextLocation.pathname,o)||r.nextLocation.pathname;return null!=x(s.pathname,l)||null!=x(s.pathname,a)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,k=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(w=w.toLowerCase(),k=k?k.toLowerCase():null,b=b.toLowerCase()),k&&v&&(k=P(k,v)||k);const _="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,C=w===b||!a&&w.startsWith(b)&&"/"===w.charAt(_),E=null!=k&&(k===b||!a&&k.startsWith(b)&&"/"===k.charAt(b.length)),I={isActive:C,isPending:E,isTransitioning:y},N=C?r:void 0;S="function"===typeof s?s(I):[s,C?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof l?l(I):l;return e.createElement(ot,{...h,"aria-current":N,className:S,ref:n,style:T,to:c,viewTransition:u},"function"===typeof d?d(I):d)}).displayName="NavLink";var it=e.forwardRef((t,n)=>{let{discover:r="render",fetcherKey:o,navigate:s,reloadDocument:a,replace:l,state:u,method:d=Ce,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...v}=t,y=ut(),b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(G),o=e.useContext(Q);i(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),a={...re(t||".",{relative:n})},l=J();if(null==t){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?`?${n}`:""}}t&&"."!==t||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:D([r,a.pathname]));return c(a)}(h,{relative:p}),w="get"===d.toLowerCase()?"get":"post",k="string"===typeof h&&rt.test(h);return e.createElement("form",{ref:n,method:w,action:b,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;y(t||e.currentTarget,{fetcherKey:o,method:n,navigate:s,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:g})},...v,"data-discover":k||"render"!==r?void 0:"true"})});function st(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function at(t){let n=e.useContext(z);return i(n,st(t)),n}it.displayName="Form";var lt=0,ct=()=>`__${String(++lt)}__`;function ut(){let{router:t}=at("useSubmit"),{basename:n}=e.useContext(G),r=fe("useRouteId");return e.useCallback(async function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:a,formData:l,body:c}=Te(e,n);if(!1===o.navigate){let e=o.fetcherKey||ct();await t.fetch(e,r,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await t.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,n,r])}const dt={USER_TOKEN:"food_munch_user_token",USER_DATA:"food_munch_user_data",HAS_SEEN_ONBOARDING:"food_munch_has_seen_onboarding",SELECTED_STADIUM:"food_munch_selected_stadium",STADIUM_PREFERENCES:"food_munch_stadium_preferences",THEME_PREFERENCE:"food_munch_theme",LANGUAGE_PREFERENCE:"food_munch_language",CART_DATA:"food_munch_cart",ORDER_HISTORY:"food_munch_order_history",FAVORITE_FOODS:"food_munch_favorite_foods",FAVORITE_RESTAURANTS:"food_munch_favorite_restaurants",NOTIFICATION_PREFERENCES:"food_munch_notifications",PUSH_TOKEN:"food_munch_push_token",SEAT_INFO:"food_munch_seat_info"},ht={setSeatInfo:e=>ft.setItem(dt.SEAT_INFO,e),getSeatInfo:()=>ft.getItem(dt.SEAT_INFO,null),clearSeatInfo:()=>ft.removeItem(dt.SEAT_INFO)},ft={setItem:(e,t)=>{try{const n=JSON.stringify(t);return localStorage.setItem(e,n),!0}catch(n){return console.error("Error saving to localStorage:",n),!1}},getItem:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.error("Error reading from localStorage:",n),t}},removeItem:e=>{try{return localStorage.removeItem(e),!0}catch(t){return console.error("Error removing from localStorage:",t),!1}},clear:()=>{try{return localStorage.clear(),!0}catch(e){return console.error("Error clearing localStorage:",e),!1}},hasItem:e=>null!==localStorage.getItem(e)},pt={setUserToken:e=>ft.setItem(dt.USER_TOKEN,e),getUserToken:()=>ft.getItem(dt.USER_TOKEN),removeUserToken:()=>ft.removeItem(dt.USER_TOKEN),setUserData:e=>ft.setItem(dt.USER_DATA,e),getUserData:()=>ft.getItem(dt.USER_DATA),removeUserData:()=>ft.removeItem(dt.USER_DATA),isLoggedIn:()=>ft.hasItem(dt.USER_TOKEN)},mt={setSelectedStadium:e=>ft.setItem(dt.SELECTED_STADIUM,e),getSelectedStadium:()=>ft.getItem(dt.SELECTED_STADIUM),removeSelectedStadium:()=>ft.removeItem(dt.SELECTED_STADIUM),hasSelectedStadium:()=>ft.hasItem(dt.SELECTED_STADIUM),setStadiumPreferences:e=>ft.setItem(dt.STADIUM_PREFERENCES,e),getStadiumPreferences:()=>ft.getItem(dt.STADIUM_PREFERENCES,{})},gt={setCart:e=>ft.setItem(dt.CART_DATA,e),getCart:()=>ft.getItem(dt.CART_DATA,{items:[],total:0}),clearCart:()=>ft.removeItem(dt.CART_DATA),addToCart:e=>{const t=gt.getCart(),n=t.items.findIndex(t=>t.id===e.id);return n>=0?t.items[n].quantity+=e.quantity||1:t.items.push({...e,quantity:e.quantity||1}),t.total=t.items.reduce((e,t)=>e+t.price*t.quantity,0),gt.setCart(t),t},removeFromCart:e=>{const t=gt.getCart();return t.items=t.items.filter(t=>t.id!==e),t.total=t.items.reduce((e,t)=>e+t.price*t.quantity,0),gt.setCart(t),t}},vt={clearAllStorage:()=>{try{console.log("\ud83e\uddf9 Clearing all localStorage data..."),localStorage.clear(),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cartItems:[],totalItems:0,totalPrice:0}})),console.log("\u2705 All localStorage data cleared successfully")}catch(e){console.error("\u274c Error clearing localStorage:",e)}},clearUserData:()=>{try{console.log("\ud83e\uddf9 Clearing user-specific data...");[dt.USER_DATA,dt.SELECTED_STADIUM,dt.ONBOARDING_COMPLETED,dt.CART].forEach(e=>{localStorage.removeItem(e)}),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cartItems:[],totalItems:0,totalPrice:0}})),console.log("\u2705 User-specific data cleared successfully")}catch(e){console.error("\u274c Error clearing user data:",e)}},initializeFreshSession:()=>{try{console.log("\ud83d\udd04 Initializing fresh user session..."),vt.clearAllStorage(),gt.setCart({items:[],total:0,shopId:null}),console.log("\u2705 Fresh session initialized")}catch(e){console.error("\u274c Error initializing fresh session:",e)}}},yt={setThemePreference:e=>ft.setItem(dt.THEME_PREFERENCE,e),getThemePreference:()=>ft.getItem(dt.THEME_PREFERENCE,"light"),setLanguagePreference:e=>ft.setItem(dt.LANGUAGE_PREFERENCE,e),getLanguagePreference:()=>ft.getItem(dt.LANGUAGE_PREFERENCE,null),setNotificationPreferences:e=>ft.setItem(dt.NOTIFICATION_PREFERENCES,e),getNotificationPreferences:()=>ft.getItem(dt.NOTIFICATION_PREFERENCES,{push:!0,email:!0,orderUpdates:!0,promotions:!1})},bt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},wt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,s=i?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const s=o<e.length?n[e.charAt(o)]:64;++o;const a=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==s||null==a)throw new kt;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _t=function(e){return function(e){const t=bt(e);return wt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},St=function(e){try{return wt.decodeString(e,!0)}catch(EC){console.error("base64Decode failed: ",EC)}return null};function Ct(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Et=()=>{try{return Ct().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51RyfgTKj6LjssenCRD0rqWZWYdUcE2xtwcU2afFVpJsUREwjPeQT2nSzxNp4nz1qJ0hnajJiu1dDZd7IS4mqeNr500L4qiCfaz",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S4nuc2zXMaebapc"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(EC){return}const t=e&&St(e[1]);return t&&JSON.parse(t)})()}catch(EC){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${EC}`)}},xt=e=>Et()?.emulatorHosts?.[e],It=()=>Et()?.config,Nt=e=>Et()?.[`_${e}`];class Pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Tt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function At(e){return(await fetch(e,{credentials:"include"})).ok}const jt={};let Rt=!1;function Dt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Tt(window.location.host)||jt[e]===t||jt[e]||Rt)return;function n(e){return`__firebase__banner__${e}`}jt[e]=t;const r="__firebase__banner",o=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(jt))jt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Rt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}o?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function Ot(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Lt(){const e=Et()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(EC){return!1}}function Bt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Mt(){return!Lt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ft(){try{return"object"===typeof indexedDB}catch(EC){return!1}}function Ut(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function zt(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class Vt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Vt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],o=r?function(e,t){return e.replace(qt,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",i=`${this.serviceName}: ${o} (${n}).`;return new Vt(n,i,t)}}const qt=/\{\$([^}]+)}/g;function Ht(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(Wt(n)&&Wt(i)){if(!Ht(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Wt(e){return null!==e&&"object"===typeof e}function Gt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Kt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Qt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Yt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Xt),void 0===r.error&&(r.error=Xt),void 0===r.complete&&(r.complete=Xt);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(EC){}}),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(EC){"undefined"!==typeof console&&console.error&&console.error(EC)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xt(){}function Jt(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Zt(e){return e&&e._delegate?e._delegate:e}class en{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const tn="[DEFAULT]";class nn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Pt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(EC){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(EC){if(n)return null;throw EC}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tn})}catch(EC){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(EC){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const o=this.instances.get(n);return o&&e(o,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(o=t,o===tn?void 0:o),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var o;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.component?this.component.multipleInstances?e:tn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const on=[];var sn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(sn||(sn={}));const an={debug:sn.DEBUG,verbose:sn.VERBOSE,info:sn.INFO,warn:sn.WARN,error:sn.ERROR,silent:sn.SILENT},ln=sn.INFO,cn={[sn.DEBUG]:"log",[sn.VERBOSE]:"log",[sn.INFO]:"info",[sn.WARN]:"warn",[sn.ERROR]:"error"},un=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=cn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...i)};class dn{constructor(e){this.name=e,this._logLevel=ln,this._logHandler=un,this._userLogHandler=null,on.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?an[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.DEBUG,...t),this._logHandler(this,sn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.VERBOSE,...t),this._logHandler(this,sn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.INFO,...t),this._logHandler(this,sn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.WARN,...t),this._logHandler(this,sn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.ERROR,...t),this._logHandler(this,sn.ERROR,...t)}}let hn,fn;const pn=new WeakMap,mn=new WeakMap,gn=new WeakMap,vn=new WeakMap,yn=new WeakMap;let bn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _n(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function wn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fn||(fn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Sn(this),n),_n(pn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _n(e.apply(Sn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(Sn(this),t,...r);return gn.set(i,t.sort?t.sort():[t]),_n(i)}}function kn(e){return"function"===typeof e?wn(e):(e instanceof IDBTransaction&&function(e){if(mn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});mn.set(e,t)}(e),t=e,(hn||(hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,bn):e);var t}function _n(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(_n(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&pn.set(t,e)}).catch(()=>{}),yn.set(t,e),t}(e);if(vn.has(e))return vn.get(e);const t=kn(e);return t!==e&&(vn.set(e,t),yn.set(t,e)),t}const Sn=e=>yn.get(e);function Cn(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=_n(s);return r&&s.addEventListener("upgradeneeded",e=>{r(_n(s.result),e.oldVersion,e.newVersion,_n(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}function En(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),_n(n).then(()=>{})}const xn=["get","getKey","getAll","getAllKeys","count"],In=["put","add","delete","clear"],Nn=new Map;function Pn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Nn.get(t))return Nn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=In.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!xn.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),o&&t.done]))[0]};return Nn.set(t,i),i}bn=(e=>({...e,get:(t,n,r)=>Pn(t,n)||e.get(t,n,r),has:(t,n)=>!!Pn(t,n)||e.has(t,n)}))(bn);class Tn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const An="@firebase/app",jn="0.14.0",Rn=new dn("@firebase/app"),Dn="@firebase/app-compat",On="@firebase/analytics-compat",Ln="@firebase/analytics",Bn="@firebase/app-check-compat",Mn="@firebase/app-check",Fn="@firebase/auth",Un="@firebase/auth-compat",zn="@firebase/database",Vn="@firebase/data-connect",$n="@firebase/database-compat",qn="@firebase/functions",Hn="@firebase/functions-compat",Wn="@firebase/installations",Gn="@firebase/installations-compat",Kn="@firebase/messaging",Qn="@firebase/messaging-compat",Yn="@firebase/performance",Xn="@firebase/performance-compat",Jn="@firebase/remote-config",Zn="@firebase/remote-config-compat",er="@firebase/storage",tr="@firebase/storage-compat",nr="@firebase/firestore",rr="@firebase/ai",or="@firebase/firestore-compat",ir="firebase",sr="[DEFAULT]",ar={[An]:"fire-core",[Dn]:"fire-core-compat",[Ln]:"fire-analytics",[On]:"fire-analytics-compat",[Mn]:"fire-app-check",[Bn]:"fire-app-check-compat",[Fn]:"fire-auth",[Un]:"fire-auth-compat",[zn]:"fire-rtdb",[Vn]:"fire-data-connect",[$n]:"fire-rtdb-compat",[qn]:"fire-fn",[Hn]:"fire-fn-compat",[Wn]:"fire-iid",[Gn]:"fire-iid-compat",[Kn]:"fire-fcm",[Qn]:"fire-fcm-compat",[Yn]:"fire-perf",[Xn]:"fire-perf-compat",[Jn]:"fire-rc",[Zn]:"fire-rc-compat",[er]:"fire-gcs",[tr]:"fire-gcs-compat",[nr]:"fire-fst",[or]:"fire-fst-compat",[rr]:"fire-vertex","fire-js":"fire-js",[ir]:"fire-js-all"},lr=new Map,cr=new Map,ur=new Map;function dr(e,t){try{e.container.addComponent(t)}catch(EC){Rn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,EC)}}function hr(e){const t=e.name;if(ur.has(t))return Rn.debug(`There were multiple attempts to register component ${t}.`),!1;ur.set(t,e);for(const n of lr.values())dr(n,e);for(const n of cr.values())dr(n,e);return!0}function fr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const mr=new $t("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class gr{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const vr="12.0.0";function yr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r={name:sr,automaticDataCollectionEnabled:!0,...t},o=r.name;if("string"!==typeof o||!o)throw mr.create("bad-app-name",{appName:String(o)});if(n||(n=It()),!n)throw mr.create("no-options");const i=lr.get(o);if(i){if(Ht(n,i.options)&&Ht(r,i.config))return i;throw mr.create("duplicate-app",{appName:o})}const s=new rn(o);for(const l of ur.values())s.addComponent(l);const a=new gr(n,r,s);return lr.set(o,a),a}function br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr;const t=lr.get(e);if(!t&&e===sr&&It())return yr();if(!t)throw mr.create("no-app",{appName:e});return t}function wr(e,t,n){let r=ar[e]??e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),i=t.match(/\s|\//);if(o||i){const e=[`Unable to register library "${r}" with version "${t}":`];return o&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Rn.warn(e.join(" "))}hr(new en(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const kr="firebase-heartbeat-store";let _r=null;function Sr(){return _r||(_r=Cn("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(kr)}catch(EC){console.warn(EC)}}}).catch(e=>{throw mr.create("idb-open",{originalErrorMessage:e.message})})),_r}async function Cr(e,t){try{const n=(await Sr()).transaction(kr,"readwrite"),r=n.objectStore(kr);await r.put(t,Er(e)),await n.done}catch(EC){if(EC instanceof Vt)Rn.warn(EC.message);else{const t=mr.create("idb-set",{originalErrorMessage:EC?.message});Rn.warn(t.message)}}}function Er(e){return`${e.name}!${e.options.appId}`}class xr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Nr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Ir();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(EC){Rn.warn(EC)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=Ir(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),Pr(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Pr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=_t(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(EC){return Rn.warn(EC),""}}}function Ir(){return(new Date).toISOString().substring(0,10)}class Nr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ft()&&Ut().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Sr()).transaction(kr),n=await t.objectStore(kr).get(Er(e));return await t.done,n}catch(EC){if(EC instanceof Vt)Rn.warn(EC.message);else{const t=mr.create("idb-get",{originalErrorMessage:EC?.message});Rn.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return Cr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return Cr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function Pr(e){return _t(JSON.stringify({version:2,heartbeats:e})).length}var Tr;Tr="",hr(new en("platform-logger",e=>new Tn(e),"PRIVATE")),hr(new en("heartbeat",e=>new xr(e),"PRIVATE")),wr(An,jn,Tr),wr(An,jn,"esm2020"),wr("fire-js","");var Ar,jr,Rr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Dr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var i=e.g[3],s=t+(i^n&(o^i))+r[0]+3614090360&4294967295;s=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=n+(s<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^i&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^o^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(o^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=n+((s=t+(o^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((o=i+((s=o+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,o=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(o[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,o),i=0;break}}else for(;s<t;)if(o[i++]=e[s++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var o={};function i(e){return-128<=e&&128>e?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,o=0;e>=n;o++)t[o]=e/n|0,n*=4294967296;return new r(t,0)}var a=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],o=0;o<t;o++)n[o]=~e.g[o];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var o=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(o=o.add(n),i=c),r=y(r,1),n=y(n,1)}return t=f(e,o.j(t)),new m(o,t)}for(o=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=s(n)).j(t);d(c)||0<c.l(e);)c=(i=s(n-=r)).j(t);u(i)&&(i=l),o=o.add(i),e=f(e,c)}return new m(o,e)}function v(e){for(var t=e.g.length+1,n=[],o=0;o<t;o++)n[o]=e.i(o)<<1|e.i(o-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var o=e.g.length-n,i=[],s=0;s<o;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var o=g(n,t).g,i=((0<(n=f(n,o.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=o))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0,i=0;i<=t;i++){var s=o+(65535&this.i(i))+(65535&e.i(i)),a=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);o=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],o=0;o<2*t;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var i=0;i<e.g.length;i++){var l=this.i(o)>>>16,f=65535&this.i(o),m=e.i(i)>>>16,g=65535&e.i(i);n[2*o+2*i]+=f*g,p(n,2*o+2*i),n[2*o+2*i+1]+=l*g,p(n,2*o+2*i+1),n[2*o+2*i+1]+=f*m,p(n,2*o+2*i+1),n[2*o+2*i+2]+=l*m,p(n,2*o+2*i+2)}for(o=0;o<t;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=t;o<2*t;o++)n[o]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)&e.i(o);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)|e.i(o);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)^e.i(o);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,jr=Dr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),o=a,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=s(Math.pow(n,l)),o=o.j(l).add(s(c))):o=(o=o.j(r)).add(s(c))}return o},Ar=Dr.Integer=r}).apply("undefined"!==typeof Rr?Rr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Or,Lr,Br,Mr,Fr,Ur,zr,Vr,$r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},qr={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof $r&&$r];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in o))break e;o=o[s]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,function(e,t){return t})}});var r=r||{},o=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){o.setTimeout(()=>{throw e},0)}function C(){var e=P;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new x,e=>e.reset());class x{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,N=!1,P=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},T=()=>{const e=o.Promise.resolve(void 0);I=()=>{e.then(A)}};var A=()=>{for(var e;e=C();){try{e.h.call(e.g)}catch(n){S(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function j(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,R);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),M=0;function F(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++M,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}z.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=$(e,t,r,o);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new F(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,o){if(r&&r.once)return K(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)W(e,t[i],n,r,o);return null}return n=te(n),e&&e[B]?e.K(t,n,s(r)?!!r.capture:!!r,o):G(e,t,n,!1,r,o)}function G(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=s(o)?!!o.capture:!!o,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,o);return null}return n=te(n),e&&e[B]?e.L(t,n,s(r)?!!r.capture:!!r,o):G(e,t,n,!0,r,o)}function Q(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)Q(e,t[i],n,r,o);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[B]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(i=e.g[t],n,r,o))&&(U(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,o)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[B])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){j.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var o=t;k(t=new R(r,e),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];o=oe(s,r,!0,t)&&o}if(o=oe(s=t.g=e,r,!0,t)&&o,o=oe(s,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=oe(s=t.g=n[i],r,!1,t)&&o}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&V(e.i,s),o=!1!==a.call(l,r)&&o}}return o&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function se(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,se(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,j),ne.prototype[B]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends j{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){j.call(this),this.h=e,this.g={}}d(le,j);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=o.JSON.stringify,he=o.JSON.parse,fe=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function be(){R.call(this,"c")}d(ye,R),d(be,R);var we={},ke=null;function _e(){return ke=ke||new ne}function Se(e){R.call(this,we.La,e)}function Ce(e){const t=_e();re(t,new Se(t))}function Ee(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function xe(e){const t=_e();re(t,new Ee(t,e))}function Ie(e,t){R.call(this,we.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function Pe(){this.g=!0}function Te(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<o.length;s++)o[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(Se,R),we.STAT_EVENT="statevent",d(Ee,R),we.Ma="timingevent",d(Ie,R),Pe.prototype.xa=function(){this.g=!1},Pe.prototype.info=function(){};var Ae,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Be={},Me={};function Fe(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),$e(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var o="readystatechange";Array.isArray(o)||(o&&(ce[0]=o.toString()),o=ce);for(var i=0;i<o.length;i++){var s=W(n,o[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ce(),function(e,t,n,r,o,i){e.info(function(){if(e.g)if(i)for(var s="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Me:(n=Number(t.substring(n,r)),isNaN(n)?Be:(r+=1)+n>t.length?Me:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function He(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Yt(n)}rn(n),xe(18)}}else n.za=o[1],0<n.za-n.T&&37500>o[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(o=n.Da.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const o=c[4];null!=o&&(n.Aa=o,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(He(a),$e(a)),r.g=s}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ce()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Ce(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var i=r.length,s=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),We(this);var a="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,o,i,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+s})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,xe(12),Ge(this),We(this);break e}Te(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ve(this,a),e==Me){4==h&&(this.s=4,xe(14),n=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}if(e==Be){this.s=4,xe(15),Te(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Te(this.i,this.l,e,null),Ke(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,xe(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(d),d.M=!0,xe(11))}}else Te(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),We(this)}else Te(this.i,this.l,a,null),Ke(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),Ge(this),We(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,Ge(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ce(),xe(17)),Ge(this),this.s=2,We(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,o.PerformanceNavigationTiming?e=0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),o=r.length,s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new kt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new kt(null,this.h))}function st(e){return new it(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof kt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Et(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new kt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function St(e,t){_t(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ct(e,t){return _t(e),t=xt(e,t),e.g.has(t)}function Et(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(xt(e,t),h(n)),e.h+=n.length)}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(i){}}function Nt(){this.g=new fe}function Pt(e,t,n){const r=n||"";try{rt(e,function(e,n){let o=e;s(e)&&(o=de(e)),t.push(r+n+"="+encodeURIComponent(o))})}catch(EC){throw t.push(r+"type="+encodeURIComponent("_badmap")),EC}}function Tt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function jt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Bt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=kt.prototype).add=function(e,t){_t(this),this.i=null,e=xt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let e=0;e<o.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)Ct(this,e)&&(t=t.concat(this.g.get(xt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,Ct(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var o=i;""!==s[r]&&(o+="="+encodeURIComponent(String(s[r]))),e.push(o)}}return this.i=e.join("&")},d(Tt,pe),Tt.prototype.g=function(){return new At(this.l,this.j)},Tt.prototype.i=(mt={},function(){return mt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Dt(this),3==this.readyState&&jt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Bt,ne);var Mt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),$t(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var s=String(e.D).match(ot)[1]||null;!s&&o.self&&o.self.location&&(s=o.self.location.protocol.slice(0,-1)),i=!Mt.test(s?s.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Ht(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(EC){}}}function qt(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Yt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(o.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&o.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||T(),N||(I(),N=!0),P.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=o[a].g;const l=o[a].map;if(n-=t,0>n)t=Math.max(0,o[a].g-100),s=!1;else try{Pt(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||T(),N||(I(),N=!0),P.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var o=e.B;re(r=_e(),new Ie(r,n)),Jt(e)}else nn(e);else if(3==(o=t.s)||0==o&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),o){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Pe;if(o.Image){const r=new Image;r.onload=u(It,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(It,n,"TestLoadImage: error",!1,t,r),r.onabort=u(It,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(It,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Pe;const n=new AbortController,r=setTimeout(()=>{n.abort(),It(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?It(0,0,!0,t):It(0,0,!1,t)}).catch(()=>{clearTimeout(r),It(0,0,!1,t)})}(r.toString(),n)}else xe(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?st(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new it(null);r&&at(s,r),t&&(s.g=t),i&&lt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Bt(new Tt({eb:n})):new Bt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Bt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Ut(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Ut(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Bt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){xe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const o=new Oe(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),k(i,this.S)):i=this.S),null!==this.m||this.O||(o.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,o,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Ot(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,o),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),o.T=!0,Fe(o,n,null)):Fe(o,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),Yt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),xe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Vr=qr.createWebChannelTransport=function(){return new mn},zr=qr.getStatEventTarget=function(){return _e()},Ur=qr.Event=we,Fr=qr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,Mr=qr.ErrorCode=je,Re.COMPLETE="complete",Br=qr.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Lr=qr.WebChannel=ge,qr.FetchXmlHttpFactory=Tt,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,Or=qr.XhrIo=Bt}).apply("undefined"!==typeof $r?$r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Hr="@firebase/firestore",Wr="4.9.0";class Gr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");let Kr="12.0.0";const Qr=new dn("@firebase/firestore");function Yr(){return Qr.logLevel}function Xr(e){if(Qr.logLevel<=sn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(eo);Qr.debug(`Firestore (${Kr}): ${e}`,...o)}}function Jr(e){if(Qr.logLevel<=sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(eo);Qr.error(`Firestore (${Kr}): ${e}`,...o)}}function Zr(e){if(Qr.logLevel<=sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(eo);Qr.warn(`Firestore (${Kr}): ${e}`,...o)}}function eo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function to(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,no(e,r,n)}function no(e,t,n){let r=`FIRESTORE (${Kr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Jr(r),new Error(r)}function ro(e,t,n,r){let o="Unexpected state";"string"==typeof n?o=n:r=n,e||no(t,o,r)}function oo(e,t){return e}const io={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class so extends Vt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ao{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class co{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gr.UNAUTHENTICATED))}shutdown(){}}class uo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ho{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ro(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ao,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=o;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Xr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Xr("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ao)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Xr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ro("string"==typeof t.accessToken,31837,{l:t}),new lo(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ro(null===e||"string"==typeof e,2055,{h:e}),new Gr(e)}}class fo{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class po{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new fo(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class go{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ro(void 0===this.o,3512);const n=e=>{null!=e.error&&Xr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,Xr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Xr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Xr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mo(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ro("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new mo(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class yo{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=vo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function bo(e,t){return e<t?-1:e>t?1:0}function wo(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),o=t.charAt(r);if(n!==o)return So(n)===So(o)?bo(n,o):So(n)?1:-1}return bo(e.length,t.length)}const ko=55296,_o=57343;function So(e){const t=e.charCodeAt(0);return t>=ko&&t<=_o}function Co(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Eo="__name__";class xo{constructor(e,t,n){void 0===t?t=0:t>e.length&&to(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&to(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===xo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xo?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=xo.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return bo(e.length,t.length)}static compareSegments(e,t){const n=xo.isNumericId(e),r=xo.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?xo.extractNumericId(e).compare(xo.extractNumericId(t)):wo(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class Io extends xo{construct(e,t,n){return new Io(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new so(io.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);e.push(...o.split("/").filter(e=>e.length>0))}return new Io(e)}static emptyPath(){return new Io([])}}const No=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Po extends xo{construct(e,t,n){return new Po(e,t,n)}static isValidIdentifier(e){return No.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Po.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Eo}static keyField(){return new Po([Eo])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new so(io.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new so(io.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new so(io.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new so(io.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Po(t)}static emptyPath(){return new Po([])}}class To{constructor(e){this.path=e}static fromPath(e){return new To(Io.fromString(e))}static fromName(e){return new To(Io.fromString(e).popFirst(5))}static empty(){return new To(Io.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Io.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Io.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new To(new Io(e.slice()))}}function Ao(e,t,n){if(!n)throw new so(io.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function jo(e){if(!To.isDocumentKey(e))throw new so(io.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ro(e){if(To.isDocumentKey(e))throw new so(io.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Do(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Oo(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":to(12329,{type:typeof e})}function Lo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new so(io.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oo(e);throw new so(io.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Bo(e,t){if(t<=0)throw new so(io.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}function Mo(e,t){const n={typeString:e};return t&&(n.value=t),n}function Fo(e,t){if(!Do(e))throw new so(io.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(o&&typeof s!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(void 0!==i&&s!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new so(io.INVALID_ARGUMENT,n);return!0}const Uo=-62135596800,zo=1e6;class Vo{static now(){return Vo.fromMillis(Date.now())}static fromDate(e){return Vo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*zo);return new Vo(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new so(io.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new so(io.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Uo)throw new so(io.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new so(io.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zo}_compareTo(e){return this.seconds===e.seconds?bo(this.nanoseconds,e.nanoseconds):bo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vo._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fo(e,Vo._jsonSchema))return new Vo(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Uo;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vo._jsonSchemaVersion="firestore/timestamp/1.0",Vo._jsonSchema={type:Mo("string",Vo._jsonSchemaVersion),seconds:Mo("number"),nanoseconds:Mo("number")};class $o{static fromTimestamp(e){return new $o(e)}static min(){return new $o(new Vo(0,0))}static max(){return new $o(new Vo(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qo=-1;class Ho{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ho.UNKNOWN_ID=-1;function Wo(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=$o.fromTimestamp(1e9===r?new Vo(n+1,0):new Vo(n,r));return new Ko(o,To.empty(),t)}function Go(e){return new Ko(e.readTime,e.key,qo)}class Ko{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ko($o.min(),To.empty(),qo)}static max(){return new Ko($o.max(),To.empty(),qo)}}function Qo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=To.comparator(e.documentKey,t.documentKey),0!==n?n:bo(e.largestBatchId,t.largestBatchId))}const Yo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Jo(e){if(e.code!==io.FAILED_PRECONDITION||e.message!==Yo)throw e;Xr("LocalStore","Unexpectedly lost primary lease")}class Zo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&to(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Zo((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Zo?t:Zo.resolve(t)}catch(e){return Zo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Zo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Zo.reject(t)}static resolve(e){return new Zo((t,n)=>{t(e)})}static reject(e){return new Zo((t,n)=>{n(e)})}static waitFor(e){return new Zo((t,n)=>{let r=0,o=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++o,i&&o===r&&t()},e=>n(e))}),i=!0,o===r&&t()})}static or(e){let t=Zo.resolve(!1);for(const n of e)t=t.next(e=>e?Zo.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Zo((n,r)=>{const o=e.length,i=new Array(o);let s=0;for(let a=0;a<o;a++){const l=a;t(e[l]).next(e=>{i[l]=e,++s,s===o&&n(i)},e=>r(e))}})}static doWhile(e,t){return new Zo((n,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):n()};o()})}}function ei(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ti(e){return"IndexedDbTransactionError"===e.name}class ni{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ni.ce=-1;const ri=-1;function oi(e){return null==e}function ii(e){return 0===e&&1/e==-1/0}function si(e){return"number"==typeof e&&Number.isInteger(e)&&!ii(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ai="\x01";function li(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ui(t)),t=ci(e.get(n),t);return ui(t)}function ci(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const t=e.charAt(o);switch(t){case"\0":n+="\x01\x10";break;case ai:n+="\x01\x11";break;default:n+=t}}return n}function ui(e){return e+ai+"\x01"}const di="remoteDocuments",hi="owner",fi="mutationQueues",pi="mutations";const mi="documentMutations",gi="remoteDocumentsV14",vi="remoteDocumentGlobal",yi="targets",bi="targetDocuments",wi="targetGlobal",ki="collectionParents",_i="clientMetadata",Si="bundles",Ci="namedQueries",Ei="indexConfiguration",xi="indexState",Ii="indexEntries",Ni="documentOverlays",Pi="globals",Ti=[fi,pi,mi,di,yi,hi,wi,bi,_i,vi,ki,Si,Ci],Ai=[fi,pi,mi,gi,yi,hi,wi,bi,_i,vi,ki,Si,Ci,Ni],ji=Ai,Ri=[...ji,Ei,xi,Ii];function Di(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Oi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Li(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Bi{constructor(e,t){this.comparator=e,this.root=t||Fi.EMPTY}insert(e,t){return new Bi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new Bi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mi(this.root,e,this.comparator,!0)}}class Mi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:Fi.RED,this.left=null!=r?r:Fi.EMPTY,this.right=null!=o?o:Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new Fi(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Fi.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw to(43730,{key:this.key,value:this.value});if(this.right.isRed())throw to(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw to(27949);return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw to(57766)}get value(){throw to(16141)}get color(){throw to(16727)}get left(){throw to(29726)}get right(){throw to(36894)}copy(e,t,n,r,o){return this}insert(e,t,n){return new Fi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ui{constructor(e){this.comparator=e,this.data=new Bi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zi(this.data.getIterator())}getIteratorFrom(e){return new zi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ui))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ui(this.comparator);return t.data=e,t}}class zi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vi{constructor(e){this.fields=e,e.sort(Po.comparator)}static empty(){return new Vi([])}unionWith(e){let t=new Ui(Po.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Vi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class $i extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $i("Invalid base64 string: "+e):e}}(e);return new qi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new qi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const Hi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(e){if(ro(!!e,39018),"string"==typeof e){let t=0;const n=Hi.exec(e);if(ro(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Gi(e.seconds),nanos:Gi(e.nanos)}}function Gi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ki(e){return"string"==typeof e?qi.fromBase64String(e):qi.fromUint8Array(e)}const Qi="server_timestamp",Yi="__type__",Xi="__previous_value__",Ji="__local_write_time__";function Zi(e){const t=(e?.mapValue?.fields||{})[Yi]?.stringValue;return t===Qi}function es(e){const t=e.mapValue.fields[Xi];return Zi(t)?es(t):t}function ts(e){const t=Wi(e.mapValue.fields[Ji].timestampValue);return new Vo(t.seconds,t.nanos)}class ns{constructor(e,t,n,r,o,i,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const rs="(default)";class os{constructor(e,t){this.projectId=e,this.database=t||rs}static empty(){return new os("","")}get isDefaultDatabase(){return this.database===rs}isEqual(e){return e instanceof os&&e.projectId===this.projectId&&e.database===this.database}}const is="__type__",ss="__max__",as={mapValue:{fields:{__type__:{stringValue:ss}}}},ls="__vector__",cs="value";function us(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Zi(e)?4:Is(e)?9007199254740991:Es(e)?10:11:to(28295,{value:e})}function ds(e,t){if(e===t)return!0;const n=us(e);if(n!==us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ts(e).isEqual(ts(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Wi(e.timestampValue),r=Wi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ki(e.bytesValue).isEqual(Ki(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Gi(e.geoPointValue.latitude)===Gi(t.geoPointValue.latitude)&&Gi(e.geoPointValue.longitude)===Gi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Gi(e.integerValue)===Gi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Gi(e.doubleValue),r=Gi(t.doubleValue);return n===r?ii(n)===ii(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Co(e.arrayValue.values||[],t.arrayValue.values||[],ds);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Di(n)!==Di(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!ds(n[o],r[o])))return!1;return!0}(e,t);default:return to(52216,{left:e})}}function hs(e,t){return void 0!==(e.values||[]).find(e=>ds(e,t))}function fs(e,t){if(e===t)return 0;const n=us(e),r=us(t);if(n!==r)return bo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Gi(e.integerValue||e.doubleValue),r=Gi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ps(e.timestampValue,t.timestampValue);case 4:return ps(ts(e),ts(t));case 5:return wo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ki(e),r=Ki(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=bo(n[o],r[o]);if(0!==e)return e}return bo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=bo(Gi(e.latitude),Gi(t.latitude));return 0!==n?n:bo(Gi(e.longitude),Gi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ms(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},o=n[cs]?.arrayValue,i=r[cs]?.arrayValue,s=bo(o?.values?.length||0,i?.values?.length||0);return 0!==s?s:ms(o,i)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===as.mapValue&&t===as.mapValue)return 0;if(e===as.mapValue)return 1;if(t===as.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=wo(r[s],i[s]);if(0!==e)return e;const t=fs(n[r[s]],o[i[s]]);if(0!==t)return t}return bo(r.length,i.length)}(e.mapValue,t.mapValue);default:throw to(23264,{he:n})}}function ps(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return bo(e,t);const n=Wi(e),r=Wi(t),o=bo(n.seconds,r.seconds);return 0!==o?o:bo(n.nanos,r.nanos)}function ms(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=fs(n[o],r[o]);if(e)return e}return bo(n.length,r.length)}function gs(e){return vs(e)}function vs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Wi(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ki(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return To.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=vs(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+=`${o}:${vs(e.fields[o])}`;return n+"}"}(e.mapValue):to(61005,{value:e})}function ys(e){switch(us(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=es(e);return t?16+ys(t):16;case 5:return 2*e.stringValue.length;case 6:return Ki(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+ys(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Oi(e.fields,(e,n)=>{t+=e.length+ys(n)}),t}(e.mapValue);default:throw to(13486,{value:e})}}function bs(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ws(e){return!!e&&"integerValue"in e}function ks(e){return!!e&&"arrayValue"in e}function _s(e){return!!e&&"nullValue"in e}function Ss(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cs(e){return!!e&&"mapValue"in e}function Es(e){const t=(e?.mapValue?.fields||{})[is]?.stringValue;return t===ls}function xs(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Oi(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=xs(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xs(e.arrayValue.values[n]);return t}return{...e}}function Is(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ss}class Ns{constructor(e){this.value=e}static empty(){return new Ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Cs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xs(t)}setAll(e){let t=Po.emptyPath(),n={},r=[];e.forEach((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=xs(e):r.push(o.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());Cs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Cs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Oi(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ns(xs(this.value))}}function Ps(e){const t=[];return Oi(e.fields,(e,n)=>{const r=new Po([e]);if(Cs(n)){const e=Ps(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Vi(t)}class Ts{constructor(e,t,n,r,o,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Ts(e,0,$o.min(),$o.min(),$o.min(),Ns.empty(),0)}static newFoundDocument(e,t,n,r){return new Ts(e,1,t,$o.min(),n,r,0)}static newNoDocument(e,t){return new Ts(e,2,t,$o.min(),$o.min(),Ns.empty(),0)}static newUnknownDocument(e,t){return new Ts(e,3,t,$o.min(),$o.min(),Ns.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($o.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$o.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ts&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ts(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class As{constructor(e,t){this.position=e,this.inclusive=t}}function js(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],s=e.position[o];if(r=i.field.isKeyField()?To.comparator(To.fromName(s.referenceValue),n.key):fs(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Rs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ds(e.position[n],t.position[n]))return!1;return!0}class Ds{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Os(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ls{}class Bs extends Ls{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Hs(e,t,n):"array-contains"===t?new Qs(e,n):"in"===t?new Ys(e,n):"not-in"===t?new Xs(e,n):"array-contains-any"===t?new Js(e,n):new Bs(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ws(e,n):new Gs(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(fs(t,this.value)):null!==t&&us(this.value)===us(t)&&this.matchesComparison(fs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return to(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ms extends Ls{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ms(e,t)}matches(e){return Fs(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Fs(e){return"and"===e.op}function Us(e){return zs(e)&&Fs(e)}function zs(e){for(const t of e.filters)if(t instanceof Ms)return!1;return!0}function Vs(e){if(e instanceof Bs)return e.field.canonicalString()+e.op.toString()+gs(e.value);if(Us(e))return e.filters.map(e=>Vs(e)).join(",");{const t=e.filters.map(e=>Vs(e)).join(",");return`${e.op}(${t})`}}function $s(e,t){return e instanceof Bs?function(e,t){return t instanceof Bs&&e.op===t.op&&e.field.isEqual(t.field)&&ds(e.value,t.value)}(e,t):e instanceof Ms?function(e,t){return t instanceof Ms&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&$s(n,t.filters[r]),!0)}(e,t):void to(19439)}function qs(e){return e instanceof Bs?function(e){return`${e.field.canonicalString()} ${e.op} ${gs(e.value)}`}(e):e instanceof Ms?function(e){return e.op.toString()+" {"+e.getFilters().map(qs).join(" ,")+"}"}(e):"Filter"}class Hs extends Bs{constructor(e,t,n){super(e,t,n),this.key=To.fromName(n.referenceValue)}matches(e){const t=To.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ws extends Bs{constructor(e,t){super(e,"in",t),this.keys=Ks("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gs extends Bs{constructor(e,t){super(e,"not-in",t),this.keys=Ks("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ks(e,t){return(t.arrayValue?.values||[]).map(e=>To.fromName(e.referenceValue))}class Qs extends Bs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ks(t)&&hs(t.arrayValue,this.value)}}class Ys extends Bs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hs(this.value.arrayValue,t)}}class Xs extends Bs{constructor(e,t){super(e,"not-in",t)}matches(e){if(hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!hs(this.value.arrayValue,t)}}class Js extends Bs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ks(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>hs(this.value.arrayValue,e))}}class Zs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.Te=null}}function ea(e){return new Zs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ta(e){const t=oo(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Vs(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),oi(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>gs(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>gs(e)).join(",")),t.Te=e}return t.Te}function na(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Os(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!$s(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Rs(e.startAt,t.startAt)&&Rs(e.endAt,t.endAt)}function ra(e){return To.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class oa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ia(e,t,n,r,o,i,s,a){return new oa(e,t,n,r,o,i,s,a)}function sa(e){return new oa(e)}function aa(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function la(e){return null!==e.collectionGroup}function ca(e){const t=oo(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ui(Po.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ds(r,n))}),e.has(Po.keyField().canonicalString())||t.Ie.push(new Ds(Po.keyField(),n))}return t.Ie}function ua(e){const t=oo(e);return t.Ee||(t.Ee=da(t,ca(e))),t.Ee}function da(e,t){if("F"===e.limitType)return ea(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ds(e.field,t)});const n=e.endAt?new As(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new As(e.startAt.position,e.startAt.inclusive):null;return ea(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ha(e,t){const n=e.filters.concat([t]);return new oa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function fa(e,t,n){return new oa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pa(e,t){return na(ua(e),ua(t))&&e.limitType===t.limitType}function ma(e){return`${ta(ua(e))}|lt:${e.limitType}`}function ga(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>qs(e)).join(", ")}]`),oi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>gs(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>gs(e)).join(",")),`Target(${t})`}(ua(e))}; limitType=${e.limitType})`}function va(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):To.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ca(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=js(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ca(e),t))&&!(e.endAt&&!function(e,t,n){const r=js(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ca(e),t))}(e,t)}function ya(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ba(e){return(t,n)=>{let r=!1;for(const o of ca(e)){const e=wa(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function wa(e,t,n){const r=e.field.isKeyField()?To.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?fs(r,o):to(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return to(19790,{direction:e.dir})}}class ka{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Oi(this.inner,(t,n)=>{for(const[r,o]of n)e(r,o)})}isEmpty(){return Li(this.inner)}size(){return this.innerSize}}const _a=new Bi(To.comparator);function Sa(){return _a}const Ca=new Bi(To.comparator);function Ea(){let e=Ca;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function xa(e){let t=Ca;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Ia(){return Pa()}function Na(){return Pa()}function Pa(){return new ka(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ta=new Bi(To.comparator),Aa=new Ui(To.comparator);function ja(){let e=Aa;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const Ra=new Ui(bo);function Da(){return Ra}function Oa(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ii(t)?"-0":t}}function La(e){return{integerValue:""+e}}function Ba(e,t){return si(t)?La(t):Oa(e,t)}class Ma{constructor(){this._=void 0}}function Fa(e,t,n){return e instanceof Va?function(e,t){const n={fields:{[Yi]:{stringValue:Qi},[Ji]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Zi(t)&&(t=es(t)),t&&(n.fields[Xi]=t),{mapValue:n}}(n,t):e instanceof $a?qa(e,t):e instanceof Ha?Wa(e,t):function(e,t){const n=za(e,t),r=Ka(n)+Ka(e.Ae);return ws(n)&&ws(e.Ae)?La(r):Oa(e.serializer,r)}(e,t)}function Ua(e,t,n){return e instanceof $a?qa(e,t):e instanceof Ha?Wa(e,t):n}function za(e,t){return e instanceof Ga?function(e){return ws(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Va extends Ma{}class $a extends Ma{constructor(e){super(),this.elements=e}}function qa(e,t){const n=Qa(t);for(const r of e.elements)n.some(e=>ds(e,r))||n.push(r);return{arrayValue:{values:n}}}class Ha extends Ma{constructor(e){super(),this.elements=e}}function Wa(e,t){let n=Qa(t);for(const r of e.elements)n=n.filter(e=>!ds(e,r));return{arrayValue:{values:n}}}class Ga extends Ma{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ka(e){return Gi(e.integerValue||e.doubleValue)}function Qa(e){return ks(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ya{constructor(e,t){this.field=e,this.transform=t}}class Xa{constructor(e,t){this.version=e,this.transformResults=t}}class Ja{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ja}static exists(e){return new Ja(void 0,e)}static updateTime(e){return new Ja(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Za(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class el{}function tl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dl(e.key,Ja.none()):new sl(e.key,e.data,Ja.none());{const n=e.data,r=Ns.empty();let o=new Ui(Po.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new al(e.key,r,new Vi(o.toArray()),Ja.none())}}function nl(e,t,n){e instanceof sl?function(e,t,n){const r=e.value.clone(),o=cl(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof al?function(e,t,n){if(!Za(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=cl(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(ll(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function rl(e,t,n,r){return e instanceof sl?function(e,t,n,r){if(!Za(e.precondition,t))return n;const o=e.value.clone(),i=ul(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof al?function(e,t,n,r){if(!Za(e.precondition,t))return n;const o=ul(e.fieldTransforms,r,t),i=t.data;return i.setAll(ll(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Za(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ol(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=za(r.transform,e||null);null!=o&&(null===n&&(n=Ns.empty()),n.set(r.field,o))}return n||null}function il(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Co(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $a&&t instanceof $a||e instanceof Ha&&t instanceof Ha?Co(e.elements,t.elements,ds):e instanceof Ga&&t instanceof Ga?ds(e.Ae,t.Ae):e instanceof Va&&t instanceof Va}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class sl extends el{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class al extends el{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ll(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function cl(e,t,n){const r=new Map;ro(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,Ua(s,a,n[o]))}return r}function ul(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,Fa(e,i,t))}return r}class dl extends el{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hl extends el{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&nl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=rl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=rl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Na();return this.mutations.forEach(r=>{const o=e.get(r.key),i=o.overlayedDocument;let s=this.applyToLocalView(i,o.mutatedFields);s=t.has(r.key)?null:s;const a=tl(i,s);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument($o.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ja())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(e,t)=>il(e,t))&&Co(this.baseMutations,e.baseMutations,(e,t)=>il(e,t))}}class pl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ro(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Ta;const o=e.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new pl(e,t,n,r)}}class ml{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gl{constructor(e,t){this.count=e,this.unchangedNames=t}}var vl,yl;function bl(e){switch(e){case io.OK:return to(64938);case io.CANCELLED:case io.UNKNOWN:case io.DEADLINE_EXCEEDED:case io.RESOURCE_EXHAUSTED:case io.INTERNAL:case io.UNAVAILABLE:case io.UNAUTHENTICATED:return!1;case io.INVALID_ARGUMENT:case io.NOT_FOUND:case io.ALREADY_EXISTS:case io.PERMISSION_DENIED:case io.FAILED_PRECONDITION:case io.ABORTED:case io.OUT_OF_RANGE:case io.UNIMPLEMENTED:case io.DATA_LOSS:return!0;default:return to(15467,{code:e})}}function wl(e){if(void 0===e)return Jr("GRPC error has no .code"),io.UNKNOWN;switch(e){case vl.OK:return io.OK;case vl.CANCELLED:return io.CANCELLED;case vl.UNKNOWN:return io.UNKNOWN;case vl.DEADLINE_EXCEEDED:return io.DEADLINE_EXCEEDED;case vl.RESOURCE_EXHAUSTED:return io.RESOURCE_EXHAUSTED;case vl.INTERNAL:return io.INTERNAL;case vl.UNAVAILABLE:return io.UNAVAILABLE;case vl.UNAUTHENTICATED:return io.UNAUTHENTICATED;case vl.INVALID_ARGUMENT:return io.INVALID_ARGUMENT;case vl.NOT_FOUND:return io.NOT_FOUND;case vl.ALREADY_EXISTS:return io.ALREADY_EXISTS;case vl.PERMISSION_DENIED:return io.PERMISSION_DENIED;case vl.FAILED_PRECONDITION:return io.FAILED_PRECONDITION;case vl.ABORTED:return io.ABORTED;case vl.OUT_OF_RANGE:return io.OUT_OF_RANGE;case vl.UNIMPLEMENTED:return io.UNIMPLEMENTED;case vl.DATA_LOSS:return io.DATA_LOSS;default:return to(39323,{code:e})}}(yl=vl||(vl={}))[yl.OK=0]="OK",yl[yl.CANCELLED=1]="CANCELLED",yl[yl.UNKNOWN=2]="UNKNOWN",yl[yl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yl[yl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yl[yl.NOT_FOUND=5]="NOT_FOUND",yl[yl.ALREADY_EXISTS=6]="ALREADY_EXISTS",yl[yl.PERMISSION_DENIED=7]="PERMISSION_DENIED",yl[yl.UNAUTHENTICATED=16]="UNAUTHENTICATED",yl[yl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yl[yl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yl[yl.ABORTED=10]="ABORTED",yl[yl.OUT_OF_RANGE=11]="OUT_OF_RANGE",yl[yl.UNIMPLEMENTED=12]="UNIMPLEMENTED",yl[yl.INTERNAL=13]="INTERNAL",yl[yl.UNAVAILABLE=14]="UNAVAILABLE",yl[yl.DATA_LOSS=15]="DATA_LOSS";let kl=null;function _l(){return new TextEncoder}const Sl=new Ar([4294967295,4294967295],0);function Cl(e){const t=_l().encode(e),n=new jr;return n.update(t),new Uint8Array(n.digest())}function El(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Ar([n,r],0),new Ar([o,i],0)]}class xl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Il(`Invalid padding: ${t}`);if(n<0)throw new Il(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Il(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Il(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ar.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Ar.fromNumber(n)));return 1===r.compare(Sl)&&(r=new Ar([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Cl(e),[n,r]=El(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new xl(o,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=Cl(e),[n,r]=El(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nl{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Nl($o.min(),r,new Bi(bo),Sa(),ja())}}class Pl{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Pl(n,t,ja(),ja(),ja())}}class Tl{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Al{constructor(e,t){this.targetId=e,this.Ce=t}}class jl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qi.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Rl{constructor(){this.ve=0,this.Fe=Ll(),this.Me=qi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ja(),t=ja(),n=ja();return this.Fe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:to(38017,{changeType:o})}}),new Pl(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Ll()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ro(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dl{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sa(),this.Je=Ol(),this.He=Ol(),this.Ye=new Bi(bo)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:to(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(ra(o))if(0===n){const e=new To(o.path);this.et(t,e,Ts.newNoDocument(e,$o.min()))}else ro(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}kl?.lt(function(e,t,n,r,o){const i={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},s=t.unchangedNames;return s&&(i.bloomFilter={applied:0===o,hashCount:s?.hashCount??0,bitmapLength:s?.bits?.bitmap?.length??0,padding:s?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),i}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let i,s;try{i=Ki(n).toUint8Array()}catch(e){if(e instanceof $i)return Zr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new xl(i,r,o)}catch(e){return Zr(e instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const o=this.Ge.ht(),i=`projects/${o.projectId}/databases/${o.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const o=this.ot(r);if(o){if(n.current&&ra(o.target)){const t=new To(o.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Ts.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=ja();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Nl(e,t,this.Ye,this.je,n);return this.je=Sa(),this.Je=Ol(),this.He=Ol(),this.Ye=new Bi(bo),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Rl,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ui(bo),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ui(bo),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Xr("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Rl),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ol(){return new Bi(To.comparator)}function Ll(){return new Bi(To.comparator)}const Bl={asc:"ASCENDING",desc:"DESCENDING"},Ml={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fl={and:"AND",or:"OR"};class Ul{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zl(e,t){return e.useProto3Json||oi(t)?t:{value:t}}function Vl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $l(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ql(e,t){return Vl(e,t.toTimestamp())}function Hl(e){return ro(!!e,49232),$o.fromTimestamp(function(e){const t=Wi(e);return new Vo(t.seconds,t.nanos)}(e))}function Wl(e,t){return Gl(e,t).canonicalString()}function Gl(e,t){const n=function(e){return new Io(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Kl(e){const t=Io.fromString(e);return ro(pc(t),10190,{key:t.toString()}),t}function Ql(e,t){return Wl(e.databaseId,t.path)}function Yl(e,t){const n=Kl(t);if(n.get(1)!==e.databaseId.projectId)throw new so(io.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new so(io.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new To(ec(n))}function Xl(e,t){return Wl(e.databaseId,t)}function Jl(e){const t=Kl(e);return 4===t.length?Io.emptyPath():ec(t)}function Zl(e){return new Io(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ec(e){return ro(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function tc(e,t,n){return{name:Ql(e,t),fields:n.value.mapValue.fields}}function nc(e,t){let n;if(t instanceof sl)n={update:tc(e,t.key,t.value)};else if(t instanceof dl)n={delete:Ql(e,t.key)};else if(t instanceof al)n={update:tc(e,t.key,t.data),updateMask:fc(t.fieldMask)};else{if(!(t instanceof hl))return to(16599,{Vt:t.type});n={verify:Ql(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Va)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $a)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ha)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ga)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw to(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ql(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:to(27497)}(e,t.precondition)),n}function rc(e,t){return{documents:[Xl(e,t.path)]}}function oc(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Xl(e,o);const i=function(e){if(0!==e.length)return hc(Ms.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:uc(e.field),direction:ac(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=zl(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:o}}function ic(e){let t=Jl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ro(1===r,65062);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=sc(e);return t instanceof Ms&&Us(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new Ds(dc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,oi(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new As(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new As(n,t)}(n.endAt)),ia(t,o,s,i,a,"F",l,c)}function sc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dc(e.unaryFilter.field);return Bs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=dc(e.unaryFilter.field);return Bs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=dc(e.unaryFilter.field);return Bs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=dc(e.unaryFilter.field);return Bs.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return to(61313);default:return to(60726)}}(e):void 0!==e.fieldFilter?function(e){return Bs.create(dc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return to(58110);default:return to(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ms.create(e.compositeFilter.filters.map(e=>sc(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return to(1026)}}(e.compositeFilter.op))}(e):to(30097,{filter:e})}function ac(e){return Bl[e]}function lc(e){return Ml[e]}function cc(e){return Fl[e]}function uc(e){return{fieldPath:e.canonicalString()}}function dc(e){return Po.fromServerFormat(e.fieldPath)}function hc(e){return e instanceof Bs?function(e){if("=="===e.op){if(Ss(e.value))return{unaryFilter:{field:uc(e.field),op:"IS_NAN"}};if(_s(e.value))return{unaryFilter:{field:uc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ss(e.value))return{unaryFilter:{field:uc(e.field),op:"IS_NOT_NAN"}};if(_s(e.value))return{unaryFilter:{field:uc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uc(e.field),op:lc(e.op),value:e.value}}}(e):e instanceof Ms?function(e){const t=e.getFilters().map(e=>hc(e));return 1===t.length?t[0]:{compositeFilter:{op:cc(e.op),filters:t}}}(e):to(54877,{filter:e})}function fc(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function pc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class mc{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$o.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$o.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:qi.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new mc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gc{constructor(e){this.yt=e}}function vc(e){const t=ic({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?fa(t,t.limit,"L"):t}class yc{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Gi(e.integerValue));else if("doubleValue"in e){const n=Gi(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),ii(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Wi(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ki(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Is(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Es(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):to(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){const n=e.fields||{};this.Ft(t,53);const r=cs,o=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Gi(o)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),To.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}yc.Kt=new yc;class bc{constructor(){this.Cn=new wc}addToCollectionParentIndex(e,t){return this.Cn.add(t),Zo.resolve()}getCollectionParents(e,t){return Zo.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Zo.resolve()}deleteFieldIndex(e,t){return Zo.resolve()}deleteAllFieldIndexes(e){return Zo.resolve()}createTargetIndexes(e,t){return Zo.resolve()}getDocumentsMatchingTarget(e,t){return Zo.resolve(null)}getIndexType(e,t){return Zo.resolve(0)}getFieldIndexes(e,t){return Zo.resolve([])}getNextCollectionGroupToUpdate(e){return Zo.resolve(null)}getMinOffset(e,t){return Zo.resolve(Ko.min())}getMinOffsetFromCollectionGroup(e,t){return Zo.resolve(Ko.min())}updateCollectionGroup(e,t,n){return Zo.resolve()}updateIndexEntries(e,t){return Zo.resolve()}}class wc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ui(Io.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ui(Io.comparator)).toArray()}}new Uint8Array(0);const kc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_c=41943040;class Sc{static withCacheSize(e){return new Sc(e,Sc.DEFAULT_COLLECTION_PERCENTILE,Sc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Sc.DEFAULT_COLLECTION_PERCENTILE=10,Sc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sc.DEFAULT=new Sc(_c,Sc.DEFAULT_COLLECTION_PERCENTILE,Sc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sc.DISABLED=new Sc(-1,0,0);class Cc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cc(0)}static cr(){return new Cc(-1)}}const Ec="LruGarbageCollector",xc=1048576;function Ic(e,t){let[n,r]=e,[o,i]=t;const s=bo(n,o);return 0===s?bo(r,i):s}class Nc{constructor(e){this.Ir=e,this.buffer=new Ui(Ic),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Ic(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Xr(Ec,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ti(e)?Xr(Ec,"Ignoring IndexedDB error during garbage collection: ",e):await Jo(e)}await this.Vr(3e5)})}}class Tc{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Zo.resolve(ni.ce);const n=new Nc(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xr("LruGarbageCollector","Garbage collection skipped; disabled"),Zo.resolve(kc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Xr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kc):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,o,i,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Xr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(o=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Yr()<=sn.DEBUG&&Xr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${r} in `+(s-i)+"ms\n"+`\tRemoved ${o} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),Zo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})))}}function Ac(e,t){return new Tc(e,t)}class jc{constructor(){this.changes=new ka(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ts.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Zo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Dc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&rl(n.mutation,e,Vi.empty(),Vo.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ja()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ja();const r=Ia();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ea();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Ia();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ja()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let o=Sa();const i=Pa(),s=Pa();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof al)?o=o.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),rl(s.mutation,t,s.mutation.getFieldMask(),Vo.now())):i.set(t.key,Vi.empty())}),this.recalculateAndSaveOverlays(e,o).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>s.set(e,new Rc(t,i.get(e)??null))),s))}recalculateAndSaveOverlays(e,t){const n=Pa();let r=new Bi((e,t)=>e-t),o=ja();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const o of e)o.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||Vi.empty();s=o.applyToLocalView(i,s),n.set(e,s);const a=(r.get(o.batchId)||ja()).add(e);r=r.insert(o.batchId,a)})}).next(()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Na();l.forEach(e=>{if(!o.has(e)){const r=tl(t.get(e),n.get(e));null!==r&&c.set(e,r),o=o.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Zo.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return To.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):la(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):Zo.resolve(Ia());let s=qo,a=o;return i.next(t=>Zo.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?Zo.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,o)).next(()=>this.computeViews(e,a,t,ja())).next(e=>({batchId:s,changes:xa(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new To(t)).next(e=>{let t=Ea();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=Ea();return this.indexManager.getCollectionParents(e,o).next(s=>Zo.forEach(s,s=>{const a=function(e,t){return new oa(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r))).next(e=>{o.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ts.newInvalidDocument(r)))});let n=Ea();return e.forEach((e,r)=>{const i=o.get(e);void 0!==i&&rl(i.mutation,r,Vi.empty(),Vo.now()),va(t,r)&&(n=n.insert(e,r))}),n})}}class Oc{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Zo.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Hl(e.createTime)}}(t)),Zo.resolve()}getNamedQuery(e,t){return Zo.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:vc(e.bundledQuery),readTime:Hl(e.readTime)}}(t)),Zo.resolve()}}class Lc{constructor(){this.overlays=new Bi(To.comparator),this.qr=new Map}getOverlay(e,t){return Zo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ia();return Zo.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Zo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Zo.resolve()}getOverlaysForCollection(e,t,n){const r=Ia(),o=t.length+1,i=new To(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Zo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new Bi((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=Ia(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Ia(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Zo.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ml(t,n));let o=this.qr.get(t);void 0===o&&(o=ja(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class Bc{constructor(){this.sessionToken=qi.EMPTY_BYTE_STRING}getSessionToken(e){return Zo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Zo.resolve()}}class Mc{constructor(){this.Qr=new Ui(Fc.$r),this.Ur=new Ui(Fc.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Fc(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Fc(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new To(new Io([])),n=new Fc(t,e),r=new Fc(t,e+1),o=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),o.push(e.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new To(new Io([])),n=new Fc(t,e),r=new Fc(t,e+1);let o=ja();return this.Ur.forEachInRange([n,r],e=>{o=o.add(e.key)}),o}containsKey(e){const t=new Fc(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Fc{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return To.comparator(e.key,t.key)||bo(e.Yr,t.Yr)}static Kr(e,t){return bo(e.Yr,t.Yr)||To.comparator(e.key,t.key)}}class Uc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ui(Fc.$r)}checkEmpty(e){return Zo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new fl(o,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Zr=this.Zr.add(new Fc(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Zo.resolve(i)}lookupMutationBatch(e,t){return Zo.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),o=r<0?0:r;return Zo.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Zo.resolve(0===this.mutationQueue.length?ri:this.tr-1)}getAllMutationBatches(e){return Zo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Fc(t,0),r=new Fc(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);o.push(t)}),Zo.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ui(bo);return t.forEach(e=>{const t=new Fc(e,0),r=new Fc(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Zo.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;To.isDocumentKey(o)||(o=o.child(""));const i=new Fc(new To(o),0);let s=new Ui(bo);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},i),Zo.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ro(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Zo.forEach(t.mutations,r=>{const o=new Fc(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Fc(t,0),r=this.Zr.firstAfterOrEqual(n);return Zo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Zo.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zc{constructor(e){this.ri=e,this.docs=new Bi(To.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Zo.resolve(n?n.document.mutableCopy():Ts.newInvalidDocument(t))}getEntries(e,t){let n=Sa();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ts.newInvalidDocument(e))}),Zo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=Sa();const i=t.path,s=new To(i.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Qo(Go(s),n)<=0||(r.has(s.key)||va(t,s))&&(o=o.insert(s.key,s.mutableCopy()))}return Zo.resolve(o)}getAllFromCollectionGroup(e,t,n,r){to(9500)}ii(e,t){return Zo.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Vc(this)}getSize(e){return Zo.resolve(this.size)}}class Vc extends jc{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Zo.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class $c{constructor(e){this.persistence=e,this.si=new ka(e=>ta(e),na),this.lastRemoteSnapshotVersion=$o.min(),this.highestTargetId=0,this.oi=0,this._i=new Mc,this.targetCount=0,this.ai=Cc.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Zo.resolve()}getLastRemoteSnapshotVersion(e){return Zo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Zo.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Zo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Zo.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Cc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Zo.resolve()}updateTargetData(e,t){return this.Pr(t),Zo.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Zo.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.si.forEach((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Zo.waitFor(o).next(()=>r)}getTargetCount(e){return Zo.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Zo.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Zo.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(t=>{o.push(r.markPotentiallyOrphaned(e,t))}),Zo.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Zo.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Zo.resolve(n)}containsKey(e,t){return Zo.resolve(this._i.containsKey(t))}}class qc{constructor(e,t){this.ui={},this.overlays={},this.ci=new ni(0),this.li=!1,this.li=!0,this.hi=new Bc,this.referenceDelegate=e(this),this.Pi=new $c(this),this.indexManager=new bc,this.remoteDocumentCache=function(e){return new zc(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new gc(t),this.Ii=new Oc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Uc(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Xr("MemoryPersistence","Starting transaction:",e);const r=new Hc(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Zo.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Hc extends Xo{constructor(e){super(),this.currentSequenceNumber=e}}class Wc{constructor(e){this.persistence=e,this.Ri=new Mc,this.Vi=null}static mi(e){return new Wc(e)}get fi(){if(this.Vi)return this.Vi;throw to(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Zo.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Zo.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Zo.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zo.forEach(this.fi,n=>{const r=To.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,$o.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Zo.or([()=>Zo.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Gc{constructor(e,t){this.persistence=e,this.pi=new ka(e=>li(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Ac(this,t)}static mi(e,t){return new Gc(e,t)}Ei(){}di(e){return Zo.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Zo.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Zo.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,o.removeEntry(r,$o.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Zo.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Zo.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Zo.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Zo.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ys(e.data.value)),t}br(e,t,n){return Zo.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Zo.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Kc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=ja(),r=ja();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Kc(e,t.fromCache,n,r)}}class Qc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Yc{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Mt()?8:ei(Ot())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.ys(e,t).next(e=>{o.result=e}).next(()=>{if(!o.result)return this.ws(e,t,r,n).next(e=>{o.result=e})}).next(()=>{if(o.result)return;const n=new Qc;return this.Ss(e,t,n).next(r=>{if(o.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>o.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Yr()<=sn.DEBUG&&Xr("QueryEngine","SDK will not create cache indexes for query:",ga(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Zo.resolve()):(Yr()<=sn.DEBUG&&Xr("QueryEngine","Query:",ga(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Yr()<=sn.DEBUG&&Xr("QueryEngine","The SDK decides to create cache indexes for query:",ga(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ua(t))):Zo.resolve())}ys(e,t){if(aa(t))return Zo.resolve(null);let n=ua(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=fa(t,null,"F"),n=ua(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const o=ja(...r);return this.ps.getDocuments(e,o).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,o,n.readTime)?this.ys(e,fa(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return aa(t)||r.isEqual($o.min())?Zo.resolve(null):this.ps.getDocuments(e,n).next(o=>{const i=this.Ds(t,o);return this.Cs(t,i,n,r)?Zo.resolve(null):(Yr()<=sn.DEBUG&&Xr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ga(t)),this.vs(e,i,t,Wo(r,qo)).next(e=>e))})}Ds(e,t){let n=new Ui(ba(e));return t.forEach((t,r)=>{va(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,n){return Yr()<=sn.DEBUG&&Xr("QueryEngine","Using full collection scan to execute query:",ga(t)),this.ps.getDocumentsMatchingQuery(e,t,Ko.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Xc="LocalStore";class Jc{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Bi(bo),this.xs=new ka(e=>ta(e),na),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dc(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Zc(e,t,n,r){return new Jc(e,t,n,r)}async function eu(e,t){const n=oo(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(o=>(r=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const o=[],i=[];let s=ja();for(const e of r){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:o,addedBatchIds:i}))})})}function tu(e){const t=oo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function nu(e,t,n){let r=ja(),o=ja();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Sa();return n.forEach((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual($o.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Xr(Xc,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)}),{ks:r,qs:o}})}function ru(e,t){const n=oo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=ri),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function ou(e,t){const n=oo(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(o=>o?(r=o,Zo.resolve(r)):n.Pi.allocateTargetId(e).next(o=>(r=new mc(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function iu(e,t,n){const r=oo(e),o=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,o))}catch(e){if(!ti(e))throw e;Xr(Xc,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function su(e,t,n){const r=oo(e);let o=$o.min(),i=ja();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=oo(e),o=r.xs.get(n);return void 0!==o?Zo.resolve(r.Ms.get(o)):r.Pi.getTargetData(t,n)}(r,e,ua(t)).next(t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?o:$o.min(),n?i:ja())).next(e=>(au(r,ya(t),e),{documents:e,Qs:i})))}function au(e,t,n){let r=e.Os.get(t)||$o.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class lu{constructor(){this.activeTargetIds=Da()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cu{constructor(){this.Mo=new lu,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uu{Oo(e){}shutdown(){}}const du="ConnectivityMonitor";class hu{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Xr(du,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Xr(du,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fu=null;function pu(){return null===fu?fu=268435456+Math.round(2147483648*Math.random()):fu++,"0x"+fu.toString(16)}const mu="RestConnection",gu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vu{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===rs?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,o){const i=pu(),s=this.zo(e,t.toUriEncodedString());Xr(mu,`Sending RPC '${e}' ${i}:`,s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,o);const{host:l}=new URL(s),c=Tt(l);return this.Jo(e,s,a,n,c).then(t=>(Xr(mu,`Received RPC '${e}' ${i}: `,t),t),t=>{throw Zr(mu,`RPC '${e}' ${i} failed with error: `,t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,o,i){return this.Go(e,t,n,r,o)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Kr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=gu[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class yu{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const bu="WebChannelConnection";class wu extends vu{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,o){const i=pu();return new Promise((o,s)=>{const a=new Or;a.setWithCredentials(!0),a.listenOnce(Br.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Mr.NO_ERROR:const t=a.getResponseJson();Xr(bu,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case Mr.TIMEOUT:Xr(bu,`RPC '${e}' ${i} timed out`),s(new so(io.DEADLINE_EXCEEDED,"Request time out"));break;case Mr.HTTP_ERROR:const n=a.getStatus();if(Xr(bu,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(io).indexOf(t)>=0?t:io.UNKNOWN}(t.status);s(new so(e,t.message))}else s(new so(io.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new so(io.UNAVAILABLE,"Connection failed."));break;default:to(9055,{l_:e,streamId:i,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Xr(bu,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);Xr(bu,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=pu(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Vr(),s=zr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=o.join("");Xr(bu,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=i.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const f=new yu({Yo:t=>{h?Xr(bu,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Xr(bu,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Xr(bu,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Lr.EventType.OPEN,()=>{h||(Xr(bu,`RPC '${e}' stream ${r} transport opened.`),f.o_())}),p(u,Lr.EventType.CLOSE,()=>{h||(h=!0,Xr(bu,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(u))}),p(u,Lr.EventType.ERROR,t=>{h||(h=!0,Zr(bu,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new so(io.UNAVAILABLE,"The operation could not be completed")))}),p(u,Lr.EventType.MESSAGE,t=>{if(!h){const n=t.data[0];ro(!!n,16349);const o=n,i=o?.error||o[0]?.error;if(i){Xr(bu,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=vl[e];if(void 0!==t)return wl(t)}(t),o=i.message;void 0===n&&(n=io.INTERNAL,o="Unknown error status: "+t+" with message "+i.message),h=!0,f.a_(new so(n,o)),u.close()}else Xr(bu,`RPC '${e}' stream ${r} received:`,n),f.u_(n)}}),p(s,Ur.STAT_EVENT,t=>{t.stat===Fr.PROXY?Xr(bu,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Fr.NOPROXY&&Xr(bu,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ku(){return"undefined"!=typeof document?document:null}function _u(e){return new Ul(e,!0)}class Su{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Xr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Cu="PersistentStream";class Eu{constructor(e,t,n,r,o,i,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Su(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===io.RESOURCE_EXHAUSTED?(Jr(t.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===io.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new so(io.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Xr(Cu,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Xr(Cu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xu extends Eu{constructor(e,t,n,r,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:to(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(ro(void 0===t||"string"==typeof t,58123),qi.fromBase64String(t||"")):(ro(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),qi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?io.UNKNOWN:wl(e.code);return new so(t,e.message||"")}(s);n=new jl(r,o,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Yl(e,r.document.name),i=Hl(r.document.updateTime),s=r.document.createTime?Hl(r.document.createTime):$o.min(),a=new Ns({mapValue:{fields:r.document.fields}}),l=Ts.newFoundDocument(o,i,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Tl(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Yl(e,r.document),i=r.readTime?Hl(r.readTime):$o.min(),s=Ts.newNoDocument(o,i),a=r.removedTargetIds||[];n=new Tl([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Yl(e,r.document),i=r.removedTargetIds||[];n=new Tl([],i,o,null)}else{if(!("filter"in t))return to(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,i=new gl(r,o),s=e.targetId;n=new Al(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return $o.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?$o.min():t.readTime?Hl(t.readTime):$o.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Zl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ra(r)?{documents:rc(e,r)}:{query:oc(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$l(e,t.resumeToken);const r=zl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo($o.min())>0){n.readTime=Vl(e,t.snapshotVersion.toTimestamp());const r=zl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return to(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Zl(this.serializer),t.removeTarget=e,this.q_(t)}}class Iu extends Eu{constructor(e,t,n,r,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ro(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ro(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){ro(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(ro(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Hl(e.updateTime):Hl(t);return n.isEqual($o.min())&&(n=Hl(t)),new Xa(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Hl(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Zl(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>nc(this.serializer,e))};this.q_(t)}}class Nu{}class Pu extends Nu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new so(io.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[i,s]=o;return this.connection.Go(e,Gl(t,n),r,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===io.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new so(io.UNKNOWN,e.toString())})}Ho(e,t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Ho(e,Gl(t,n),r,s,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===io.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new so(io.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Tu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jr(t),this.aa=!1):Xr("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Au="RemoteStore";class ju{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{zu(this)&&(Xr(Au,"Restarting streams for network reachability change."),await async function(e){const t=oo(e);t.Ea.add(4),await Du(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Ru(t)}(this))})}),this.Ra=new Tu(n,r)}}async function Ru(e){if(zu(e))for(const t of e.da)await t(!0)}async function Du(e){for(const t of e.da)await t(!1)}function Ou(e,t){const n=oo(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Uu(n)?Fu(n):sd(n).O_()&&Bu(n,t))}function Lu(e,t){const n=oo(e),r=sd(n);n.Ia.delete(t),r.O_()&&Mu(n,t),0===n.Ia.size&&(r.O_()?r.L_():zu(n)&&n.Ra.set("Unknown"))}function Bu(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($o.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}sd(e).Y_(t)}function Mu(e,t){e.Va.Ue(t),sd(e).Z_(t)}function Fu(e){e.Va=new Dl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),sd(e).start(),e.Ra.ua()}function Uu(e){return zu(e)&&!sd(e).x_()&&e.Ia.size>0}function zu(e){return 0===oo(e).Ea.size}function Vu(e){e.Va=void 0}async function $u(e){e.Ra.set("Online")}async function qu(e){e.Ia.forEach((t,n)=>{Bu(e,t)})}async function Hu(e,t){Vu(e),Uu(e)?(e.Ra.ha(t),Fu(e)):e.Ra.set("Unknown")}async function Wu(e,t,n){if(e.Ra.set("Online"),t instanceof jl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Xr(Au,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Gu(e,n)}else if(t instanceof Tl?e.Va.Ze(t):t instanceof Al?e.Va.st(t):e.Va.tt(t),!n.isEqual($o.min()))try{const t=await tu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e.Ia.get(r);o&&e.Ia.set(r,o.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(qi.EMPTY_BYTE_STRING,r.snapshotVersion)),Mu(e,t);const o=new mc(r.target,t,n,r.sequenceNumber);Bu(e,o)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Xr(Au,"Failed to raise snapshot:",t),await Gu(e,t)}}async function Gu(e,t,n){if(!ti(t))throw t;e.Ea.add(1),await Du(e),e.Ra.set("Offline"),n||(n=()=>tu(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Xr(Au,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Ru(e)})}function Ku(e,t){return t().catch(n=>Gu(e,n,t))}async function Qu(e){const t=oo(e),n=ad(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ri;for(;Yu(t);)try{const e=await ru(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Xu(t,e)}catch(e){await Gu(t,e)}Ju(t)&&Zu(t)}function Yu(e){return zu(e)&&e.Ta.length<10}function Xu(e,t){e.Ta.push(t);const n=ad(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Ju(e){return zu(e)&&!ad(e).x_()&&e.Ta.length>0}function Zu(e){ad(e).start()}async function ed(e){ad(e).ra()}async function td(e){const t=ad(e);for(const n of e.Ta)t.ea(n.mutations)}async function nd(e,t,n){const r=e.Ta.shift(),o=pl.from(r,t,n);await Ku(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Qu(e)}async function rd(e,t){t&&ad(e).X_&&await async function(e,t){if(function(e){return bl(e)&&e!==io.ABORTED}(t.code)){const n=e.Ta.shift();ad(e).B_(),await Ku(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Qu(e)}}(e,t),Ju(e)&&Zu(e)}async function od(e,t){const n=oo(e);n.asyncQueue.verifyOperationInProgress(),Xr(Au,"RemoteStore received new credentials");const r=zu(n);n.Ea.add(3),await Du(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ru(n)}async function id(e,t){const n=oo(e);t?(n.Ea.delete(2),await Ru(n)):t||(n.Ea.add(2),await Du(n),n.Ra.set("Unknown"))}function sd(e){return e.ma||(e.ma=function(e,t,n){const r=oo(e);return r.sa(),new xu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:$u.bind(null,e),t_:qu.bind(null,e),r_:Hu.bind(null,e),H_:Wu.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Uu(e)?Fu(e):e.Ra.set("Unknown")):(await e.ma.stop(),Vu(e))})),e.ma}function ad(e){return e.fa||(e.fa=function(e,t,n){const r=oo(e);return r.sa(),new Iu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:ed.bind(null,e),r_:rd.bind(null,e),ta:td.bind(null,e),na:nd.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Qu(e)):(await e.fa.stop(),e.Ta.length>0&&(Xr(Au,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class ld{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,s=new ld(e,t,i,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new so(io.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cd(e,t){if(Jr("AsyncQueue",`${t}: ${e}`),ti(e))return new so(io.UNAVAILABLE,`${t}: ${e}`);throw e}class ud{static emptySet(e){return new ud(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||To.comparator(t.key,n.key):(e,t)=>To.comparator(e.key,t.key),this.keyedMap=Ea(),this.sortedSet=new Bi(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ud))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ud;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class dd{constructor(){this.ga=new Bi(To.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):to(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class hd{constructor(e,t,n,r,o,i,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,o){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new hd(e,t,ud.emptySet(t),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class fd{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class pd{constructor(){this.queries=md(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=oo(e),r=n.queries;n.queries=md(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new so(io.ABORTED,"Firestore shutting down"))}}function md(){return new ka(e=>ma(e),pa)}async function gd(e,t){const n=oo(e);let r=3;const o=t.query;let i=n.queries.get(o);i?!i.ba()&&t.Da()&&(r=2):(i=new fd,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(o,!0);break;case 1:i.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=cd(e,`Initialization of query '${ga(t.query)}' failed`);return void t.onError(n)}n.queries.set(o,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&wd(n)}async function vd(e,t){const n=oo(e),r=t.query;let o=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?o=t.Da()?0:1:!i.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yd(e,t){const n=oo(e);let r=!1;for(const o of t){const e=o.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(o)&&(r=!0);t.wa=o}}r&&wd(n)}function bd(e,t,n){const r=oo(e),o=r.queries.get(t);if(o)for(const i of o.Sa)i.onError(n);r.queries.delete(t)}function wd(e){e.Ca.forEach(e=>{e.next()})}var kd,_d;(_d=kd||(kd={})).Ma="default",_d.Cache="cache";class Sd{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new hd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=hd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kd.Cache}}class Cd{constructor(e){this.key=e}}class Ed{constructor(e){this.key=e}}class xd{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ja(),this.mutatedKeys=ja(),this.eu=ba(e),this.tu=new ud(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new dd,r=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=va(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(i=i.add(u),o=h?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:s,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return to(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==i.length||l?{snapshot:new hd(this.query,e.tu,o,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ja(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Ed(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Cd(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=ja();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return hd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Id="SyncEngine";class Nd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Pd{constructor(e){this.key=e,this.hu=!1}}class Td{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new ka(e=>ma(e),pa),this.Iu=new Map,this.Eu=new Set,this.du=new Bi(To.comparator),this.Au=new Map,this.Ru=new Mc,this.Vu={},this.mu=new Map,this.fu=Cc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Ad(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Jd(e);let o;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.lu()):o=await Rd(r,t,n,!0),o}async function jd(e,t){const n=Jd(e);await Rd(n,t,!0,!1)}async function Rd(e,t,n,r){const o=await ou(e.localStore,ua(t)),i=o.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Dd(e,t,i,"current"===s,o.resumeToken)),e.isPrimaryClient&&n&&Ou(e.remoteStore,o),a}async function Dd(e,t,n,r,o){e.pu=(t,n,r)=>async function(e,t,n,r){let o=t.view.ru(n);o.Cs&&(o=await su(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,o)}));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(o,e.isPrimaryClient,i,s);return Wd(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const i=await su(e.localStore,t,!0),s=new xd(t,i.Qs),a=s.ru(i.documents),l=Pl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),c=s.applyChanges(a,e.isPrimaryClient,l);Wd(e,n,c.au);const u=new Nd(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Od(e,t,n){const r=oo(e),o=r.Tu.get(t),i=r.Iu.get(o.targetId);if(i.length>1)return r.Iu.set(o.targetId,i.filter(e=>!pa(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await iu(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Lu(r.remoteStore,o.targetId),qd(r,o.targetId)}).catch(Jo)):(qd(r,o.targetId),await iu(r.localStore,o.targetId,!0))}async function Ld(e,t){const n=oo(e),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lu(n.remoteStore,r.targetId))}async function Bd(e,t){const n=oo(e);try{const e=await function(e,t){const n=oo(e),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const s=[];t.targetChanges.forEach((i,a)=>{const l=o.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(qi.EMPTY_BYTE_STRING,$o.min()).withLastLimboFreeSnapshotVersion($o.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),o=o.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&s.push(n.Pi.updateTargetData(e,c))});let a=Sa(),l=ja();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(nu(e,i,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual($o.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Zo.waitFor(s).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=o,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(ro(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?ro(r.hu,14607):e.removedDocuments.size>0&&(ro(r.hu,42227),r.hu=!1))}),await Qd(n,e,t)}catch(e){await Jo(e)}}function Md(e,t,n){const r=oo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const o=r.view.va(t);o.snapshot&&e.push(o.snapshot)}),function(e,t){const n=oo(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const o of n.Sa)o.va(t)&&(r=!0)}),r&&wd(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Fd(e,t,n){const r=oo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),i=o&&o.key;if(i){let e=new Bi(To.comparator);e=e.insert(i,Ts.newNoDocument(i,$o.min()));const n=ja().add(i),o=new Nl($o.min(),new Map,new Bi(bo),e,n);await Bd(r,o),r.du=r.du.remove(i),r.Au.delete(t),Kd(r)}else await iu(r.localStore,t,!1).then(()=>qd(r,t,n)).catch(Jo)}async function Ud(e,t){const n=oo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=oo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,i=o.keys();let s=Zo.resolve();return i.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);ro(null!==i,48541),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,o))}(n,e,t,o).next(()=>o.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ja();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);$d(n,r,null),Vd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qd(n,e)}catch(e){await Jo(e)}}async function zd(e,t,n){const r=oo(e);try{const e=await function(e,t){const n=oo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ro(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);$d(r,t,n),Vd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Qd(r,e)}catch(n){await Jo(n)}}function Vd(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function $d(e,t,n){const r=oo(e);let o=r.Vu[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function qd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Hd(e,t)})}function Hd(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Lu(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Kd(e))}function Wd(e,t,n){for(const r of n)r instanceof Cd?(e.Ru.addReference(r.key,t),Gd(e,r)):r instanceof Ed?(Xr(Id,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Hd(e,r.key)):to(19791,{wu:r})}function Gd(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Xr(Id,"New document in limbo: "+n),e.Eu.add(r),Kd(e))}function Kd(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new To(Io.fromString(t)),r=e.fu.next();e.Au.set(r,new Pd(n)),e.du=e.du.insert(n,r),Ou(e.remoteStore,new mc(ua(sa(n.path)),r,"TargetPurposeLimboResolution",ni.ce))}}async function Qd(e,t,n){const r=oo(e),o=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(a.targetId)?.current;r.sharedClientState.updateQueryState(a.targetId,t?"current":"not-current")}if(e){o.push(e);const t=Kc.As(a.targetId,e);i.push(t)}}))}),await Promise.all(s),r.Pu.H_(o),await async function(e,t){const n=oo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Zo.forEach(t,t=>Zo.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Zo.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!ti(e))throw e;Xr(Xc,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,o)}}}(r.localStore,i))}async function Yd(e,t){const n=oo(e);if(!n.currentUser.isEqual(t)){Xr(Id,"User change. New user:",t.toKey());const e=await eu(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new so(io.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Qd(n,e.Ls)}}function Xd(e,t){const n=oo(e),r=n.Au.get(t);if(r&&r.hu)return ja().add(r.key);{let e=ja();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Jd(e){const t=oo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Fd.bind(null,t),t.Pu.H_=yd.bind(null,t.eventManager),t.Pu.yu=bd.bind(null,t.eventManager),t}function Zd(e){const t=oo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ud.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zd.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_u(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Zc(this.persistence,new Yc,e.initialUser,this.serializer)}Cu(e){return new qc(Wc.mi,this.serializer)}Du(e){return new cu}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class th extends eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ro(this.persistence.referenceDelegate instanceof Gc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Pc(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Sc.withCacheSize(this.cacheSizeBytes):Sc.DEFAULT;return new qc(e=>Gc.mi(e,t),this.serializer)}}class nh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Md(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yd.bind(null,this.syncEngine),await id(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new pd}createDatastore(e){const t=_u(e.databaseInfo.databaseId),n=function(e){return new wu(e)}(e.databaseInfo);return function(e,t,n,r){return new Pu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new ju(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,e=>Md(this.syncEngine,e,0),hu.v()?new hu:new uu)}createSyncEngine(e,t){return function(e,t,n,r,o,i,s){const a=new Td(e,t,n,r,o,i);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=oo(e);Xr(Au,"RemoteStore shutting down."),t.Ea.add(5),await Du(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}nh.provider={build:()=>new nh};class rh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const oh="FirestoreClient";class ih{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Gr.UNAUTHENTICATED,this.clientId=yo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async e=>{Xr(oh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Xr(oh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=cd(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function sh(e,t){e.asyncQueue.verifyOperationInProgress(),Xr(oh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await eu(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ah(e,t){e.asyncQueue.verifyOperationInProgress();const n=await lh(e);Xr(oh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>od(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>od(t.remoteStore,n)),e._onlineComponents=t}async function lh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xr(oh,"Using user provided OfflineComponentProvider");try{await sh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===io.FAILED_PRECONDITION||e.code===io.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Zr("Error using user provided cache. Falling back to memory cache: "+n),await sh(e,new eh)}}else Xr(oh,"Using default OfflineComponentProvider"),await sh(e,new th(void 0));return e._offlineComponents}async function ch(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xr(oh,"Using user provided OnlineComponentProvider"),await ah(e,e._uninitializedComponentsProvider._online)):(Xr(oh,"Using default OnlineComponentProvider"),await ah(e,new nh))),e._onlineComponents}function uh(e){return ch(e).then(e=>e.syncEngine)}async function dh(e){const t=await ch(e),n=t.eventManager;return n.onListen=Ad.bind(null,t.syncEngine),n.onUnlisten=Od.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=jd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ld.bind(null,t.syncEngine),n}function hh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ao;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new rh({next:a=>{i.Nu(),t.enqueueAndForget(()=>vd(e,s));const l=a.docs.has(n);!l&&a.fromCache?o.reject(new so(io.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?o.reject(new so(io.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(a)},error:e=>o.reject(e)}),s=new Sd(sa(n.path),i,{includeMetadataChanges:!0,qa:!0});return gd(e,s)}(await dh(e),e.asyncQueue,t,n,r)),r.promise}function fh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ao;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new rh({next:n=>{i.Nu(),t.enqueueAndForget(()=>vd(e,s)),n.fromCache&&"server"===r.source?o.reject(new so(io.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:e=>o.reject(e)}),s=new Sd(n,i,{includeMetadataChanges:!0,qa:!0});return gd(e,s)}(await dh(e),e.asyncQueue,t,n,r)),r.promise}function ph(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const mh=new Map,gh="firestore.googleapis.com",vh=!0;class yh{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new so(io.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gh,this.ssl=vh}else this.host=e.host,this.ssl=e.ssl??vh;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=_c;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<xc)throw new so(io.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new so(io.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ph(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new so(io.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new so(io.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new so(io.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new so(io.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new so(io.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new co;switch(e.type){case"firstParty":return new po(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new so(io.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mh.get(e);t&&(Xr("ComponentProvider","Removing Datastore"),mh.delete(e),t.terminate())}(this),Promise.resolve()}}function wh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Lo(e,bh);const o=Tt(t),i=e._getSettings(),s={...i,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;o&&(At(`https://${a}`),Dt("Firestore",!0)),i.host!==gh&&i.host!==a&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:o,emulatorOptions:r};if(!Ht(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Gr.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};return[_t(JSON.stringify({alg:"none",type:"JWT"})),_t(JSON.stringify(i)),""].join(".")}(r.mockUserToken,e._app?.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new so(io.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Gr(o)}e._authCredentials=new uo(new lo(t,n))}}class kh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kh(this.firestore,e,this._query)}}class _h{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _h(this.firestore,e,this._key)}toJSON(){return{type:_h._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Fo(t,_h._jsonSchema))return new _h(e,n||null,new To(Io.fromString(t.referencePath)))}}_h._jsonSchemaVersion="firestore/documentReference/1.0",_h._jsonSchema={type:Mo("string",_h._jsonSchemaVersion),referencePath:Mo("string")};class Sh extends kh{constructor(e,t,n){super(e,t,sa(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _h(this.firestore,null,new To(e))}withConverter(e){return new Sh(this.firestore,e,this._path)}}function Ch(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=Zt(e),Ao("collection","path",t),e instanceof bh){const n=Io.fromString(t,...r);return Ro(n),new Sh(e,null,n)}{if(!(e instanceof _h||e instanceof Sh))throw new so(io.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Io.fromString(t,...r));return Ro(n),new Sh(e.firestore,null,n)}}function Eh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=Zt(e),1===arguments.length&&(t=yo.newId()),Ao("doc","path",t),e instanceof bh){const n=Io.fromString(t,...r);return jo(n),new _h(e,null,new To(n))}{if(!(e instanceof _h||e instanceof Sh))throw new so(io.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Io.fromString(t,...r));return jo(n),new _h(e.firestore,e instanceof Sh?e.converter:null,new To(n))}}const xh="AsyncQueue";class Ih{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Su(this,"async_queue_retry"),this._c=()=>{const e=ku();e&&Xr(xh,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=ku();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ku();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ao;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(EC){if(!ti(EC))throw EC;Xr(xh,"Operation failed with retryable error: "+EC)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Jr("INTERNAL UNHANDLED ERROR: ",Nh(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=ld.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&to(47125,{Pc:Nh(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Nh(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Ph(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Th extends bh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ih,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ih(e),this._firestoreClient=void 0,await e}}}function Ah(e){if(e._terminated)throw new so(io.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||jh(e),e._firestoreClient}function jh(e){const t=e._freezeSettings(),n=function(e,t,n,r){return new ns(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ph(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new ih(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}class Rh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rh(qi.fromBase64String(e))}catch(e){throw new so(io.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Rh(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rh._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fo(e,Rh._jsonSchema))return Rh.fromBase64String(e.bytes)}}Rh._jsonSchemaVersion="firestore/bytes/1.0",Rh._jsonSchema={type:Mo("string",Rh._jsonSchemaVersion),bytes:Mo("string")};class Dh{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new so(io.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Po(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class Lh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new so(io.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new so(io.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bo(this._lat,e._lat)||bo(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lh._jsonSchemaVersion}}static fromJSON(e){if(Fo(e,Lh._jsonSchema))return new Lh(e.latitude,e.longitude)}}Lh._jsonSchemaVersion="firestore/geoPoint/1.0",Lh._jsonSchema={type:Mo("string",Lh._jsonSchemaVersion),latitude:Mo("number"),longitude:Mo("number")};class Bh{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Bh._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fo(e,Bh._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Bh(e.vectorValues);throw new so(io.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bh._jsonSchemaVersion="firestore/vectorValue/1.0",Bh._jsonSchema={type:Mo("string",Bh._jsonSchemaVersion),vectorValues:Mo("object")};const Mh=/^__.*__$/;class Fh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new al(e,this.data,this.fieldMask,t,this.fieldTransforms):new sl(e,this.data,t,this.fieldTransforms)}}class Uh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new al(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw to(40011,{Ac:e})}}class Vh{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return of(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(zh(this.Ac)&&Mh.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $h{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||_u(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vh({Ac:e,methodName:t,Dc:n,path:Po.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qh(e){const t=e._freezeSettings(),n=_u(e._databaseId);return new $h(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Hh(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(i.merge||i.mergeFields?2:0,t,n,o);ef("Data must be an object, but it was:",s,r);const a=Jh(r,s);let l,c;if(i.merge)l=new Vi(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=tf(t,r,n);if(!s.contains(o))throw new so(io.INVALID_ARGUMENT,`Field '${o}' is specified in your field mask but missing from your input data.`);sf(e,o)||e.push(o)}l=new Vi(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new Fh(new Ns(a),l,c)}class Wh extends Oh{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}class Gh extends Oh{_toFieldTransform(e){return new Ya(e.path,new Va)}isEqual(e){return e instanceof Gh}}function Kh(e,t,n,r){const o=e.Cc(1,t,n);ef("Data must be an object, but it was:",o,r);const i=[],s=Ns.empty();Oi(r,(e,r)=>{const a=rf(t,e,n);r=Zt(r);const l=o.yc(a);if(r instanceof Wh)i.push(a);else{const e=Xh(r,l);null!=e&&(i.push(a),s.set(a,e))}});const a=new Vi(i);return new Uh(s,a,o.fieldTransforms)}function Qh(e,t,n,r,o,i){const s=e.Cc(1,t,n),a=[tf(t,r,n)],l=[o];if(i.length%2!=0)throw new so(io.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(tf(t,i[h])),l.push(i[h+1]);const c=[],u=Ns.empty();for(let h=a.length-1;h>=0;--h)if(!sf(c,a[h])){const e=a[h];let t=l[h];t=Zt(t);const n=s.yc(e);if(t instanceof Wh)c.push(e);else{const r=Xh(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Vi(c);return new Uh(u,d,s.fieldTransforms)}function Yh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Xh(n,e.Cc(r?4:3,t))}function Xh(e,t){if(Zh(e=Zt(e)))return ef("Unsupported field value:",t,e),Jh(e,t);if(e instanceof Oh)return function(e,t){if(!zh(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=Xh(o,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Zt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ba(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Vo.fromDate(e);return{timestampValue:Vl(t.serializer,n)}}if(e instanceof Vo){const n=new Vo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Vl(t.serializer,n)}}if(e instanceof Lh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Rh)return{bytesValue:$l(t.serializer,e._byteString)};if(e instanceof _h){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Wl(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Bh)return function(e,t){return{mapValue:{fields:{[is]:{stringValue:ls},[cs]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Oa(t.serializer,e)})}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${Oo(e)}`)}(e,t)}function Jh(e,t){const n={};return Li(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Oi(e,(e,r)=>{const o=Xh(r,t.mc(e));null!=o&&(n[e]=o)}),{mapValue:{fields:n}}}function Zh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vo||e instanceof Lh||e instanceof Rh||e instanceof _h||e instanceof Oh||e instanceof Bh)}function ef(e,t,n){if(!Zh(n)||!Do(n)){const r=Oo(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function tf(e,t,n){if((t=Zt(t))instanceof Dh)return t._internalPath;if("string"==typeof t)return rf(e,t);throw of("Field path arguments must be of type string or ",e,!1,void 0,n)}const nf=new RegExp("[~\\*/\\[\\]]");function rf(e,t,n){if(t.search(nf)>=0)throw of(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Dh(...t.split("."))._internalPath}catch(r){throw of(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function of(e,t,n,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${r}`),s&&(l+=` in document ${o}`),l+=")"),new so(io.INVALID_ARGUMENT,a+e+l)}function sf(e,t){return e.some(e=>e.isEqual(t))}class af{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _h(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lf extends af{data(){return super.data()}}function cf(e,t){return"string"==typeof t?rf(e,t):t instanceof Dh?t._internalPath:t._delegate._internalPath}function uf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new so(io.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class df{}class hf extends df{}function ff(e,t){let n=[];for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t instanceof df&&n.push(t),n=n.concat(o),function(e){const t=e.filter(e=>e instanceof gf).length,n=e.filter(e=>e instanceof pf).length;if(t>1||t>0&&n>0)throw new so(io.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class pf extends hf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new pf(e,t,n)}_apply(e){const t=this._parse(e);return Sf(e._query,t),new kh(e.firestore,e.converter,ha(e._query,t))}_parse(e){const t=qh(e.firestore),n=function(e,t,n,r,o,i,s){let a;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new so(io.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){_f(s,i);const t=[];for(const n of s)t.push(kf(r,e,n));a={arrayValue:{values:t}}}else a=kf(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||_f(s,i),a=Yh(n,t,s,"in"===i||"not-in"===i);return Bs.create(o,i,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function mf(e,t,n){const r=t,o=cf("where",e);return pf._create(o,r,n)}class gf extends df{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gf(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Ms.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const o of r)Sf(n,o),n=ha(n,o)}(e._query,t),new kh(e.firestore,e.converter,ha(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vf extends hf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vf(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new so(io.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new so(io.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ds(t,n)}(e._query,this._field,this._direction);return new kh(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new oa(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function yf(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=cf("orderBy",e);return vf._create(n,t)}class bf extends hf{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new bf(e,t,n)}_apply(e){return new kh(e.firestore,e.converter,fa(e._query,this._limit,this._limitType))}}function wf(e){return Bo("limit",e),bf._create("limit",e,"F")}function kf(e,t,n){if("string"==typeof(n=Zt(n))){if(""===n)throw new so(io.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!la(t)&&-1!==n.indexOf("/"))throw new so(io.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Io.fromString(n));if(!To.isDocumentKey(r))throw new so(io.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bs(e,new To(r))}if(n instanceof _h)return bs(e,n._key);throw new so(io.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oo(n)}.`)}function _f(e,t){if(!Array.isArray(e)||0===e.length)throw new so(io.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Sf(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new so(io.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new so(io.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Cf{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw to(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Oi(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){const t=e.fields?.[cs].arrayValue?.values?.map(e=>Gi(e.doubleValue));return new Bh(t)}convertGeoPoint(e){return new Lh(Gi(e.latitude),Gi(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=es(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ts(e));default:return null}}convertTimestamp(e){const t=Wi(e);return new Vo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Io.fromString(e);ro(pc(n),9688,{name:e});const r=new os(n.get(1),n.get(3)),o=new To(n.popFirst(5));return r.isEqual(t)||Jr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function Ef(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class xf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class If extends af{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(cf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new so(io.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=If._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}If._jsonSchemaVersion="firestore/documentSnapshot/1.0",If._jsonSchema={type:Mo("string",If._jsonSchemaVersion),bundleSource:Mo("string","DocumentSnapshot"),bundleName:Mo("string"),bundle:Mo("string")};class Nf extends If{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Pf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Nf(this._firestore,this._userDataWriter,n.key,n,new xf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new so(io.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Nf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new xf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Nf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Tf(t.type),doc:r,oldIndex:o,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new so(io.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yo.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Tf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return to(61501,{type:e})}}function Af(e){e=Lo(e,_h);const t=Lo(e.firestore,Th);return hh(Ah(t),e._key).then(n=>Ff(t,e,n))}Pf._jsonSchemaVersion="firestore/querySnapshot/1.0",Pf._jsonSchema={type:Mo("string",Pf._jsonSchemaVersion),bundleSource:Mo("string","QuerySnapshot"),bundleName:Mo("string"),bundle:Mo("string")};class jf extends Cf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _h(this.firestore,null,t)}}function Rf(e){e=Lo(e,kh);const t=Lo(e.firestore,Th),n=Ah(t),r=new jf(t);return uf(e._query),fh(n,e._query).then(n=>new Pf(t,r,e,n))}function Df(e,t,n){e=Lo(e,_h);const r=Lo(e.firestore,Th),o=Ef(e.converter,t,n);return Mf(r,[Hh(qh(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,Ja.none())])}function Of(e,t,n){e=Lo(e,_h);const r=Lo(e.firestore,Th),o=qh(r);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=Zt(t))||t instanceof Dh?Qh(o,"updateDoc",e._key,t,n,a):Kh(o,"updateDoc",e._key,t),Mf(r,[i.toMutation(e._key,Ja.exists(!0))])}function Lf(e,t){const n=Lo(e.firestore,Th),r=Eh(e),o=Ef(e.converter,t);return Mf(n,[Hh(qh(e.firestore),"addDoc",r._key,o,null!==e.converter,{}).toMutation(r._key,Ja.exists(!1))]).then(()=>r)}function Bf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=Zt(e);let o={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof n[i]||Ph(n[i])||(o=n[i++]);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Ph(n[i])){const e=n[i];n[i]=e.next?.bind(e),n[i+1]=e.error?.bind(e),n[i+2]=e.complete?.bind(e)}let a,l,c;if(e instanceof _h)l=Lo(e.firestore,Th),c=sa(e._key.path),a={next:t=>{n[i]&&n[i](Ff(l,e,t))},error:n[i+1],complete:n[i+2]};else{const t=Lo(e,kh);l=Lo(t.firestore,Th),c=t._query;const r=new jf(l);a={next:e=>{n[i]&&n[i](new Pf(l,r,t,e))},error:n[i+1],complete:n[i+2]},uf(e._query)}return function(e,t,n,r){const o=new rh(r),i=new Sd(t,o,n);return e.asyncQueue.enqueueAndForget(async()=>gd(await dh(e),i)),()=>{o.Nu(),e.asyncQueue.enqueueAndForget(async()=>vd(await dh(e),i))}}(Ah(l),c,s,a)}function Mf(e,t){return function(e,t){const n=new ao;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Zd(e);try{const e=await function(e,t){const n=oo(e),r=Vo.now(),o=t.reduce((e,t)=>e.add(t.key),ja());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Sa(),l=ja();return n.Ns.getEntries(e,o).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(o=>{i=o;const s=[];for(const e of t){const t=ol(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new al(e.key,t,Ps(t.value.mapValue),Ja.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:xa(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Bi(bo)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Qd(r,e.changes),await Qu(r.remoteStore)}catch(e){const t=cd(e,"Failed to persist write");n.reject(t)}}(await uh(e),t,n)),n.promise}(Ah(e),t)}function Ff(e,t,n){const r=n.docs.get(t._key),o=new jf(e);return new If(e,o,t._key,r,new xf(n.hasPendingWrites,n.fromCache),t.converter)}function Uf(){return new Gh("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Kr=e}(vr),hr(new en("firestore",(e,n)=>{let{instanceIdentifier:r,options:o}=n;const i=e.getProvider("app").getImmediate(),s=new Th(new ho(e.getProvider("auth-internal")),new go(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new so(io.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new os(e.options.projectId,t)}(i,r),i);return o={useFetchStreams:t,...o},s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),wr(Hr,Wr,e),wr(Hr,Wr,"esm2020")}();wr("firebase","12.0.0","app");const zf="@firebase/installations",Vf="0.6.19",$f=1e4,qf=`w:${Vf}`,Hf="FIS_v2",Wf=36e5,Gf=new $t("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Kf(e){return e instanceof Vt&&e.code.includes("request-failed")}function Qf(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Yf(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Xf(e,t){const n=(await t.json()).error;return Gf.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Jf(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Zf(e,t){let{refreshToken:n}=t;const r=Jf(e);return r.append("Authorization",function(e){return`${Hf} ${e}`}(n)),r}async function ep(e){const t=await e();return t.status>=500&&t.status<600?e():t}function tp(e){return new Promise(t=>{setTimeout(t,e)})}const np=/^[cdef][\w-]{21}$/;function rp(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return np.test(t)?t:""}catch{return""}}function op(e){return`${e.appName}!${e.appId}`}const ip=new Map;function sp(e,t){const n=op(e);ap(n,t),function(e,t){const n=cp();n&&n.postMessage({key:e,fid:t});up()}(n,t)}function ap(e,t){const n=ip.get(e);if(n)for(const r of n)r(t)}let lp=null;function cp(){return!lp&&"BroadcastChannel"in self&&(lp=new BroadcastChannel("[Firebase] FID Change"),lp.onmessage=e=>{ap(e.data.key,e.data.fid)}),lp}function up(){0===ip.size&&lp&&(lp.close(),lp=null)}const dp="firebase-installations-store";let hp=null;function fp(){return hp||(hp=Cn("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(dp)}})),hp}async function pp(e,t){const n=op(e),r=(await fp()).transaction(dp,"readwrite"),o=r.objectStore(dp),i=await o.get(n);return await o.put(t,n),await r.done,i&&i.fid===t.fid||sp(e,t.fid),t}async function mp(e){const t=op(e),n=(await fp()).transaction(dp,"readwrite");await n.objectStore(dp).delete(t),await n.done}async function gp(e,t){const n=op(e),r=(await fp()).transaction(dp,"readwrite"),o=r.objectStore(dp),i=await o.get(n),s=t(i);return void 0===s?await o.delete(n):await o.put(s,n),await r.done,!s||i&&i.fid===s.fid||sp(e,s.fid),s}async function vp(e){let t;const n=await gp(e.appConfig,n=>{const r=function(e){const t=e||{fid:rp(),registrationStatus:0};return wp(t)}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Gf.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:o}=t;const i=Qf(n),s=Jf(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:o,authVersion:Hf,appId:n.appId,sdkVersion:qf},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await ep(()=>fetch(i,c));if(u.ok){const e=await u.json();return{fid:e.fid||o,registrationStatus:2,refreshToken:e.refreshToken,authToken:Yf(e.authToken)}}throw await Xf("Create Installation",u)}(e,t);return pp(e.appConfig,n)}catch(EC){throw Kf(EC)&&409===EC.customData.serverCode?await mp(e.appConfig):await pp(e.appConfig,{fid:t.fid,registrationStatus:0}),EC}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:yp(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function yp(e){let t=await bp(e.appConfig);for(;1===t.registrationStatus;)await tp(100),t=await bp(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await vp(e);return n||t}return t}function bp(e){return gp(e,e=>{if(!e)throw Gf.create("installation-not-found");return wp(e)})}function wp(e){return 1===(t=e).registrationStatus&&t.registrationTime+$f<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function kp(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const o=function(e,t){let{fid:n}=t;return`${Qf(e)}/${n}/authTokens:generate`}(n,t),i=Zf(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={installation:{sdkVersion:qf,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await ep(()=>fetch(o,l));if(c.ok){return Yf(await c.json())}throw await Xf("Generate Auth Token",c)}async function _p(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await gp(e.appConfig,r=>{if(!Cp(r))throw Gf.create("not-registered");const o=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Wf}(e)}(o))return r;if(1===o.requestStatus)return t=async function(e,t){let n=await Sp(e.appConfig);for(;1===n.authToken.requestStatus;)await tp(100),n=await Sp(e.appConfig);const r=n.authToken;return 0===r.requestStatus?_p(e,t):r}(e,n),r;{if(!navigator.onLine)throw Gf.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}(r);return t=async function(e,t){try{const n=await kp(e,t),r={...t,authToken:n};return await pp(e.appConfig,r),n}catch(EC){if(!Kf(EC)||401!==EC.customData.serverCode&&404!==EC.customData.serverCode){const n={...t,authToken:{requestStatus:0}};await pp(e.appConfig,n)}else await mp(e.appConfig);throw EC}}(e,n),n}});return t?await t:r.authToken}function Sp(e){return gp(e,e=>{if(!Cp(e))throw Gf.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+$f<Date.now()?{...e,authToken:{requestStatus:0}}:e;var n})}function Cp(e){return void 0!==e&&2===e.registrationStatus}async function Ep(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await vp(e);t&&await t}(n);return(await _p(n,t)).token}function xp(e){return Gf.create("missing-app-config-values",{valueName:e})}const Ip="installations",Np=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw xp("App Configuration");if(!e.name)throw xp("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw xp(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:fr(t,"heartbeat"),_delete:()=>Promise.resolve()}},Pp=e=>{const t=fr(e.getProvider("app").getImmediate(),Ip).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await vp(t);return r?r.catch(console.error):_p(t).catch(console.error),n.fid}(t),getToken:e=>Ep(t,e)}};hr(new en(Ip,Np,"PUBLIC")),hr(new en("installations-internal",Pp,"PRIVATE")),wr(zf,Vf),wr(zf,Vf,"esm2020");const Tp="analytics",Ap="https://www.googletagmanager.com/gtag/js",jp=new dn("@firebase/analytics"),Rp=new $t("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Dp(e){if(!e.startsWith(Ap)){const t=Rp.create("invalid-gtag-resource",{gtagURL:e});return jp.warn(t.message),""}return e}function Op(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Lp(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Dp}),r=document.createElement("script"),o=`${Ap}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Bp(e,t,n,r){return async function(o){try{for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if("event"===o){const[r,o]=s;await async function(e,t,n,r,o){try{let i=[];if(o&&o.send_to){let e=o.send_to;Array.isArray(e)||(e=[e]);const r=await Op(n);for(const n of e){const e=r.find(e=>e.measurementId===n),o=e&&t[e.appId];if(!o){i=[];break}i.push(o)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,o||{})}catch(EC){jp.error(EC)}}(e,t,n,r,o)}else if("config"===o){const[o,i]=s;await async function(e,t,n,r,o,i){const s=r[o];try{if(s)await t[s];else{const e=(await Op(n)).find(e=>e.measurementId===o);e&&await t[e.appId]}}catch(EC){jp.error(EC)}e("config",o,i)}(e,t,n,r,o,i)}else if("consent"===o){const[t,n]=s;e("consent",t,n)}else if("get"===o){const[t,n,r]=s;e("get",t,n,r)}else if("set"===o){const[t]=s;e("set",t)}else e(o,...s)}catch(EC){jp.error(EC)}}}const Mp=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Fp(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Up(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mp,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:o,measurementId:i}=e.options;if(!r)throw Rp.create("no-app-id");if(!o){if(i)return{measurementId:i,appId:r};throw Rp.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Vp;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),zp({appId:r,apiKey:o,measurementId:i},s,a,t)}async function zp(e,t,n){let{throttleEndTimeMillis:r,backoffCount:o}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mp;const{appId:s,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),i=setTimeout(n,o);e.addEventListener(()=>{clearTimeout(i),r(Rp.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(EC){if(a)return jp.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${EC?.message}]`),{appId:s,measurementId:a};throw EC}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:Fp(n)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),i=await fetch(o,r);if(200!==i.status&&304!==i.status){let e="";try{const t=await i.json();t.error?.message&&(e=t.error.message)}catch(s){}throw Rp.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return i.deleteThrottleMetadata(s),t}catch(EC){const r=EC;if(!function(e){if(!(e instanceof Vt)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(i.deleteThrottleMetadata(s),a)return jp.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${r?.message}]`),{appId:s,measurementId:a};throw EC}const l=503===Number(r?.customData?.httpStatus)?Jt(o,i.intervalMillis,30):Jt(o,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1};return i.setThrottleMetadata(s,c),jp.debug(`Calling attemptFetch again in ${l} millis`),zp(e,c,n,i)}}class Vp{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let $p,qp;function Hp(e){qp=e}function Wp(e){$p=e}async function Gp(e,t,n,r,o,i,s){const a=Up(e);a.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&jp.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>jp.error(e)),t.push(a);const l=async function(){if(!Ft())return jp.warn(Rp.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Ut()}catch(EC){return jp.warn(Rp.create("indexeddb-unavailable",{errorInfo:EC?.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[c,u]=await Promise.all([a,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ap)&&n.src.includes(e))return n;return null})(i)||Lp(i,c.measurementId),qp&&(o("consent","default",qp),Hp(void 0)),o("js",new Date);const d=s?.config??{};return d.origin="firebase",d.update=!0,null!=u&&(d.firebase_id=u),o("config",c.measurementId,d),$p&&(o("set",$p),Wp(void 0)),c.measurementId}class Kp{constructor(e){this.app=e}_delete(){return delete Qp[this.app.options.appId],Promise.resolve()}}let Qp={},Yp=[];const Xp={};let Jp,Zp,em="dataLayer",tm="gtag",nm=!1;function rm(e,t,n){!function(){const e=[];if(Bt()&&e.push("This is a browser extension environment."),zt()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Rp.create("invalid-analytics-context",{errorInfo:t});jp.warn(n.message)}}();const r=e.options.appId;if(!r)throw Rp.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Rp.create("no-api-key");jp.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qp[r])throw Rp.create("already-exists",{id:r});if(!nm){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(em);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,o){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[o]&&"function"===typeof window[o]&&(i=window[o]),window[o]=Bp(i,e,t,n),{gtagCore:i,wrappedGtag:window[o]}}(Qp,Yp,Xp,em,tm);Zp=e,Jp=t,nm=!0}Qp[r]=Gp(e,Yp,Xp,t,Jp,em,n);return new Kp(e)}function om(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();e=Zt(e);const t=fr(e,Tp);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=fr(e,Tp);if(n.isInitialized()){const e=n.getImmediate();if(Ht(t,n.getOptions()))return e;throw Rp.create("already-initialized")}const r=n.initialize({options:t});return r}(e)}const im="@firebase/analytics",sm="0.10.18";hr(new en(Tp,(e,t)=>{let{options:n}=t;return rm(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),hr(new en("analytics-internal",function(e){try{const t=e.getProvider(Tp).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=Zt(e),async function(e,t,n,r,o){if(o&&o.global)e("event",n,r);else{const o=await t;e("event",n,{...r,send_to:o})}}(Zp,Qp[e.app.options.appId],t,n,r).catch(e=>jp.error(e))}(t,e,n,r)}}catch(EC){throw Rp.create("interop-component-reg-failed",{reason:EC})}},"PRIVATE")),wr(im,sm),wr(im,sm,"esm2020");function am(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lm=am,cm=new $t("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),um=new dn("@firebase/auth");function dm(e){if(um.logLevel<=sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];um.error(`Auth (${vr}): ${e}`,...n)}}function hm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vm(e,...n)}function fm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vm(e,...n)}function pm(e,t,n){const r={...lm(),[t]:n};return new $t("auth","Firebase",r).create(t,{appName:e.name})}function mm(e){return pm(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gm(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&hm(e,"argument-error"),pm(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return cm.create(e,...n)}function ym(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw vm(t,...r)}}function bm(e){const t="INTERNAL ASSERTION FAILED: "+e;throw dm(t),new Error(t)}function wm(e,t){e||bm(t)}function km(){return"undefined"!==typeof self&&self.location?.href||""}function _m(){return"http:"===Sm()||"https:"===Sm()}function Sm(){return"undefined"!==typeof self&&self.location?.protocol||null}class Cm{constructor(e,t){this.shortDelay=e,this.longDelay=t,wm(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_m()||Bt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Em(e,t){wm(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class xm{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void bm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void bm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void bm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Im={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Nm=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Pm=new Cm(3e4,6e4);function Tm(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Am(e,t,n,r){return jm(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const s=Gt({key:e.config.apiKey,...i}).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:a,...o};return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Tt(e.emulatorConfig.host)&&(l.credentials="include"),xm.fetch()(await Dm(e,e.config.apiHost,n,s),l)})}async function jm(e,t,n){e._canInitEmulator=!1;const r={...Im,...t};try{const t=new Lm(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Bm(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Bm(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Bm(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Bm(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw pm(e,a,s);hm(e,a)}}catch(EC){if(EC instanceof Vt)throw EC;hm(e,"network-request-failed",{message:String(EC)})}}async function Rm(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Am(e,t,n,r,o);return"mfaPendingCredential"in i&&hm(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function Dm(e,t,n,r){const o=`${t}${n}?${r}`,i=e,s=i.config.emulator?Em(e.config,o):`${e.config.apiScheme}://${o}`;if(Nm.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function Om(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lm{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(fm(this.auth,"network-request-failed")),Pm.get())})}}function Bm(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=fm(e,t,r);return o.customData._tokenResponse=n,o}function Mm(e){return void 0!==e&&void 0!==e.enterprise}class Fm{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Om(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Um(e,t){return Am(e,"GET","/v2/recaptchaConfig",Tm(e,t))}async function zm(e,t){return Am(e,"POST","/v1/accounts:lookup",t)}function Vm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(EC){}}function $m(e){return 1e3*Number(e)}function qm(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return dm("JWT malformed, contained fewer than 3 sections"),null;try{const e=St(n);return e?JSON.parse(e):(dm("Failed to decode base64 JWT payload"),null)}catch(EC){return dm("Caught error parsing JWT payload as JSON",EC?.toString()),null}}function Hm(e){const t=qm(e);return ym(t,"internal-error"),ym("undefined"!==typeof t.exp,"internal-error"),ym("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Wm(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(EC){throw EC instanceof Vt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(EC)&&e.auth.currentUser===e&&await e.auth.signOut(),EC}}class Gm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(EC){return void("auth/network-request-failed"===EC?.code&&this.schedule(!0))}this.schedule()}}class Km{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vm(this.lastLoginAt),this.creationTime=Vm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qm(e){const t=e.auth,n=await e.getIdToken(),r=await Wm(e,zm(t,{idToken:n}));ym(r?.users.length,t,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const i=o.providerUserInfo?.length?Ym(o.providerUserInfo):[],s=(a=e.providerData,l=i,[...a.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var a,l;const c=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!s?.length,d=!!c&&u,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,h)}function Ym(e){return e.map(e=>{let{providerId:t,...n}=e;return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Xm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ym(e.idToken,"internal-error"),ym("undefined"!==typeof e.idToken,"internal-error"),ym("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Hm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ym(0!==e.length,"internal-error");const t=Hm(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ym(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await jm(e,{},async()=>{const n=Gt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=await Dm(e,r,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&Tt(e.emulatorConfig.host)&&(a.credentials="include"),xm.fetch()(i,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new Xm;return n&&(ym("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(ym("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(ym("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xm,this.toJSON())}_performRefresh(){return bm("not implemented")}}function Jm(e,t){ym("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Zm{constructor(e){let{uid:t,auth:n,stsTokenManager:r,...o}=e;this.providerId="firebase",this.proactiveRefresh=new Gm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Wm(this,this.stsTokenManager.getToken(this.auth,e));return ym(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Zt(e),r=await n.getIdToken(t),o=qm(r);ym(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,s=i?.sign_in_provider;return{claims:o,token:r,authTime:Vm($m(o.auth_time)),issuedAtTime:Vm($m(o.iat)),expirationTime:Vm($m(o.exp)),signInProvider:s||null,signInSecondFactor:i?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=Zt(e);await Qm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ym(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zm({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ym(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Qm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(mm(this.auth));const e=await this.getIdToken();return await Wm(this,async function(e,t){return Am(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,i=t.photoURL??void 0,s=t.tenantId??void 0,a=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:d,isAnonymous:h,providerData:f,stsTokenManager:p}=t;ym(u&&p,e,"internal-error");const m=Xm.fromJSON(this.name,p);ym("string"===typeof u,e,"internal-error"),Jm(n,e.name),Jm(r,e.name),ym("boolean"===typeof d,e,"internal-error"),ym("boolean"===typeof h,e,"internal-error"),Jm(o,e.name),Jm(i,e.name),Jm(s,e.name),Jm(a,e.name),Jm(l,e.name),Jm(c,e.name);const g=new Zm({uid:u,auth:e,email:r,emailVerified:d,displayName:n,isAnonymous:h,photoURL:i,phoneNumber:o,tenantId:s,stsTokenManager:m,createdAt:l,lastLoginAt:c});return f&&Array.isArray(f)&&(g.providerData=f.map(e=>({...e}))),a&&(g._redirectEventId=a),g}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Xm;r.updateFromServerResponse(t);const o=new Zm({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Qm(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ym(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?Ym(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!o?.length,s=new Xm;s.updateFromIdToken(n);const a=new Zm({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Km(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(a,l),a}}const eg=new Map;function tg(e){wm(e instanceof Function,"Expected a class definition");let t=eg.get(e);return t?(wm(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,eg.set(e,t),t)}class ng{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ng.type="NONE";const rg=ng;function og(e,t,n){return`firebase:${e}:${t}:${n}`}class ig{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=og(this.userKey,r.apiKey,o),this.fullPersistenceKey=og("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await zm(this.auth,{idToken:e}).catch(()=>{});return t?Zm._fromGetAccountInfoResponse(this.auth,t,e):null}return Zm._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ig(tg(rg),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let o=r[0]||tg(rg);const i=og(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(i);if(t){let n;if("string"===typeof t){const r=await zm(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Zm._fromGetAccountInfoResponse(e,r,t)}else n=Zm._fromJSON(e,t);l!==o&&(s=n),o=l;break}}catch{}const a=r.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&a.length?(o=a[0],s&&await o._set(i,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==o)try{await e._remove(i)}catch{}})),new ig(o,e,n)):new ig(o,e,n)}}function sg(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ug(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ag(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hg(t))return"Blackberry";if(fg(t))return"Webos";if(lg(t))return"Safari";if((t.includes("chrome/")||cg(t))&&!t.includes("edge/"))return"Chrome";if(dg(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function ag(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/firefox\//i.test(e)}function lg(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/crios\//i.test(e)}function ug(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/iemobile/i.test(e)}function dg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/android/i.test(e)}function hg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/blackberry/i.test(e)}function fg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/webos/i.test(e)}function pg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mg(){return function(){const e=Ot();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function gg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return pg(e)||dg(e)||fg(e)||hg(e)||/windows phone/i.test(e)||ug(e)}function vg(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=sg(Ot());break;case"Worker":t=`${sg(Ot())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${vr}/${r}`}class yg{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(EC){r(EC)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(EC){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:EC?.message})}}}class bg{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class wg{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _g(this),this.idTokenSubscription=new _g(this),this.beforeStateQueue=new yg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tg(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ig.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(EC){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await zm(this,{idToken:e}),n=await Zm._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,o=n?._redirectEventId,i=await this.tryRedirectSignIn(e);t&&t!==o||!i?.user||(n=i.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(EC){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(EC))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ym(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(EC){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qm(e)}catch(EC){if("auth/network-request-failed"!==EC?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(mm(this));const t=e?Zt(e):null;return t&&ym(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ym(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(mm(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(mm(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tg(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Am(e,"GET","/v2/passwordPolicy",Tm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new bg(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $t("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Am(e,"POST","/v2/accounts:revokeToken",Tm(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&tg(e)||this._popupRedirectResolver;ym(t,this,"argument-error"),this.redirectPersistenceManager=await ig.create(this,[tg(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ym(s,this,"internal-error"),s.then(()=>{i||o(this.currentUser)}),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ym(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e){if(um.logLevel<=sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];um.warn(`Auth (${vr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function kg(e){return Zt(e)}class _g{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Yt(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return ym(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cg(e){return Sg.loadJS(e)}function Eg(e){return`__${e}${Math.floor(1e6*Math.random())}`}class xg{constructor(){this.enterprise=new Ig}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ig{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ng="NO_RECAPTCHA";class Pg{constructor(e){this.type="recaptcha-enterprise",this.auth=kg(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;Mm(o)?o.enterprise.ready(()=>{o.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ng)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new xg).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Um(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Fm(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(o=>{if(!t&&Mm(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Sg.recaptchaEnterpriseScript;0!==t.length&&(t+=o),Cg(t).then(()=>{n(o,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Tg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Pg(e);let s;if(o)s=Ng;else try{s=await i.verify(n)}catch(l){s=await i.verify(n,!0)}const a={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ag(e,t,n,r,o){if("EMAIL_PASSWORD_PROVIDER"===o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Tg(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch(async o=>{if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Tg(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)})}if("PHONE_PROVIDER"===o){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const o=await Tg(e,t,n);return r(e,o).catch(async o=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===o.code||"auth/invalid-app-credential"===o.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const o=await Tg(e,t,n,!1,!0);return r(e,o)}return Promise.reject(o)})}{const o=await Tg(e,t,n,!1,!0);return r(e,o)}}return Promise.reject(o+" provider is not supported.")}async function jg(e){const t=kg(e),n=await Um(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Fm(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Pg(t).verify()}}function Rg(e,t,n){const r=kg(e);ym(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!n?.disableWarnings,i=Dg(t),{host:s,port:a}=function(e){const t=Dg(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:Og(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Og(t)}}}(t),l=null===a?"":`:${a}`,c={url:`${i}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return ym(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void ym(Ht(c,r.config.emulator)&&Ht(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Tt(s)?(At(`${i}//${s}${l}`),Dt("Auth",!0)):o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Dg(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Og(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Lg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bm("not implemented")}_getIdTokenResponse(e){return bm("not implemented")}_linkToIdToken(e,t){return bm("not implemented")}_getReauthenticationResolver(e){return bm("not implemented")}}async function Bg(e,t){return Am(e,"POST","/v1/accounts:signUp",t)}async function Mg(e,t){return Rm(e,"POST","/v1/accounts:signInWithPassword",Tm(e,t))}async function Fg(e,t){return Am(e,"POST","/v1/accounts:sendOobCode",Tm(e,t))}async function Ug(e,t){return Fg(e,t)}class zg extends Lg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new zg(e,t,"password")}static _fromEmailAndCode(e,t){return new zg(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ag(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Mg,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Rm(e,"POST","/v1/accounts:signInWithEmailLink",Tm(e,t))}(e,{email:this._email,oobCode:this._password});default:hm(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ag(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bg,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Rm(e,"POST","/v1/accounts:signInWithEmailLink",Tm(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:hm(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Vg(e,t){return Rm(e,"POST","/v1/accounts:signInWithIdp",Tm(e,t))}class $g extends Lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $g(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hm("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...o}=t;if(!n||!r)return null;const i=new $g(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return Vg(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Vg(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vg(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gt(t)}return e}}async function qg(e,t){return Am(e,"POST","/v1/accounts:sendVerificationCode",Tm(e,t))}const Hg={USER_NOT_FOUND:"user-not-found"};class Wg extends Lg{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Wg({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Wg({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Rm(e,"POST","/v1/accounts:signInWithPhoneNumber",Tm(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Rm(e,"POST","/v1/accounts:signInWithPhoneNumber",Tm(e,t));if(n.temporaryProof)throw Bm(e,"account-exists-with-different-credential",n);return n}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return Rm(e,"POST","/v1/accounts:signInWithPhoneNumber",Tm(e,{...t,operation:"REAUTH"}),Hg)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new Wg({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class Gg{constructor(e){const t=Kt(Qt(e)),n=t.apiKey??null,r=t.oobCode??null,o=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);ym(n&&r&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=Kt(Qt(e)).link,n=t?Kt(Qt(t)).deep_link_id:null,r=Kt(Qt(e)).deep_link_id;return(r?Kt(Qt(r)).link:null)||r||n||t||e}(e);try{return new Gg(t)}catch{return null}}}class Kg{constructor(){this.providerId=Kg.PROVIDER_ID}static credential(e,t){return zg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Gg.parseLink(t);return ym(n,"argument-error"),zg._fromEmailAndCode(e,n.code,n.tenantId)}}Kg.PROVIDER_ID="password",Kg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Kg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yg extends Qg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xg extends Yg{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return ym("providerId"in t&&"signInMethod"in t,"argument-error"),$g._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ym(e.idToken||e.accessToken,"argument-error"),$g._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Xg.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Xg.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:o,pendingToken:i,nonce:s,providerId:a}=t;if(!r&&!o&&!n&&!i)return null;if(!a)return null;try{return new Xg(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:i})}catch(EC){return null}}}class Jg extends Yg{constructor(){super("facebook.com")}static credential(e){return $g._fromParams({providerId:Jg.PROVIDER_ID,signInMethod:Jg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jg.credentialFromTaggedObject(e)}static credentialFromError(e){return Jg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Jg.credential(t.oauthAccessToken)}catch{return null}}}Jg.FACEBOOK_SIGN_IN_METHOD="facebook.com",Jg.PROVIDER_ID="facebook.com";class Zg extends Yg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $g._fromParams({providerId:Zg.PROVIDER_ID,signInMethod:Zg.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zg.credentialFromTaggedObject(e)}static credentialFromError(e){return Zg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Zg.credential(n,r)}catch{return null}}}Zg.GOOGLE_SIGN_IN_METHOD="google.com",Zg.PROVIDER_ID="google.com";class ev extends Yg{constructor(){super("github.com")}static credential(e){return $g._fromParams({providerId:ev.PROVIDER_ID,signInMethod:ev.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ev.credentialFromTaggedObject(e)}static credentialFromError(e){return ev.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ev.credential(t.oauthAccessToken)}catch{return null}}}ev.GITHUB_SIGN_IN_METHOD="github.com",ev.PROVIDER_ID="github.com";class tv extends Yg{constructor(){super("twitter.com")}static credential(e,t){return $g._fromParams({providerId:tv.PROVIDER_ID,signInMethod:tv.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tv.credentialFromTaggedObject(e)}static credentialFromError(e){return tv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return tv.credential(n,r)}catch{return null}}}async function nv(e,t){return Rm(e,"POST","/v1/accounts:signUp",Tm(e,t))}tv.TWITTER_SIGN_IN_METHOD="twitter.com",tv.PROVIDER_ID="twitter.com";class rv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await Zm._fromIdTokenResponse(e,n,r),i=ov(n);return new rv({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ov(n);return new rv({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ov(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class iv extends Vt{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,iv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new iv(e,t,n,r)}}function sv(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw iv._fromErrorAndOperation(e,n,t,r);throw n})}async function av(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Wm(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return rv._forOperation(e,"link",r)}async function lv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(pr(r.app))return Promise.reject(mm(r));const o="reauthenticate";try{const i=await Wm(e,sv(r,o,t,e),n);ym(i.idToken,r,"internal-error");const s=qm(i.idToken);ym(s,r,"internal-error");const{sub:a}=s;return ym(e.uid===a,r,"user-mismatch"),rv._forOperation(e,o,i)}catch(EC){throw"auth/user-not-found"===EC?.code&&hm(r,"user-mismatch"),EC}}async function cv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(pr(e.app))return Promise.reject(mm(e));const r="signIn",o=await sv(e,r,t),i=await rv._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function uv(e,t){return cv(kg(e),t)}function dv(e,t,n){ym(n.url?.length>0,e,"invalid-continue-uri"),ym("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),ym("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ym(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ym(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function hv(e){const t=kg(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function fv(e,t,n){if(pr(e.app))return Promise.reject(mm(e));const r=kg(e),o=Ag(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nv,"EMAIL_PASSWORD_PROVIDER"),i=await o.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&hv(e),t}),s=await rv._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function pv(e,t,n){return pr(e.app)?Promise.reject(mm(e)):uv(Zt(e),Kg.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&hv(e),t})}async function mv(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=Zt(e),i={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Wm(o,async function(e,t){return Am(e,"POST","/v1/accounts:update",t)}(o.auth,i));o.displayName=s.displayName||null,o.photoURL=s.photoUrl||null;const a=o.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=o.displayName,a.photoURL=o.photoURL),await o._updateTokensIfNecessary(s)}function gv(e){return Zt(e).signOut()}function vv(e,t){return Am(e,"POST","/v2/accounts/mfaEnrollment:start",Tm(e,t))}new WeakMap;const yv="__sak";class bv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yv,"1"),this.storage.removeItem(yv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class wv extends bv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);mg()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wv.type="LOCAL";const kv=wv;function _v(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function Sv(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Cv{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Sv(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return _v(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Sv(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Sv(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=_v(n);const o=setInterval(()=>{const e=_v(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(o))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Cv.type="COOKIE";class Ev extends bv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ev.type="SESSION";const xv=Ev;class Iv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Iv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(!i?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map(async e=>e(t.origin,o)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Nv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Iv.receivers=[];class Pv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise((s,a)=>{const l=Nv("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(t.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Tv(){return window}function Av(){return"undefined"!==typeof Tv().WorkerGlobalScope&&"function"===typeof Tv().importScripts}const jv="firebaseLocalStorageDb",Rv="firebaseLocalStorage",Dv="fbase_key";class Ov{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lv(e,t){return e.transaction([Rv],t?"readwrite":"readonly").objectStore(Rv)}function Bv(){const e=indexedDB.open(jv,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Rv,{keyPath:Dv})}catch(EC){n(EC)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Rv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(jv);return new Ov(e).toPromise()}(),t(await Bv()))})})}async function Mv(e,t,n){const r=Lv(e,!0).put({[Dv]:t,value:n});return new Ov(r).toPromise()}function Fv(e,t){const n=Lv(e,!0).delete(t);return new Ov(n).toPromise()}class Uv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Bv()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(EC){if(t++>3)throw EC;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Av()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Iv._getInstance(Av()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Pv(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bv();return await Mv(e,yv,"1"),await Fv(e,yv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mv(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Lv(e,!1).get(t),r=await new Ov(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Fv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Lv(e,!1).getAll();return new Ov(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Uv.type="LOCAL";const zv=Uv;function Vv(e,t){return Am(e,"POST","/v2/accounts/mfaSignIn:start",Tm(e,t))}Eg("rcb"),new Cm(3e4,6e4);const $v="recaptcha";async function qv(e,t,n){if(!e._getRecaptchaConfig())try{await jg(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){ym("enroll"===t.type,e,"internal-error");const o={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Ag(e,o,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ng){ym(n?.type===$v,e,"argument-error");return vv(e,await Hv(e,t,n))}return vv(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{ym("signin"===t.type,e,"internal-error");const o=r.multiFactorHint?.uid||r.multiFactorUid;ym(o,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Ag(e,i,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ng){ym(n?.type===$v,e,"argument-error");return Vv(e,await Hv(e,t,n))}return Vv(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},o=Ag(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ng){ym(n?.type===$v,e,"argument-error");return qg(e,await Hv(e,t,n))}return qg(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function Hv(e,t,n){ym(n.type===$v,e,"argument-error");const r=await n.verify();ym("string"===typeof r,e,"argument-error");const o={...t};if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,n=o.phoneEnrollmentInfo.clientType,i=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,n=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),o}return Object.assign(o,{recaptchaToken:r}),o}class Wv{constructor(e){this.providerId=Wv.PROVIDER_ID,this.auth=kg(e)}verifyPhoneNumber(e,t){return qv(this.auth,e,Zt(t))}static credential(e,t){return Wg._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wv.credentialFromTaggedObject(t)}static credentialFromError(e){return Wv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Wg._fromTokenResponse(n,r):null}}function Gv(e,t){return t?tg(t):(ym(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Wv.PROVIDER_ID="phone",Wv.PHONE_SIGN_IN_METHOD="phone";class Kv extends Lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vg(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vg(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vg(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Qv(e){return cv(e.auth,new Kv(e),e.bypassAuthState)}function Yv(e){const{auth:t,user:n}=e;return ym(n,t,"internal-error"),lv(n,new Kv(e),e.bypassAuthState)}async function Xv(e){const{auth:t,user:n}=e;return ym(n,t,"internal-error"),av(n,new Kv(e),e.bypassAuthState)}class Jv{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(EC){this.reject(EC)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:s}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(EC){this.reject(EC)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qv;case"linkViaPopup":case"linkViaRedirect":return Xv;case"reauthViaPopup":case"reauthViaRedirect":return Yv;default:hm(this.auth,"internal-error")}}resolve(e){wm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zv=new Cm(2e3,1e4);async function ey(e,t,n){if(pr(e.app))return Promise.reject(fm(e,"operation-not-supported-in-this-environment"));const r=kg(e);gm(e,t,Qg);const o=Gv(r,n);return new ty(r,"signInViaPopup",t,o).executeNotNull()}class ty extends Jv{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,ty.currentPopupAction&&ty.currentPopupAction.cancel(),ty.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ym(e,this.auth,"internal-error"),e}async onExecution(){wm(1===this.filter.length,"Popup operations only handle one event");const e=Nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(fm(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fm(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ty.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fm(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Zv.get())};e()}}ty.currentPopupAction=null;const ny=new Map;class ry extends Jv{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ny.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=sy(t),r=iy(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(EC){e=()=>Promise.reject(EC)}ny.set(this.auth._key(),e)}return this.bypassAuthState||ny.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function oy(e,t){ny.set(e._key(),t)}function iy(e){return tg(e._redirectPersistence)}function sy(e){return og("pendingRedirect",e.config.apiKey,e.name)}async function ay(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(pr(e.app))return Promise.reject(mm(e));const r=kg(e),o=Gv(r,t),i=new ry(r,o,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class ly{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uy(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!uy(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(fm(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cy(e))}saveEventToCache(e){this.cachedEventUids.add(cy(e)),this.lastProcessedEventTime=Date.now()}}function cy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function uy(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===n?.code}const dy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hy=/^https?/;async function fy(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Am(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(py(n))return}catch{}hm(e,"unauthorized-domain")}function py(e){const t=km(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!hy.test(n))return!1;if(dy.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const my=new Cm(3e4,6e4);function gy(){const e=Tv().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function vy(e){return new Promise((t,n)=>{function r(){gy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gy(),n(fm(e,"network-request-failed"))},timeout:my.get()})}if(Tv().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!Tv().gapi?.load){const t=Eg("iframefcb");return Tv()[t]=()=>{gapi.load?r():n(fm(e,"network-request-failed"))},Cg(`${Sg.gapiScript}?onload=${t}`).catch(e=>n(e))}r()}}).catch(e=>{throw yy=null,e})}let yy=null;const by=new Cm(5e3,15e3),wy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ky=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _y(e){const t=e.config;ym(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Em(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:vr},o=ky.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Gt(r).slice(1)}`}async function Sy(e){const t=await function(e){return yy=yy||vy(e),yy}(e),n=Tv().gapi;return ym(n,e,"internal-error"),t.open({where:document.body,url:_y(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wy,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=fm(e,"network-request-failed"),i=Tv().setTimeout(()=>{r(o)},by.get());function s(){Tv().clearTimeout(i),n(t)}t.ping(s).then(s,()=>{r(o)})}))}const Cy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ey{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(EC){}}}function xy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Cy,width:r.toString(),height:o.toString(),top:i,left:s},c=Ot().toLowerCase();n&&(a=cg(c)?"_blank":n),ag(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){return pg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot())&&!!window.navigator?.standalone}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Ey(null);const d=window.open(t||"",a,u);ym(d,e,"popup-blocked");try{d.focus()}catch(EC){}return new Ey(d)}const Iy="__/auth/handler",Ny="emulator/auth/handler",Py=encodeURIComponent("fac");async function Ty(e,t,n,r,o,i){ym(e.config.authDomain,e,"auth-domain-config-required"),ym(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vr,eventId:o};if(t instanceof Qg){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof Yg){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${Py}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Iy}`;return Em(t,Ny)}(e)}?${Gt(a).slice(1)}${c}`}const Ay="webStorageSupport";const jy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xv,this._completeRedirectFn=ay,this._overrideRedirectResult=oy}async _openPopup(e,t,n,r){wm(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return xy(e,await Ty(e,t,n,km(),r),Nv())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Tv().location.href=e}(await Ty(e,t,n,km(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(wm(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Sy(e),n=new ly(e);return t.register("authEvent",t=>{ym(t?.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ay,{type:Ay},n=>{const r=n?.[0]?.[Ay];void 0!==r&&t(!!r),hm(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fy(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gg()||lg()||pg()}};var Ry="@firebase/auth",Dy="1.11.0";class Oy{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ym(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ly=Nt("authIdTokenMaxAge")||300;let By=null;var My;Sg={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=fm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},My="Browser",hr(new en("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ym(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:My,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vg(My)},c=new wg(r,o,i,l);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(tg);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),hr(new en("auth-internal",e=>(e=>new Oy(e))(kg(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),wr(Ry,Dy,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(My)),wr(Ry,Dy,"esm2020");const Fy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Uy="google.c.a.c_id",zy=1e4;var Vy,$y;function qy(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hy(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Vy||(Vy={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}($y||($y={}));const Wy="fcm_token_details_db",Gy="fcm_token_object_Store";const Ky="firebase-messaging-store";let Qy=null;function Yy(){return Qy||(Qy=Cn("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ky)}})),Qy}async function Xy(e){const t=Zy(e),n=await Yy(),r=await n.transaction(Ky).objectStore(Ky).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(Wy))return null}let t=null;return(await Cn(Wy,5,{upgrade:async(n,r,o,i)=>{if(r<2)return;if(!n.objectStoreNames.contains(Gy))return;const s=i.objectStore(Gy),a=await s.index("fcmSenderId").get(e);if(await s.clear(),a)if(2===r){const e=a;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:e.createTime??Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:qy(e.vapidKey)}}}else if(3===r){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:qy(e.auth),p256dh:qy(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:qy(e.vapidKey)}}}else if(4===r){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:qy(e.auth),p256dh:qy(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:qy(e.vapidKey)}}}}})).close(),await En(Wy),await En("fcm_vapid_details_db"),await En("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await Jy(e,t),t}}async function Jy(e,t){const n=Zy(e),r=(await Yy()).transaction(Ky,"readwrite");return await r.objectStore(Ky).put(t,n),await r.done,t}function Zy(e){let{appConfig:t}=e;return t.appId}const eb=new $t("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function tb(e,t){const n={method:"DELETE",headers:await rb(e)};try{const r=await fetch(`${nb(e.appConfig)}/${t}`,n),o=await r.json();if(o.error){const e=o.error.message;throw eb.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw eb.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}}function nb(e){let{projectId:t}=e;return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}async function rb(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function ob(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:o}=e;const i={web:{endpoint:r,auth:n,p256dh:t}};return o!==Fy&&(i.web.applicationPubKey=o),i}async function ib(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hy(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:qy(t.getKey("auth")),p256dh:qy(t.getKey("p256dh"))},r=await Xy(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,o=t.auth===e.auth,i=t.p256dh===e.p256dh;return n&&r&&o&&i}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await rb(e),r=ob(t.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{const n=await fetch(`${nb(e.appConfig)}/${t.token}`,o);i=await n.json()}catch(s){throw eb.create("token-update-failed",{errorInfo:s?.toString()})}if(i.error){const e=i.error.message;throw eb.create("token-update-failed",{errorInfo:e})}if(!i.token)throw eb.create("token-update-no-token");return i.token}(e.firebaseDependencies,t),r={...t,token:n,createTime:Date.now()};return await Jy(e.firebaseDependencies,r),n}catch(EC){throw EC}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await tb(e.firebaseDependencies,r.token)}catch(EC){console.warn(EC)}return sb(e.firebaseDependencies,n)}return sb(e.firebaseDependencies,n)}async function sb(e,t){const n=await async function(e,t){const n=await rb(e),r=ob(t),o={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{const t=await fetch(nb(e.appConfig),o);i=await t.json()}catch(s){throw eb.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(i.error){const e=i.error.message;throw eb.create("token-subscribe-failed",{errorInfo:e})}if(!i.token)throw eb.create("token-subscribe-no-token");return i.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await Jy(e,r),r.token}function ab(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const o=t.notification.image;o&&(e.notification.image=o);const i=t.notification.icon;i&&(e.notification.icon=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const n=t.fcmOptions?.link??t.notification?.click_action;n&&(e.fcmOptions.link=n);const r=t.fcmOptions?.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function lb(e){return eb.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cb{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw lb("App Configuration Object");if(!e.name)throw lb("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw lb(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function ub(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Service worker not registered after 10000 ms")),zy),o=e.installing||e.waiting;e.active?(clearTimeout(r),t()):o?o.onstatechange=e=>{"activated"===e.target?.state&&(o.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}(e.swRegistration)}catch(EC){throw eb.create("failed-service-worker-registration",{browserErrorMessage:EC?.message})}}async function db(e,t){if(!navigator)throw eb.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw eb.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Fy)}(e,t?.vapidKey),await async function(e,t){if(t||e.swRegistration||await ub(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw eb.create("invalid-sw-registration");e.swRegistration=t}}(e,t?.serviceWorkerRegistration),ib(e)}async function hb(e,t,n){const r=function(e){switch(e){case $y.NOTIFICATION_CLICKED:return"notification_open";case $y.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Uy],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function fb(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===$y.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(ab(n)):e.onMessageHandler.next(ab(n)));const r=n.data;(function(e){return"object"===typeof e&&!!e&&Uy in e})(r)&&"1"===r["google.c.a.e"]&&await hb(e,n.messageType,r)}const pb="@firebase/messaging",mb="0.12.23",gb=e=>{const t=new cb(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>fb(t,e)),t},vb=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>db(t,e)}};function yb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();return async function(){try{await Ut()}catch(EC){return!1}return"undefined"!==typeof window&&Ft()&&zt()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then(e=>{if(!e)throw eb.create("unsupported-browser")},e=>{throw eb.create("indexed-db-unsupported")}),fr(Zt(e),"messaging").getImmediate()}function bb(e,t){return function(e,t){if(!navigator)throw eb.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=Zt(e),t)}hr(new en("messaging",gb,"PUBLIC")),hr(new en("messaging-internal",vb,"PRIVATE")),wr(pb,mb),wr(pb,mb,"esm2020");const wb={apiKey:"AIzaSyB27nVr6lKWiTgj0lW0wQx5m1-lslhMipw",authDomain:"fans-food-stf.firebaseapp.com",projectId:"fans-food-stf",storageBucket:"fans-food-stf.firebasestorage.app",messagingSenderId:"267118373830",appId:"1:267118373830:web:dbec72cb78e58940fc60c7",measurementId:"G-0J0Q8GCTX4"},kb=yr(wb);let _b=null;(async()=>{try{const e="undefined"!==typeof window,t=!!e&&navigator.onLine,n=!!e&&await async function(){if(Bt())return!1;if(!zt())return!1;if(!Ft())return!1;try{return await Ut()}catch(e){return!1}}().catch(()=>!1),r=e&&("https:"===window.location.protocol||"localhost"===window.location.hostname);e&&t&&n&&r&&wb.measurementId?_b=om(kb):console.warn("Analytics not initialized (supported:",n,"online:",t,"https/local:",r,")")}catch(e){console.warn("Firebase Analytics not supported in this environment:",e)}})();const Sb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();const t=fr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=fr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ht(n.getOptions(),t??{}))return e;hm(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:jy,persistence:[zv,kv,xv]}),r=Nt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(o=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ly)return;const r=t?.token;By!==r&&(By=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Zt(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Zt(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var o;const i=xt("auth");return i&&Rg(n,`http://${i}`),n}(kb),Cb=function(e,t){const n="object"==typeof e?e:br(),r="string"==typeof e?e:t||rs,o=fr(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=(e=>{const t=xt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&wh(o,...e)}return o}(kb),Eb=new Zg;Eb.addScope("email"),Eb.addScope("profile");const xb=new Xg("apple.com");xb.addScope("email"),xb.addScope("name");let Ib=null,Nb=!1;const Pb=()=>{if(Nb)return Ib;try{const e="undefined"!==typeof window&&"serviceWorker"in navigator,t="undefined"!==typeof window&&"PushManager"in window,n="undefined"!==typeof window&&"Notification"in window,r="undefined"!==typeof window&&window.isSecureContext;e&&t&&n&&r?(Ib=yb(kb),console.log("Firebase Messaging initialized successfully")):(console.warn("Firebase Messaging not supported in this environment"),Ib=null)}catch(e){console.warn("Firebase Messaging initialization failed:",e.message||e),Ib=null}return Nb=!0,Ib},Tb=async()=>{try{if(!Pb())throw new Error("Firebase Messaging not supported");return"granted"===await Notification.requestPermission()?(console.log("Notification permission granted."),"granted"):(console.log("Notification permission denied."),null)}catch(e){return console.error("An error occurred while requesting permission:",e),null}};class Ab{constructor(e){var t;let{id:n="",docId:r=null,name:o="",nameMap:i={},description:s="",descriptionMap:a={},price:l=0,currency:c="ILS",costOfGoods:u=0,hasCOG:d=!1,category:h="",images:f=[],isAvailable:p=!0,preparationTime:m=15,shopIds:g=[],shopId:v="",stadiumId:y="",customization:b={options:[]},allergens:w=[],nutritionalInfo:k={},foodType:_={halal:!1,kosher:!1,vegan:!1},createdAt:S=new Date,updatedAt:C=new Date,isCombo:E=!1,comboItemIds:x=[],quantity:I=1}=e;this.id=n||r||"",this.docId=r||n||null,this.name=o,this.nameMap=i||{},this.description=s,this.descriptionMap=a||{},this.price=l,this.currency=c,this.costOfGoods=parseFloat(u)||0,this.hasCOG=d||!1,this.category=h,this.images=f,this.isAvailable=p,this.preparationTime=m;const N=Array.isArray(g)?g:[g].filter(Boolean);v&&!N.includes(v)&&N.push(v),this.shopIds=N,this.shopId=v||N[0]||"",this.stadiumId=y,this.customization={options:null!==(t=null===b||void 0===b?void 0:b.options)&&void 0!==t?t:[]},this.allergens=w,this.nutritionalInfo=k,this.foodType=_,this.createdAt=S,this.updatedAt=C,this.isCombo=E,this.comboItemIds=x||[],this.quantity=I}static fromMap(e,t){var n,r,o,i;return new Ab({id:e,docId:t.docId||e,name:t.name||(null===t||void 0===t||null===(n=t.nameMap)||void 0===n?void 0:n.en)||"",nameMap:t.nameMap||{},description:t.description||(null===t||void 0===t||null===(r=t.descriptionMap)||void 0===r?void 0:r.en)||"",descriptionMap:t.descriptionMap||{},price:null!==(o=t.price)&&void 0!==o?o:0,currency:t.currency||"USD",costOfGoods:null!==(i=t.costOfGoods)&&void 0!==i?i:0,hasCOG:t.hasCOG||!1,category:t.category||"",images:t.images||[],isAvailable:void 0===t.isAvailable||t.isAvailable,preparationTime:t.preparationTime||15,shopIds:t.shopIds||(t.shopId?[t.shopId]:[]),shopId:t.shopId||"",stadiumId:t.stadiumId||"",customization:t.customization||{options:[]},allergens:t.allergens||[],nutritionalInfo:t.nutritionalInfo||{},foodType:t.foodType||{halal:!1,kosher:!1,vegan:!1},createdAt:Ab.parseFirestoreDate(t.createdAt),updatedAt:Ab.parseFirestoreDate(t.updatedAt),isCombo:t.isCombo||!1,comboItemIds:t.comboItemIds||[],quantity:t.quantity||1})}static fromFirestore(e){var t,n,r,o;return new Ab({id:e.id||e.docId||"",docId:e.docId||e.id||null,name:e.name||(null===e||void 0===e||null===(t=e.nameMap)||void 0===t?void 0:t.en)||"",nameMap:e.nameMap||{},description:e.description||(null===e||void 0===e||null===(n=e.descriptionMap)||void 0===n?void 0:n.en)||"",descriptionMap:e.descriptionMap||{},price:null!==(r=e.price)&&void 0!==r?r:0,currency:e.currency||"USD",costOfGoods:null!==(o=e.costOfGoods)&&void 0!==o?o:0,hasCOG:e.hasCOG||!1,category:e.category||"",images:e.images||[],isAvailable:void 0===e.isAvailable||e.isAvailable,preparationTime:e.preparationTime||15,shopIds:e.shopIds||(e.shopId?[e.shopId]:[]),shopId:e.shopId||"",stadiumId:e.stadiumId||"",customization:e.customization||{options:[]},allergens:e.allergens||[],nutritionalInfo:e.nutritionalInfo||{},foodType:e.foodType||{halal:!1,kosher:!1,vegan:!1},createdAt:Ab.parseFirestoreDate(e.createdAt),updatedAt:Ab.parseFirestoreDate(e.updatedAt),isCombo:e.isCombo||!1,comboItemIds:e.comboItemIds||[]})}toMap(){return{id:this.id,docId:this.docId,name:this.name,nameMap:this.nameMap,description:this.description,descriptionMap:this.descriptionMap,price:this.price,currency:this.currency,costOfGoods:this.costOfGoods,hasCOG:this.hasCOG,category:this.category,images:this.images,isAvailable:this.isAvailable,preparationTime:this.preparationTime,shopIds:this.shopIds,shopId:this.shopId,stadiumId:this.stadiumId,customization:this.customization,allergens:this.allergens,nutritionalInfo:this.nutritionalInfo,foodType:this.foodType,createdAt:this.createdAt,updatedAt:this.updatedAt,isCombo:this.isCombo,comboItemIds:this.comboItemIds,quantity:this.quantity}}toFirestore(){return{name:this.name,nameMap:this.nameMap,description:this.description,descriptionMap:this.descriptionMap,price:this.price,costOfGoods:this.costOfGoods,hasCOG:this.hasCOG,category:this.category,images:this.images,isAvailable:this.isAvailable,preparationTime:this.preparationTime,shopIds:this.shopIds,stadiumId:this.stadiumId,customization:this.customization,allergens:this.allergens,nutritionalInfo:this.nutritionalInfo,foodType:this.foodType,currency:this.currency,docId:this.docId,isCombo:this.isCombo,comboItemIds:this.comboItemIds,createdAt:this.createdAt instanceof Date?Vo.fromDate(this.createdAt):this.createdAt,updatedAt:this.updatedAt instanceof Date?Vo.fromDate(this.updatedAt):this.updatedAt}}getFormattedPrice(){const e=(this.currency||"USD").toUpperCase();return`${"ILS"===e?"\u20aa":"EUR"===e?"\u20ac":"$"}${this.price.toFixed(2)}`}getPrimaryImage(){var e;if(this.images.length>0)return this.images[0];const t=["/assets/images/on-boarding-1.png","/assets/images/on-boarding-2.png","/assets/images/on-boarding-3.png"];return t[Math.abs((null===(e=this.id)||void 0===e?void 0:e.split("").reduce((e,t)=>(e=(e<<5)-e+t.charCodeAt(0))&e,0))||0)%t.length]}getComboImages(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.isCombo)return[this.getPrimaryImage()];var t,n,r,o,i,s,a,l;if(e&&e.length>=2)return[(null===(t=e[0])||void 0===t||null===(n=t.images)||void 0===n?void 0:n[0])||(null===(r=e[0])||void 0===r||null===(o=r.getPrimaryImage)||void 0===o?void 0:o.call(r))||this.getPrimaryImage(),(null===(i=e[1])||void 0===i||null===(s=i.images)||void 0===s?void 0:s[0])||(null===(a=e[1])||void 0===a||null===(l=a.getPrimaryImage)||void 0===l?void 0:l.call(a))||this.getPrimaryImage()];if(this.images&&this.images.length>=2)return this.images.slice(0,2);const c=this.getPrimaryImage();return[c,c]}getPreparationTimeText(){return`${this.preparationTime} min`}hasAllergens(){return this.allergens.length>0}getAllergensText(){return this.allergens.join(", ")}isFoodType(e){return this.foodType[e]||!1}getFoodTypeBadges(){const e=[];return this.foodType.halal&&e.push("Halal"),this.foodType.kosher&&e.push("Kosher"),this.foodType.vegan&&e.push("Vegan"),e}get available(){return this.isAvailable}updateQuantity(e){return new Ab({...this.toMap(),quantity:Math.max(0,e)})}getTotalPrice(){return this.price*this.quantity}getFormattedTotalPrice(){const e=(this.currency||"USD").toUpperCase();return`${"ILS"===e?"\u20aa":"EUR"===e?"\u20ac":"$"}${this.getTotalPrice().toFixed(2)}`}getGrossProfit(){return this.price-this.costOfGoods}getGrossMarginPercent(){return 0===this.price?0:(this.price-this.costOfGoods)/this.price*100}getFormattedGrossProfit(){const e=(this.currency||"USD").toUpperCase();return`${"ILS"===e?"\u20aa":"EUR"===e?"\u20ac":"$"}${this.getGrossProfit().toFixed(2)}`}static parseFirestoreDate(e){return e?"function"===typeof(null===e||void 0===e?void 0:e.toDate)?e.toDate():e instanceof Date?e:"string"===typeof e||"number"===typeof e?new Date(e):new Date:new Date}}const jb=Ab;const Rb=new class{constructor(){this.collectionName="menuItems"}async getMenuItemsByShop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{if(!e)return{success:!1,error:"Invalid shopId"};const n=ff(Ch(Cb,"menuItems"),mf("shopIds","array-contains",e),wf(t)),r=await Rf(n),o=[];return r.forEach(e=>{try{const t=jb.fromMap(e.id,e.data());t.isAvailable&&o.push(t)}catch(EC){console.error("Error mapping food",e.id,EC)}}),{success:!0,foods:o}}catch(n){return console.error("Error fetching shop menu:",n),{success:!1,error:"Failed to fetch shop menu"}}}async getStadiumMenu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{console.log("Fetching menu for stadium:",e);const n=ff(Ch(Cb,"menuItems"),mf("stadiumId","==",e),wf(t)),r=await Rf(n);console.log("Found menu items:",r.size);const o=[];return r.forEach(e=>{try{console.log("Processing document:",e.id);const t=e.data();console.log("Document data:",t);const n=jb.fromMap(e.id,t);n.isAvailable&&o.push(n)}catch(t){console.error("Error processing document",e.id,":",t)}}),o.sort((e,t)=>{var n,r,o,i;const s=(null===(n=e.createdAt)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))||e.createdAt||new Date(0);return((null===(o=t.createdAt)||void 0===o||null===(i=o.toDate)||void 0===i?void 0:i.call(o))||t.createdAt||new Date(0))-s}),console.log("Returning",o.length,"menu items"),{success:!0,foods:o}}catch(n){return console.error("Error fetching stadium menu:",n),{success:!1,error:"Failed to fetch menu items"}}}async getAllMenuItems(){try{const e=ff(Ch(Cb,"menuItems"),wf(50)),t=await Rf(e);console.log("Found all menu items:",t.size);const n=[];return t.forEach(e=>{try{const t=e.data(),r=jb.fromMap(e.id,t);r.isAvailable&&n.push(r)}catch(t){console.error("Error processing document",e.id,":",t)}}),{success:!0,foods:n}}catch(e){return console.error("Error fetching all menu items:",e),{success:!1,error:"Failed to fetch menu items"}}}async getMenuItemsByCategory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let n;if(n=t?await this.getStadiumMenu(t,50):await this.getAllMenuItems(),!n.success)return n;let r=n.foods;return"all"!==e&&(r=r.filter(t=>t.category===e||t.categoryMap&&t.categoryMap[e]||"string"===typeof t.category&&t.category.toLowerCase()===e.toLowerCase())),{success:!0,foods:r}}catch(n){return console.error("Error fetching menu items by category:",n),{success:!1,error:"Failed to fetch menu items"}}}async searchMenuItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let n;if(n=t?await this.getStadiumMenu(t,50):await this.getAllMenuItems(),!n.success)return n;let r=n.foods;const o=e.toLowerCase();return r=r.filter(e=>{const t=e.nameMap&&(e.nameMap.he||e.nameMap.en)||e.name||"",n=e.descriptionMap&&(e.descriptionMap.he||e.descriptionMap.en)||e.description||"";return t.toLowerCase().includes(o)||n.toLowerCase().includes(o)||e.category&&e.category.toLowerCase().includes(o)}),{success:!0,foods:r}}catch(n){return console.error("Error searching menu items:",n),{success:!1,error:"Failed to search menu items"}}}async getComboItems(e){try{if(!e||0===e.length)return{success:!0,foods:[]};console.log("\ud83d\udd0d Fetching combo items:",e);const n=[];for(const r of e)try{const e=Eh(Cb,"menuItems",r),t=await Af(e);if(t.exists()){const e=jb.fromMap(t.id,t.data());n.push(e)}else console.warn(`\u26a0\ufe0f Combo item not found: ${r}`)}catch(t){console.error(`\u274c Error fetching combo item ${r}:`,t)}return console.log(`\u2705 Fetched ${n.length} combo items`),{success:!0,foods:n}}catch(n){return console.error("\u274c Error fetching combo items:",n),{success:!1,error:"Failed to fetch combo items"}}}};var Db=n(579);const Ob=(0,e.createContext)(),Lb=()=>{const t=(0,e.useContext)(Ob);if(!t)throw new Error("useCombo must be used within a ComboProvider");return t},Bb=t=>{let{children:n}=t;const[r,o]=(0,e.useState)({}),[i,s]=(0,e.useState)({}),a={fetchComboItems:async(e,t)=>{if(!t||0===t.length)return[];const n=t.join(",");if(r[n])return r[n];if(i[n])return[];try{s(e=>({...e,[n]:!0}));const e=await Rb.getComboItems(t);if(e.success)return o(t=>({...t,[n]:e.foods})),e.foods}catch(a){console.error("Error fetching combo items:",a)}finally{s(e=>({...e,[n]:!1}))}return[]},getCachedComboItems:e=>{if(!e||0===e.length)return[];const t=e.join(",");return r[t]||[]},comboItemsCache:r,loadingCombos:i};return(0,Db.jsx)(Ob.Provider,{value:a,children:n})},Mb={bgColor:"#F5F5F5",primaryColor:"#3D70FF",primaryDarkColor:"#3161EA",primaryLightColor:"#5A84F8",white:"#FFFFFF",black:"#000000",textPrimary:"#333333",textSecondary:"#666666",textLight:"#999999",success:"#28A745",error:"#DC3545",warning:"#FFC107",info:"#17A2B8",gray100:"#F8F9FA",gray200:"#E9ECEF",gray300:"#DEE2E6",gray400:"#CED4DA",gray500:"#ADB5BD",gray600:"#6C757D",gray700:"#495057",gray800:"#343A40",gray900:"#212529"},Fb={primary:`linear-gradient(135deg, ${Mb.primaryColor} 0%, ${Mb.primaryDarkColor} 100%)`,primaryLight:`linear-gradient(135deg, ${Mb.primaryLightColor} 0%, ${Mb.primaryColor} 100%)`,background:`linear-gradient(135deg, ${Mb.primaryColor} 0%, ${Mb.primaryLightColor} 100%)`},{bgColor:Ub,primaryColor:zb,primaryDarkColor:Vb,primaryLightColor:$b,white:qb,black:Hb,textPrimary:Wb,textSecondary:Gb,textLight:Kb}=Mb,Qb=(0,e.createContext)(),Yb=t=>{let{children:n}=t;const[r,o]=(0,e.useState)({primary:Mb.primaryColor,secondary:Mb.primaryDarkColor,light:Mb.primaryLightColor,background:Mb.bgColor,appName:"Food Munch"});(0,e.useEffect)(()=>{const e=document.documentElement;e.style.setProperty("--theme-primary",r.primary),e.style.setProperty("--theme-secondary",r.secondary),e.style.setProperty("--theme-light",r.light),e.style.setProperty("--theme-background",r.background),e.style.setProperty("--theme-gradient",Fb.primary)},[r]);const i={currentTheme:r,Colors:Mb,Gradients:Fb};return(0,Db.jsx)(Qb.Provider,{value:i,children:n})},Xb=JSON.parse('{"home":{"select_stadium":"Venue Selection","greeting":"Good Morning,","greeting_morning":"Good Morning,","greeting_afternoon":"Good Afternoon,","greeting_evening":"Good Evening,","greeting_night":"Good Night,","search_placeholder":"Search for food items...","categories":"Categories","cat_all":"All","cat_pizza":"Pizza","cat_burgers":"Burgers","cat_drinks":"Drinks","cat_desserts":"Desserts","cat_coffee":"Coffee","cat_asian":"Asian","cat_bakery":"Bakery","popular_menu":"Popular Menu","see_all":"See All","search_results":"Search Results","no_results_for":"No results found for","no_menu":"No menu items available","shops":"Shops","error_fetch_shops":"Failed to fetch restaurants","retry":"Try Again","no_shops":"No shops available","more_suffix":"more","modal_select_venue_title":"Select Your Venue","modal_select_venue_desc":"Choose your venue to see available food options and enjoy faster delivery to your seat!","modal_select_venue_btn":"Select Venue","modal_browse_anyway":"Browse Anyway","closed":"Closed","shop_closed_msg":"This shop is currently closed. You can browse the menu, but ordering is disabled."},"common":{"edit":"Edit","not_now":"Not now","change_language":"Change Language","select_language":"Select Language","free":"Free"},"cart":{"add_to_cart":"Add to Cart","empty":"Cart is empty","subtotal":"Subtotal","delivery":"Handling & Delivery","tip":"Tip","discount":"Discount","total":"Total","place_order":"Place Order","mixed_shops_error":"Items in your cart are from different shops. Please order from one shop at a time.","mixed_shops_detected":"Items from different shops detected","price":"Price"},"food":{"description":"Description","no_description":"No description available","off":"OFF","min":"min","orders":"orders","swipe_add_to_cart":"Swipe to add to Cart","not_found":"Food not found","try_again":"Try Again","combo_includes":"This combo includes:","individual_items_total":"Individual items total:","combo_price":"Combo price:","you_save":"You save:","options_for":"Options for","extras":"Extras","combo_customization":"Combo Customization","standard_prep":"Standard Preparation"},"tip":{"title":"Add Tip","supports_runner":"Your entire tip supports the runner.","order_total_is":"Order total is","illustration_alt":"Add a tip","tip_amount":"Tip Amount","custom_tip":"Custom Tip","custom_tip_label":"Custom tip","custom_tip_placeholder":"Enter custom percentage","add_tip":"Add Tip","skip":"Skip"},"order":{"confirm_title":"Confirm Order","ticket_image_title":"Ticket Image (Optional)","ticket_image_desc":"Upload your ticket image to auto-fill seat information","choose_from_gallery":"Choose From Gallery","front_camera":"Camera","or":"OR","ticket_alt":"Ticket","seat_info_title":"Seat Information","seat_number":"Seat Number","seat_number_ph":"Enter seat number","stand_number":"Stand Number","stand_number_ph":"Enter stand","row_number":"Row Number","row_number_ph":"Enter row number","entrance":"Entrance","entrance_ph":"Enter entrance number","area":"Area","area_ph":"Enter area","additional_details":"Additional Details","additional_details_ph":"Add text","summary_title":"Order Summary","subtotal":"Subtotal","tip":"Tip","total":"Total","place_order":"Place Order","phone_contact_title":"Delivery Contact Phone","phone_contact_hint":"This number will be used by the delivery person if they need help finding you.","phone_input_ph":"+972501234567","place_order_with_total":"Place Order - {total}","card_payment_title":"Card Payment","confirm_card_payment":"Confirm Card Payment","order_placed":"Order placed successfully!","order_id":"Order ID","payment_failed_generic":"Payment failed. Please try again.","processing_full":"Processing payment and placing order\u2026","row":"Row","seat":"Seat","stand":"Stand","select_stand":"Select Stand","stand_gallery":"Gallery","stand_main":"Main","upload_ticket_header":"Please complete the details so we can complete the order","upload_ticket_subheader":"Upload your tickets","section":"Section","select_section":"Select section","err_row_required":"Please enter row number","err_seat_required":"Seat number is required","err_section_required":"Section is required","err_entrance_required":"Entrance is required","err_stand_required":"Stand is required","complete_required_fields_prefix":"Please complete required fields:","wallet_payment_succeeded_order_failed_prefix":"Payment succeeded but order failed:","contact_support":"Please contact support.","additional_auth_required":"Additional authentication required","payment_status":"Payment status","unknown":"unknown","payment_error":"Payment error","unknown_error":"Unknown error","location_required":"Location Access Required","location_required_desc":"Please enable location access so we can track your seat location for delivery","enable_location":"Enable Location","err_phone_required":"Please enter a valid phone number (digits, with optional +).","err_floor_required":"Floor is required","err_room_required":"Room is required","err_pickup_point_required":"Please select a pickup point","err_outside_min_order":"Outside delivery requires a minimum order of $50.","err_delivery_closed":"Delivery is currently closed.","manual_location_entry":"Add specific room/section details","floor":"Floor","room":"Room","pickup_point":"Pickup Point","delivery_method":"Delivery Method","delivery":"Delivery","pickup":"Pickup","delivery_type":"Delivery Type","inside_delivery":"Inside Delivery","outside_delivery":"Outside Delivery","select_location":"Select Location","open":"Open","closed":"Closed","delivery_notes":"Delivery Notes","delivery_notes_placeholder":"Add any special instructions for delivery...","delivery_notes_hint":"Example: Gate 3, Section A, Row 5, Seat 12"},"auth":{"title_login":"Log in","title_register":"Create Account","first_name":"First Name","last_name":"Last Name","email":"Email","email_ph":"Enter your email","password":"Password","password_ph":"Enter your password","confirm_password":"Re-enter Password","confirm_password_ph":"Re-enter your password","forgot_password":"Forgot Password?","back_to_login":"Back to Login","sign_in":"Sign In","sign_in_required":"Sign in required","sign_in_required_message":"You need to sign in to place an order. Create an account or sign in to continue to checkout.","continue_as_guest":"Continue as Guest","or_continue_as_guest":"or if you don\'t want to sign up","create_account":"Create Account","already_have_account":"Already have an account?","dont_have_account":"Don\'t have an account?","toggle_have_account":"Already have an account? ","toggle_sign_in":"Sign In","please_wait":"Please wait...","fill_required":"Please fill in all required fields.","passwords_no_match":"Passwords do not match.","phone":"Phone","phone_ph":"Enter your phone number","phone_invalid":"Please enter a valid phone number","email_invalid":"Please enter a valid email address","reset_instructions":"Enter your email and we\'ll send you a password reset link.","send_reset_link":"Send Reset Link","reset_sent":"If an account exists for this email, a reset link has been sent. Please also check your Spam/Junk folder.","reset_failed":"Failed to send reset link. Please try again.","or_sign_in_email":"Or sign in with email","or_sign_up_email":"Or sign up with email"},"onboarding":{"skip":"Skip","get_started":"Get Started","step1":{"title":"Welcome to FanMunch","subtitle":"Order food directly to your seat","description":"Browse menus from stadium restaurants and have your order delivered right to your seat."},"step2":{"title":"Easy Payment","subtitle":"Pay securely from your phone","description":"Multiple payment options including credit cards and digital wallets for quick checkout."},"step3":{"title":"Real-time Tracking","subtitle":"Track your order every step of the way","description":"Get real-time updates on your order status and know exactly when it will arrive."}},"stadium":{"title":"Select Your Venue","subtitle":"Choose where you want to order food from","loading":"Loading venues...","retry":"Retry","capacity":"Capacity","select_button":"Select a Venue","continue_to":"Continue to"},"orders":{"my_orders":"My Orders","subtitle":"Track your food orders","active":"Active","completed":"Completed","loading":"Loading orders...","error_loading":"Error loading orders","try_again":"Try Again","no_orders":"No orders yet","empty_hint":"Your orders will appear here","order":"Order","items":"Items","track":"Track Order","pending":"Pending","preparing":"Preparing","delivering":"Delivering","delivered":"Delivered","cancelled":"Cancelled","track_for_qr":"Click \'Track Order\' to show QR code to delivery person","track_for_qr_pickup":"Click \'Track Order\' to see pickup instructions and QR code"},"track":{"order":"Order Tracking","loading":"Loading order...","no_code":"No QR code available","present_qr":"Present QR Code to receive your order","order_received":"Order Received","preparing":"Preparing","on_the_way":"On the Way","delivered":"Delivered","items":"Order Items","qty":"Qty","item":"Item","no_items":"No items in this order","delivery_contact":"Delivery Contact","loading_contact":"Loading contact info...","delivery_person":"Delivery Person","contact_unavailable":"Contact information unavailable","ready_to_pick_up":"Ready to Pick Up","picked_up":"Picked Up","pick_spot":"Pick Spot","order_status_update":"Order Status Updated","order_is_now":"Your order is now:"},"profile":{"language":"Language","language_sub":"Change app language","currency":"Currency","currency_sub":"Choose your currency","about":"About","about_sub":"About this app","terms":"Terms and Conditions","terms_sub":"Terms of service","feedback":"Feedback","feedback_sub":"Send us feedback","privacy":"Privacy Policy","privacy_sub":"Privacy policy","report":"Report a Problem","report_sub":"Report issues","guest":"Guest","guest_subtitle":"Sign in to see your profile","logout":"Sign Out","settings":"Settings","active":"Active Orders","completed":"Completed"},"settings":{"select_currency":"Select Currency","app_currency":"App Currency","currency_description":"Choose your preferred currency for displaying prices","current":"Current","currency_info":"Your selected currency will be used to display all prices in the app. Exchange rates are updated every 8 hours."}}'),Jb=JSON.parse('{"home":{"select_stadium":"\u05d1\u05d7\u05d9\u05e8\u05ea \u05de\u05e7\u05d5\u05dd","greeting":"\u05d1\u05d5\u05e7\u05e8 \u05d8\u05d5\u05d1,","greeting_morning":"\u05d1\u05d5\u05e7\u05e8 \u05d8\u05d5\u05d1,","greeting_afternoon":"\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd \u05d8\u05d5\u05d1\u05d9\u05dd,","greeting_evening":"\u05e2\u05e8\u05d1 \u05d8\u05d5\u05d1,","greeting_night":"\u05dc\u05d9\u05dc\u05d4 \u05d8\u05d5\u05d1,","search_placeholder":"\u05d7\u05e4\u05e9\u05d5 \u05e4\u05e8\u05d9\u05d8\u05d9 \u05de\u05d6\u05d5\u05df...","categories":"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d5\u05ea","cat_all":"\u05d4\u05db\u05d5\u05dc","cat_pizza":"\u05e4\u05d9\u05e6\u05d4","cat_burgers":"\u05d4\u05de\u05d1\u05d5\u05e8\u05d2\u05e8\u05d9\u05dd","cat_drinks":"\u05de\u05e9\u05e7\u05d0\u05d5\u05ea","cat_desserts":"\u05e7\u05d9\u05e0\u05d5\u05d7\u05d9\u05dd","cat_coffee":"\u05e7\u05e4\u05d4","cat_asian":"\u05d0\u05e1\u05d9\u05d9\u05ea\u05d9","cat_bakery":"\u05de\u05d0\u05e4\u05d9\u05d9\u05d4","popular_menu":"\u05ea\u05e4\u05e8\u05d9\u05d8 \u05e4\u05d5\u05e4\u05d5\u05dc\u05e8\u05d9","see_all":"\u05d4\u05e6\u05d2 \u05d4\u05db\u05dc","search_results":"\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05d7\u05d9\u05e4\u05d5\u05e9","no_results_for":"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8","no_menu":"\u05d0\u05d9\u05df \u05e4\u05e8\u05d9\u05d8\u05d9 \u05ea\u05e4\u05e8\u05d9\u05d8 \u05d6\u05de\u05d9\u05e0\u05d9\u05dd","shops":"\u05d7\u05e0\u05d5\u05d9\u05d5\u05ea","error_fetch_shops":"\u05d0\u05d9\u05e8\u05e2 \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05de\u05e1\u05e2\u05d3\u05d5\u05ea","retry":"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1","no_shops":"\u05d0\u05d9\u05df \u05d7\u05e0\u05d5\u05d9\u05d5\u05ea \u05d6\u05de\u05d9\u05e0\u05d5\u05ea","more_suffix":"\u05e2\u05d5\u05d3","modal_select_venue_title":"\u05d1\u05d7\u05e8 \u05d0\u05ea \u05d4\u05de\u05e7\u05d5\u05dd \u05e9\u05dc\u05da","modal_select_venue_desc":"\u05d1\u05d7\u05e8 \u05d0\u05ea \u05d4\u05de\u05e7\u05d5\u05dd \u05e9\u05dc\u05da \u05db\u05d3\u05d9 \u05dc\u05e8\u05d0\u05d5\u05ea \u05d0\u05e4\u05e9\u05e8\u05d5\u05d9\u05d5\u05ea \u05d0\u05d5\u05db\u05dc \u05d6\u05de\u05d9\u05e0\u05d5\u05ea \u05d5\u05dc\u05d9\u05d4\u05e0\u05d5\u05ea \u05de\u05de\u05e9\u05dc\u05d5\u05d7 \u05de\u05d4\u05d9\u05e8 \u05dc\u05de\u05d5\u05e9\u05d1 \u05e9\u05dc\u05da!","modal_select_venue_btn":"\u05d1\u05d7\u05e8 \u05de\u05e7\u05d5\u05dd","modal_browse_anyway":"\u05e2\u05d9\u05d9\u05df \u05d1\u05db\u05dc \u05d6\u05d0\u05ea","closed":"\u05e1\u05d2\u05d5\u05e8","shop_closed_msg":"\u05d7\u05e0\u05d5\u05ea \u05d6\u05d5 \u05e1\u05d2\u05d5\u05e8\u05d4 \u05db\u05e2\u05ea. \u05e0\u05d9\u05ea\u05df \u05dc\u05e2\u05d9\u05d9\u05df \u05d1\u05ea\u05e4\u05e8\u05d9\u05d8, \u05d0\u05da \u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05de\u05d5\u05e9\u05d1\u05ea\u05ea."},"common":{"edit":"\u05e2\u05e8\u05d9\u05db\u05d4","not_now":"\u05dc\u05d0 \u05e2\u05db\u05e9\u05d9\u05d5","change_language":"\u05e9\u05e0\u05d4 \u05e9\u05e4\u05d4","select_language":"\u05d1\u05d7\u05e8 \u05e9\u05e4\u05d4","free":"\u05d7\u05d9\u05e0\u05dd"},"cart":{"add_to_cart":"\u05d4\u05d5\u05e1\u05e3 \u05dc\u05e2\u05d2\u05dc\u05d4","empty":"\u05d4\u05e2\u05d2\u05dc\u05d4 \u05e8\u05d9\u05e7\u05d4","subtotal":"\u05e1\u05d4\\"\u05db \u05d1\u05d9\u05e0\u05d9\u05d9\u05dd","delivery":"\u05d8\u05d9\u05e4\u05d5\u05dc \u05d5\u05de\u05e9\u05dc\u05d5\u05d7","tip":"\u05d8\u05d9\u05e4","discount":"\u05d4\u05e0\u05d7\u05d4","total":"\u05e1\u05d4\\"\u05db","place_order":"\u05d1\u05e6\u05e2 \u05d4\u05d6\u05de\u05e0\u05d4","mixed_shops_error":"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d1\u05e2\u05d2\u05dc\u05d4 \u05e9\u05dc\u05da \u05de\u05d7\u05e0\u05d5\u05d9\u05d5\u05ea \u05e9\u05d5\u05e0\u05d5\u05ea. \u05d0\u05e0\u05d0 \u05d4\u05d6\u05de\u05df \u05de\u05d7\u05e0\u05d5\u05ea \u05d0\u05d7\u05ea \u05d1\u05db\u05dc \u05e4\u05e2\u05dd.","mixed_shops_detected":"\u05d6\u05d5\u05d4\u05d5 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05de\u05d7\u05e0\u05d5\u05d9\u05d5\u05ea \u05e9\u05d5\u05e0\u05d5\u05ea","price":"\u05de\u05d7\u05d9\u05e8"},"food":{"description":"\u05ea\u05d9\u05d0\u05d5\u05e8","no_description":"\u05d0\u05d9\u05df \u05ea\u05d0\u05d5\u05e8 \u05d6\u05de\u05d9\u05df","off":"\u05d4\u05e0\u05d7\u05d4","min":"\u05d3\u05e7\u05f3","orders":"\u05d4\u05d6\u05de\u05e0\u05d5\u05ea","swipe_add_to_cart":"\u05d4\u05d7\u05dc\u05e7 \u05dc\u05d4\u05d5\u05e1\u05e4\u05d4 \u05dc\u05e2\u05d2\u05dc\u05d4","add_to_cart_short":"\u05d4\u05d5\u05e1\u05e3 \u05dc\u05e1\u05dc","not_found":"\u05d4\u05de\u05e0\u05d4 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d4","try_again":"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1","combo_includes":"\u05d4\u05e7\u05d5\u05de\u05d1\u05d5 \u05db\u05d5\u05dc\u05dc:","individual_items_total":"\u05e1\u05d4\\"\u05db \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d1\u05d5\u05d3\u05d3\u05d9\u05dd:","combo_price":"\u05de\u05d7\u05d9\u05e8 \u05e7\u05d5\u05de\u05d1\u05d5:","you_save":"\u05d7\u05d9\u05e1\u05db\u05d5\u05df \u05e9\u05dc\u05da:","options_for":"\u05d0\u05e4\u05e9\u05e8\u05d5\u05d9\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8","extras":"\u05ea\u05d5\u05e1\u05e4\u05d5\u05ea","combo_customization":"\u05d4\u05ea\u05d0\u05de\u05ea \u05e7\u05d5\u05de\u05d1\u05d5","standard_prep":"\u05d4\u05db\u05e0\u05d4 \u05e8\u05d2\u05d9\u05dc\u05d4"},"tip":{"title":"\u05d4\u05d5\u05e1\u05e3 \u05d8\u05d9\u05e4","supports_runner":"\u05db\u05dc \u05d4\u05d8\u05d9\u05e4 \u05e9\u05dc\u05da \u05ea\u05d5\u05de\u05da \u05d1\u05e9\u05dc\u05d9\u05d7.","order_total_is":"\u05e1\u05db\u05d5\u05dd \u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05d4\u05d5\u05d0","illustration_alt":"\u05d4\u05d5\u05e1\u05e3 \u05d8\u05d9\u05e4","tip_amount":"\u05e1\u05db\u05d5\u05dd \u05d4\u05d8\u05d9\u05e4","custom_tip":"\u05d8\u05d9\u05e4 \u05de\u05d5\u05ea\u05d0\u05dd","custom_tip_label":"\u05d8\u05d9\u05e4 \u05de\u05d5\u05ea\u05d0\u05dd (%)","custom_tip_placeholder":"\u05d4\u05db\u05e0\u05e1 \u05d0\u05d7\u05d5\u05d6 \u05de\u05d5\u05ea\u05d0\u05dd","add_tip":"\u05d4\u05d5\u05e1\u05e3 \u05d8\u05d9\u05e4","skip":"\u05d3\u05dc\u05d2"},"order":{"confirm_title":"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05d4\u05d6\u05de\u05e0\u05d4","ticket_image_title":"\u05e6\u05d9\u05dc\u05d5\u05dd \u05db\u05e8\u05d8\u05d9\u05e1 \u05de\u05d5\u05e9\u05d1 (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05dc\u05d9)","ticket_image_desc":"\u05d4\u05e2\u05dc\u05d5 \u05ea\u05de\u05d5\u05e0\u05ea \u05db\u05e8\u05d8\u05d9\u05e1 \u05db\u05d3\u05d9 \u05dc\u05de\u05dc\u05d0 \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea \u05d0\u05ea \u05e4\u05e8\u05d8\u05d9 \u05d4\u05de\u05d5\u05e9\u05d1","choose_from_gallery":"\u05d1\u05d7\u05d9\u05e8\u05d4 \u05de\u05d4\u05d2\u05dc\u05e8\u05d9\u05d4","front_camera":"\u05de\u05e6\u05dc\u05de\u05d4","or":"\u05d0\u05d5","ticket_alt":"\u05db\u05e8\u05d8\u05d9\u05e1","seat_info_title":"\u05e4\u05e8\u05d8\u05d9 \u05de\u05d5\u05e9\u05d1","seat_number":"\u05de\u05e1\u05e4\u05e8 \u05de\u05d5\u05e9\u05d1","seat_number_ph":"\u05d4\u05db\u05e0\u05d9\u05e1\u05d5 \u05de\u05e1\u05e4\u05e8 \u05de\u05d5\u05e9\u05d1","stand_number":"\u05de\u05e1\u05e4\u05e8 \u05d9\u05e6\u05d9\u05e2","stand_number_ph":"\u05d4\u05db\u05e0\u05d9\u05e1\u05d5 \u05d9\u05e6\u05d9\u05e2","row_number":"\u05de\u05e1\u05e4\u05e8 \u05e9\u05d5\u05e8\u05d4","row_number_ph":"\u05d4\u05db\u05e0\u05d9\u05e1\u05d5 \u05de\u05e1\u05e4\u05e8 \u05e9\u05d5\u05e8\u05d4","entrance":"\u05e9\u05e2\u05e8","entrance_ph":"\u05d4\u05d6\u05df \u05de\u05e1\u05e4\u05e8 \u05db\u05e0\u05d9\u05e1\u05d4","area":"\u05d0\u05d6\u05d5\u05e8","area_ph":"\u05d4\u05db\u05e0\u05d9\u05e1\u05d5 \u05d0\u05d6\u05d5\u05e8","additional_details":"\u05e4\u05e8\u05d8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd","additional_details_ph":"\u05d4\u05d5\u05e1\u05d9\u05e4\u05d5 \u05d8\u05e7\u05e1\u05d8","summary_title":"\u05e1\u05d9\u05db\u05d5\u05dd \u05d4\u05d6\u05de\u05e0\u05d4","subtotal":"\u05e1\u05db\u05d5\u05dd \u05d1\u05d9\u05e0\u05d9\u05d9\u05dd","tip":"\u05d8\u05d9\u05e4","total":"\u05e1\u05d4\\"\u05db","place_order":"\u05d1\u05e6\u05e2 \u05d4\u05d6\u05de\u05e0\u05d4","phone_contact_title":"\u05d8\u05dc\u05e4\u05d5\u05df \u05d0\u05d9\u05e9 \u05e7\u05e9\u05e8 \u05dc\u05de\u05e9\u05dc\u05d5\u05d7","phone_contact_hint":"\u05de\u05e1\u05e4\u05e8 \u05d6\u05d4 \u05d9\u05e9\u05de\u05e9 \u05d0\u05ea \u05d0\u05d9\u05e9 \u05d4\u05de\u05e9\u05dc\u05d5\u05d7 \u05d0\u05dd \u05d9\u05d6\u05d3\u05e7\u05e7 \u05dc\u05e2\u05d6\u05e8\u05d4 \u05d1\u05de\u05e6\u05d9\u05d0\u05ea\u05da.","phone_input_ph":"+972501234567","processing":"\u05de\u05e2\u05d1\u05d3...","place_order_with_total":"\u05d1\u05e6\u05e2 \u05d4\u05d6\u05de\u05e0\u05d4 - {total}","card_payment_title":"\u05ea\u05e9\u05dc\u05d5\u05dd \u05d1\u05db\u05e8\u05d8\u05d9\u05e1","confirm_card_payment":"\u05d0\u05e9\u05e8 \u05ea\u05e9\u05dc\u05d5\u05dd \u05d1\u05db\u05e8\u05d8\u05d9\u05e1","order_placed":"\u05d4\u05d6\u05de\u05e0\u05d4 \u05d1\u05d5\u05e6\u05e2\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!","order_id":"\u05de\u05e1\u05e4\u05e8 \u05d4\u05d6\u05de\u05e0\u05d4","payment_failed_generic":"\u05d4\u05ea\u05e9\u05dc\u05d5\u05dd \u05e0\u05db\u05e9\u05dc. \u05e0\u05e1\u05d5 \u05e9\u05d5\u05d1.","processing_full":"\u05de\u05e2\u05d1\u05d3 \u05ea\u05e9\u05dc\u05d5\u05dd \u05d5\u05de\u05d1\u05e6\u05e2 \u05d4\u05d6\u05de\u05e0\u05d4\u2026","row":"\u05e9\u05d5\u05e8\u05d4","seat":"\u05de\u05d5\u05e9\u05d1","upload_ticket_header":"\u05d0\u05e0\u05d0 \u05d4\u05e9\u05dc\u05dd \u05d0\u05ea \u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05d4\u05de\u05d5\u05e9\u05d1 \u05e9\u05dc\u05da \u05db\u05d3\u05d9 \u05dc\u05d4\u05e9\u05dc\u05d9\u05dd \u05d0\u05ea \u05d4\u05d4\u05d6\u05de\u05e0\u05d4","upload_ticket_subheader":"\u05d4\u05e2\u05dc\u05d4 \u05d0\u05ea \u05d4\u05db\u05e8\u05d8\u05d9\u05e1\u05d9\u05dd \u05e9\u05dc\u05da","stand":"\u05d9\u05e6\u05d9\u05e2","select_stand":"\u05d1\u05d7\u05e8 \u05d9\u05e6\u05d9\u05e2","stand_gallery":"\u05d2\u05dc\u05e8\u05d9\u05d4","stand_main":"\u05e8\u05d0\u05e9\u05d9","section":"\u05e1\u05e7\u05d8\u05d5\u05e8","select_section":"\u05d1\u05d7\u05e8 \u05e1\u05e7\u05d8\u05d5\u05e8","err_row_required":"\u05e0\u05d0 \u05dc\u05d4\u05d6\u05d9\u05df \u05de\u05e1\u05e4\u05e8 \u05e9\u05d5\u05e8\u05d4","err_seat_required":"\u05e0\u05d3\u05e8\u05e9 \u05de\u05e1\u05e4\u05e8 \u05de\u05d5\u05e9\u05d1","err_section_required":"\u05e0\u05d3\u05e8\u05e9 \u05e1\u05e7\u05d8\u05d5\u05e8","err_entrance_required":"\u05e0\u05d3\u05e8\u05e9 \u05db\u05e0\u05d9\u05e1\u05d4","err_stand_required":"\u05e0\u05d3\u05e8\u05e9 \u05d9\u05e6\u05d9\u05e2","complete_required_fields_prefix":"\u05e0\u05d0 \u05dc\u05d4\u05e9\u05dc\u05d9\u05dd \u05d0\u05ea \u05d4\u05e9\u05d3\u05d5\u05ea \u05d4\u05d7\u05e1\u05e8\u05d9\u05dd:","location_required":"\u05e0\u05d3\u05e8\u05e9 \u05d2\u05d9\u05e9\u05d4 \u05dc\u05de\u05d9\u05e7\u05d5\u05dd","location_required_desc":"\u05d0\u05e0\u05d0 \u05d0\u05e4\u05e9\u05e8\u05d5 \u05d2\u05d9\u05e9\u05d4 \u05dc\u05de\u05d9\u05e7\u05d5\u05dd \u05db\u05d3\u05d9 \u05e9\u05e0\u05d5\u05db\u05dc \u05dc\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8 \u05de\u05d9\u05e7\u05d5\u05dd \u05d4\u05de\u05d5\u05e9\u05d1 \u05e9\u05dc\u05db\u05dd \u05dc\u05de\u05e9\u05dc\u05d5\u05d7","enable_location":"\u05d0\u05e4\u05e9\u05e8 \u05de\u05d9\u05e7\u05d5\u05dd","err_phone_required":"\u05e0\u05d0 \u05dc\u05d4\u05d6\u05d9\u05df \u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05ea\u05e7\u05d9\u05df (\u05e1\u05e4\u05e8\u05d5\u05ea, \u05e2\u05dd + \u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05dc\u05d9).","err_floor_required":"\u05e7\u05d5\u05de\u05d4 \u05d4\u05d9\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4","err_room_required":"\u05d7\u05d3\u05e8 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4","err_pickup_point_required":"\u05e0\u05d0 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05e0\u05e7\u05d5\u05d3\u05ea \u05d0\u05d9\u05e1\u05d5\u05e3","err_outside_min_order":"\u05de\u05e9\u05dc\u05d5\u05d7 \u05d7\u05d9\u05e6\u05d5\u05e0\u05d9 \u05d3\u05d5\u05e8\u05e9 \u05d4\u05d6\u05de\u05e0\u05d4 \u05de\u05d9\u05e0\u05d9\u05de\u05dc\u05d9\u05ea \u05e9\u05dc 50$.","err_delivery_closed":"\u05e9\u05d9\u05d8\u05ea \u05d4\u05de\u05e9\u05dc\u05d5\u05d7 \u05e1\u05d2\u05d5\u05e8\u05d4 \u05db\u05e8\u05d2\u05e2.","manual_location_entry":"\u05d4\u05d5\u05e1\u05e3 \u05e4\u05e8\u05d8\u05d9 \u05d7\u05d3\u05e8/\u05d9\u05e6\u05d9\u05e2 \u05e1\u05e4\u05e6\u05d9\u05e4\u05d9\u05d9\u05dd","floor":"\u05e7\u05d5\u05de\u05d4","room":"\u05d7\u05d3\u05e8","pickup_point":"\u05e0\u05e7\u05d5\u05d3\u05ea \u05d0\u05d9\u05e1\u05d5\u05e3","delivery_method":"\u05e9\u05d9\u05d8\u05ea \u05de\u05e9\u05dc\u05d5\u05d7","delivery":"\u05de\u05e9\u05dc\u05d5\u05d7","pickup":"\u05d0\u05d9\u05e1\u05d5\u05e3","delivery_type":"\u05e1\u05d5\u05d2 \u05de\u05e9\u05dc\u05d5\u05d7","inside_delivery":"\u05de\u05e9\u05dc\u05d5\u05d7 \u05e4\u05e0\u05d9\u05de\u05d9","outside_delivery":"\u05de\u05e9\u05dc\u05d5\u05d7 \u05d7\u05d9\u05e6\u05d5\u05e0\u05d9","open":"\u05e4\u05ea\u05d5\u05d7","closed":"\u05e1\u05d2\u05d5\u05e8","delivery_notes":"\u05d4\u05e2\u05e8\u05d5\u05ea \u05dc\u05de\u05e9\u05dc\u05d5\u05d7","delivery_notes_placeholder":"\u05d4\u05d5\u05e1\u05e3 \u05d4\u05d5\u05e8\u05d0\u05d5\u05ea \u05de\u05d9\u05d5\u05d7\u05d3\u05d5\u05ea \u05dc\u05de\u05e9\u05dc\u05d5\u05d7...","delivery_notes_hint":"\u05d3\u05d5\u05d2\u05de\u05d4: \u05e9\u05e2\u05e8 3, \u05de\u05d2\u05e8\u05e9 A, \u05e9\u05d5\u05e8\u05d4 5, \u05de\u05d5\u05e9\u05d1 12"},"auth":{"title_login":"\u05d4\u05ea\u05d7\u05d1\u05e8 \u05dc\u05d7\u05e9\u05d1\u05d5\u05df \u05e9\u05dc\u05da","title_register":"\u05e6\u05d5\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df","first_name":"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9","last_name":"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4","email":"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc","email_ph":"\u05d4\u05db\u05e0\u05e1 \u05d0\u05d9\u05de\u05d9\u05d9\u05dc","password":"\u05e1\u05d9\u05e1\u05de\u05d4","password_ph":"\u05d4\u05db\u05e0\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4","confirm_password":"\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d4","confirm_password_ph":"\u05d4\u05db\u05e0\u05e1 \u05e9\u05d5\u05d1 \u05d0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d4","forgot_password":"\u05e9\u05db\u05d7\u05ea \u05e1\u05d9\u05e1\u05de\u05d4?","sign_in":"\u05d4\u05ea\u05d7\u05d1\u05e8","sign_in_required":"\u05e0\u05d3\u05e8\u05e9\u05ea \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea","sign_in_required_message":"\u05e2\u05dc\u05d9\u05da \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05db\u05d3\u05d9 \u05dc\u05d1\u05e6\u05e2 \u05d4\u05d6\u05de\u05e0\u05d4. \u05e6\u05d5\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df \u05d0\u05d5 \u05d4\u05ea\u05d7\u05d1\u05e8 \u05db\u05d3\u05d9 \u05dc\u05d4\u05de\u05e9\u05d9\u05da \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd.","continue_as_guest":"\u05d4\u05de\u05e9\u05da \u05db\u05d0\u05d5\u05e8\u05d7","or_continue_as_guest":"\u05d0\u05d5 \u05d0\u05dd \u05d0\u05d9\u05e0\u05da \u05e8\u05d5\u05e6\u05d4 \u05dc\u05d4\u05d9\u05e8\u05e9\u05dd","create_account":"\u05d4\u05d9\u05e8\u05e9\u05dd","toggle_no_account":"\u05d0\u05d9\u05df \u05dc\u05da \u05d7\u05e9\u05d1\u05d5\u05df? ","toggle_register_now":"\u05d4\u05d9\u05e8\u05e9\u05dd \u05e2\u05db\u05e9\u05d9\u05d5","toggle_have_account":"\u05db\u05d1\u05e8 \u05d9\u05e9 \u05dc\u05da \u05d7\u05e9\u05d1\u05d5\u05df? ","toggle_sign_in":"\u05d4\u05ea\u05d7\u05d1\u05e8","please_wait":"\u05d0\u05e0\u05d0 \u05d4\u05de\u05ea\u05df...","fill_required":"\u05e0\u05d0 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05db\u05dc \u05d4\u05e9\u05d3\u05d5\u05ea \u05d4\u05e0\u05d3\u05e8\u05e9\u05d9\u05dd.","passwords_no_match":"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05d0\u05d9\u05e0\u05df \u05ea\u05d5\u05d0\u05de\u05d5\u05ea.","phone":"\u05d8\u05dc\u05e4\u05d5\u05df","phone_ph":"\u05d4\u05db\u05e0\u05e1 \u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df","phone_invalid":"\u05e0\u05d0 \u05dc\u05d4\u05d6\u05d9\u05df \u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05ea\u05e7\u05d9\u05df","email_invalid":"\u05d0\u05e0\u05d0 \u05d4\u05d6\u05df \u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05ea\u05e7\u05d9\u05e0\u05d4","reset_instructions":"\u05d4\u05d6\u05df \u05d0\u05ea \u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d5\u05e0\u05e9\u05dc\u05d7 \u05dc\u05da \u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e4\u05d5\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4.","send_reset_link":"\u05e9\u05dc\u05d7 \u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e4\u05d5\u05e1","reset_sent":"\u05d0\u05dd \u05e7\u05d9\u05d9\u05dd \u05d7\u05e9\u05d1\u05d5\u05df \u05e2\u05d1\u05d5\u05e8 \u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d6\u05d4, \u05e0\u05e9\u05dc\u05d7 \u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e4\u05d5\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4. \u05d0\u05e0\u05d0 \u05d1\u05d3\u05d5\u05e7 \u05d2\u05dd \u05d0\u05ea \u05ea\u05d9\u05e7\u05d9\u05d9\u05ea \u05d4\u05e1\u05e4\u05d0\u05dd/\u05d3\u05d5\u05d0\u05e8 \u05d6\u05d1\u05dc.","reset_failed":"\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05e7\u05d9\u05e9\u05d5\u05e8 \u05e0\u05db\u05e9\u05dc\u05d4. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1.","back_to_login":"\u05d7\u05d6\u05e8\u05d4 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea","or_sign_in_email":"\u05d0\u05d5 \u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dd \u05d0\u05d9\u05de\u05d9\u05d9\u05dc","or_sign_up_email":"\u05d0\u05d5 \u05d4\u05d9\u05e8\u05e9\u05dd \u05e2\u05dd \u05d0\u05d9\u05de\u05d9\u05d9\u05dc"},"onboarding":{"skip":"\u05d3\u05dc\u05d2","get_started":"\u05d4\u05ea\u05d7\u05dc","step1":{"title":"\u05d1\u05e8\u05d5\u05db\u05d9\u05dd \u05d4\u05d1\u05d0\u05d9\u05dd \u05dc-FanMunch","subtitle":"\u05d4\u05d6\u05de\u05df \u05d0\u05d5\u05db\u05dc \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea \u05dc\u05de\u05d5\u05e9\u05d1 \u05e9\u05dc\u05da","description":"\u05d2\u05dc\u05d4 \u05ea\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05de\u05de\u05e1\u05e2\u05d3\u05d5\u05ea \u05d4\u05d0\u05e6\u05d8\u05d3\u05d9\u05d5\u05df \u05d5\u05e7\u05d1\u05dc \u05d0\u05ea \u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05e9\u05dc\u05da \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea \u05dc\u05de\u05d5\u05e9\u05d1."},"step2":{"title":"\u05ea\u05e9\u05dc\u05d5\u05dd \u05e7\u05dc","subtitle":"\u05e9\u05dc\u05dd \u05d1\u05d1\u05d8\u05d7\u05d4 \u05de\u05d4\u05d8\u05dc\u05e4\u05d5\u05df \u05e9\u05dc\u05da","description":"\u05d0\u05e4\u05e9\u05e8\u05d5\u05d9\u05d5\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd \u05de\u05e8\u05d5\u05d1\u05d5\u05ea \u05db\u05d5\u05dc\u05dc \u05db\u05e8\u05d8\u05d9\u05e1\u05d9 \u05d0\u05e9\u05e8\u05d0\u05d9 \u05d5\u05d0\u05e8\u05e0\u05e7\u05d9\u05dd \u05d3\u05d9\u05d2\u05d9\u05d8\u05dc\u05d9\u05d9\u05dd \u05dc\u05e6\'\u05e7\u05d0\u05d0\u05d5\u05d8 \u05de\u05d4\u05d9\u05e8."},"step3":{"title":"\u05de\u05e2\u05e7\u05d1 \u05d1\u05d6\u05de\u05df \u05d0\u05de\u05ea","subtitle":"\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8 \u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05e9\u05dc\u05da \u05d1\u05db\u05dc \u05e9\u05dc\u05d1","description":"\u05e7\u05d1\u05dc \u05e2\u05d3\u05db\u05d5\u05e0\u05d9\u05dd \u05d1\u05d6\u05de\u05df \u05d0\u05de\u05ea \u05e2\u05dc \u05e1\u05d8\u05d8\u05d5\u05e1 \u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05d5\u05d3\u05e2 \u05d1\u05d3\u05d9\u05d5\u05e7 \u05de\u05ea\u05d9 \u05d4\u05d9\u05d0 \u05ea\u05d2\u05d9\u05e2."}},"stadium":{"title":"\u05d1\u05d7\u05e8 \u05d0\u05ea \u05d4\u05de\u05e7\u05d5\u05dd \u05e9\u05dc\u05da","subtitle":"\u05d1\u05d7\u05e8 \u05de\u05d0\u05d9\u05e4\u05d4 \u05d0\u05ea\u05d4 \u05e8\u05d5\u05e6\u05d4 \u05dc\u05d4\u05d6\u05de\u05d9\u05df \u05d0\u05d5\u05db\u05dc","loading":"\u05d8\u05d5\u05e2\u05df \u05de\u05e7\u05d5\u05de\u05d5\u05ea...","retry":"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1","capacity":"\u05e7\u05d9\u05d1\u05d5\u05dc\u05ea","select_button":"\u05d1\u05d7\u05e8 \u05de\u05e7\u05d5\u05dd","continue_to":"\u05d4\u05de\u05e9\u05da \u05d0\u05dc"},"orders":{"my_orders":"\u05d4\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e9\u05dc\u05d9","subtitle":"\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8 \u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05d4\u05d0\u05d5\u05db\u05dc \u05e9\u05dc\u05da","active":"\u05e4\u05e2\u05d9\u05dc","completed":"\u05d4\u05d5\u05e9\u05dc\u05dd","loading":"\u05d8\u05d5\u05e2\u05df \u05d4\u05d6\u05de\u05e0\u05d5\u05ea...","error_loading":"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05d6\u05de\u05e0\u05d5\u05ea","try_again":"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1","no_orders":"\u05d0\u05d9\u05df \u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e2\u05d3\u05d9\u05d9\u05df","empty_hint":"\u05d4\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e9\u05dc\u05da \u05d9\u05d5\u05e4\u05d9\u05e2\u05d5 \u05db\u05d0\u05df","order":"\u05d4\u05d6\u05de\u05e0\u05d4","items":"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd","track":"\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8 \u05d4\u05d6\u05de\u05e0\u05d4","pending":"\u05de\u05de\u05ea\u05d9\u05df","preparing":"\u05d1\u05d4\u05db\u05e0\u05d4","delivering":"\u05d1\u05d3\u05e8\u05da","delivered":"\u05e0\u05de\u05e1\u05e8","cancelled":"\u05d1\u05d5\u05d8\u05dc","track_for_qr":"\u05dc\u05d7\u05e5 \u05e2\u05dc \'\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8 \u05d4\u05d6\u05de\u05e0\u05d4\' \u05dc\u05d4\u05e6\u05d2\u05ea \u05e7\u05d5\u05d3 QR \u05dc\u05e9\u05dc\u05d9\u05d7","track_for_qr_pickup":"\u05dc\u05d7\u05e5 \u05e2\u05dc \'\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8 \u05d4\u05d6\u05de\u05e0\u05d4\' \u05dc\u05d4\u05d5\u05e8\u05d0\u05d5\u05ea \u05d0\u05d9\u05e1\u05d5\u05e3 \u05d5\u05e7\u05d5\u05d3 QR"},"track":{"order":"\u05de\u05e2\u05e7\u05d1 \u05d4\u05d6\u05de\u05e0\u05d4","loading":"\u05d8\u05d5\u05e2\u05df \u05d4\u05d6\u05de\u05e0\u05d4...","no_code":"\u05d0\u05d9\u05df \u05e7\u05d5\u05d3 QR \u05d6\u05de\u05d9\u05df","present_qr":"\u05d4\u05e6\u05d2 \u05e7\u05d5\u05d3 QR \u05dc\u05e7\u05d1\u05dc\u05ea \u05d4\u05d4\u05d6\u05de\u05e0\u05d4","order_received":"\u05d4\u05d6\u05de\u05e0\u05d4 \u05d4\u05ea\u05e7\u05d1\u05dc\u05d4","preparing":"\u05d1\u05d4\u05db\u05e0\u05d4","on_the_way":"\u05d1\u05d3\u05e8\u05da \u05d0\u05dc\u05d9\u05da","delivered":"\u05e0\u05de\u05e1\u05e8","items":"\u05e4\u05e8\u05d9\u05d8\u05d9 \u05d4\u05d4\u05d6\u05de\u05e0\u05d4","qty":"\u05db\u05de\u05d5\u05ea","item":"\u05e4\u05e8\u05d9\u05d8","no_items":"\u05d0\u05d9\u05df \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d1\u05d4\u05d6\u05de\u05e0\u05d4 \u05d6\u05d5","delivery_contact":"\u05e4\u05e8\u05d8\u05d9 \u05e9\u05dc\u05d9\u05d7","loading_contact":"\u05d8\u05d5\u05e2\u05df \u05e4\u05e8\u05d8\u05d9 \u05e7\u05e9\u05e8...","delivery_person":"\u05e9\u05dc\u05d9\u05d7","contact_unavailable":"\u05e4\u05e8\u05d8\u05d9 \u05e7\u05e9\u05e8 \u05dc\u05d0 \u05d6\u05de\u05d9\u05e0\u05d9\u05dd","ready_to_pick_up":"\u05de\u05d5\u05db\u05df \u05dc\u05d0\u05d9\u05e1\u05d5\u05e3","picked_up":"\u05e0\u05d0\u05e1\u05e3","pick_spot":"\u05e0\u05e7\u05d5\u05d3\u05ea \u05d0\u05d9\u05e1\u05d5\u05e3","order_status_update":"\u05e1\u05d8\u05d8\u05d5\u05e1 \u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05e2\u05d5\u05d3\u05db\u05df","order_is_now":"\u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05e9\u05dc\u05da \u05db\u05e8\u05d2\u05e2:"},"profile":{"language":"\u05e9\u05e4\u05d4","language_sub":"\u05e9\u05e0\u05d4 \u05e9\u05e4\u05d4","currency":"\u05de\u05d8\u05d1\u05e2","currency_sub":"\u05d1\u05d7\u05e8 \u05de\u05d8\u05d1\u05e2 \u05de\u05d5\u05e2\u05d3\u05e3","about":"\u05d0\u05d5\u05d3\u05d5\u05ea","about_sub":"\u05d0\u05d5\u05d3\u05d5\u05ea \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4","terms":"\u05ea\u05e0\u05d0\u05d9 \u05e9\u05d9\u05de\u05d5\u05e9","terms_sub":"\u05ea\u05e0\u05d0\u05d9 \u05d4\u05e9\u05d9\u05e8\u05d5\u05ea","feedback":"\u05de\u05e9\u05d5\u05d1","feedback_sub":"\u05e9\u05dc\u05d7 \u05dc\u05e0\u05d5 \u05de\u05e9\u05d5\u05d1","privacy":"\u05de\u05d3\u05d9\u05e0\u05d9\u05d5\u05ea \u05e4\u05e8\u05d8\u05d9\u05d5\u05ea","privacy_sub":"\u05de\u05d3\u05d9\u05e0\u05d9\u05d5\u05ea \u05d4\u05e4\u05e8\u05d8\u05d9\u05d5\u05ea","report":"\u05d3\u05d5\u05d5\u05d7 \u05e2\u05dc \u05d1\u05e2\u05d9\u05d4","report_sub":"\u05d3\u05d5\u05d5\u05d7 \u05e2\u05dc \u05ea\u05e7\u05dc\u05d5\u05ea","guest":"\u05d0\u05d5\u05e8\u05d7","guest_subtitle":"\u05d4\u05ea\u05d7\u05d1\u05e8 \u05db\u05d3\u05d9 \u05dc\u05e8\u05d0\u05d5\u05ea \u05d0\u05ea \u05d4\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc \u05e9\u05dc\u05da","logout":"\u05d4\u05ea\u05e0\u05ea\u05e7","settings":"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea","active":"\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea","completed":"\u05d4\u05d5\u05e9\u05dc\u05dd"},"settings":{"select_currency":"\u05d1\u05d7\u05e8 \u05de\u05d8\u05d1\u05e2","app_currency":"\u05de\u05d8\u05d1\u05e2 \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4","currency_description":"\u05d1\u05d7\u05e8 \u05d0\u05ea \u05d4\u05de\u05d8\u05d1\u05e2 \u05d4\u05de\u05d5\u05e2\u05d3\u05e3 \u05e9\u05dc\u05da \u05dc\u05d4\u05e6\u05d2\u05ea \u05de\u05d7\u05d9\u05e8\u05d9\u05dd","current":"\u05e0\u05d5\u05db\u05d7\u05d9","currency_info":"\u05d4\u05de\u05d8\u05d1\u05e2 \u05e9\u05d1\u05d7\u05e8\u05ea \u05d9\u05d4\u05d9\u05d4 \u05d1\u05e9\u05d9\u05de\u05d5\u05e9 \u05dc\u05d4\u05e6\u05d2\u05ea \u05db\u05dc \u05d4\u05de\u05d7\u05d9\u05e8\u05d9\u05dd \u05d1\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4. \u05e9\u05e2\u05e8\u05d9 \u05d4\u05d7\u05dc\u05d9\u05e4\u05d9\u05df \u05de\u05ea\u05e2\u05d3\u05db\u05e0\u05d9\u05dd \u05db\u05dc 8 \u05e9\u05e2\u05d5\u05ea."}}'),Zb={en:{common:{ok:"OK",cancel:"Cancel",back:"Back"},nav:{home:"Home",menu:"Menu",orders:"Orders",cart:"Cart",profile:"Profile"},profile:{logout:"Logout",active:"Active",completed:"Completed",settings:"Settings",language:"Language",language_sub:"Choose your language",about:"About app",about_sub:"Version and info",terms:"Terms and conditions",terms_sub:"Read our terms",feedback:"Feedback",feedback_sub:"Tell us what you think",privacy:"Privacy policy",privacy_sub:"How we handle data",report:"Report a Problem",report_sub:"Something not working?"},orders:{order:"Order",my_orders:"My Orders",subtitle:"Track your food orders",active:"Active",completed:"Completed",loading:"Loading your orders...",error_loading:"Error Loading Orders",try_again:"Try Again",no_orders:"No orders",empty_hint:"Your orders will appear here",items:"Items",track:"Track Order",delivered:"Delivered",cancelled:"Cancelled",pending:"Pending",preparing:"Preparing",delivering:"Delivering"},track:{show_qr:"Show QR Code",order:"Order",order_received:"Order Received",preparing:"Preparing",on_the_way:"On the way",delivered:"Delivered",loading:"Loading\u2026",no_code:"No code",items:"Items",item:"Item",qty:"Qty",no_items:"No items"},settings:{select_language:"Select Language",app_language:"App Language",current:"Current",english:"English",hebrew:"Hebrew",about_title:"About App",terms_title:"Terms and Conditions",privacy_title:"Privacy Policy",feedback_title:"Feedback",report_title:"Report a Problem",feedback_thanks:"Thanks for your feedback! We'll review it shortly.",report_thanks:"Thanks, we received your report. Our team will investigate.",share_thoughts:"Share your thoughts",email_optional:"Email (optional)",category:"Category",message:"Message",send:"Send",submit:"Submit",general:"General",feature:"Feature Request",design_ui:"Design / UI",performance:"Performance",what_wrong:"What went wrong?",rtl_note:"The interface direction will switch automatically for Hebrew (RTL)."}},he:{common:{ok:"\u05d0\u05d9\u05e9\u05d5\u05e8",cancel:"\u05d1\u05d9\u05d8\u05d5\u05dc",back:"\u05d7\u05d6\u05e8\u05d4"},nav:{home:"\u05d1\u05d9\u05ea",menu:"\u05ea\u05e4\u05e8\u05d9\u05d8",orders:"\u05d4\u05d6\u05de\u05e0\u05d5\u05ea",cart:"\u05e1\u05dc",profile:"\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc"},profile:{logout:"\u05d4\u05ea\u05e0\u05ea\u05e7\u05d5\u05ea",active:"\u05e4\u05e2\u05d9\u05dc",completed:"\u05d4\u05d5\u05e9\u05dc\u05de\u05d5",settings:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea",language:"\u05e9\u05e4\u05d4",language_sub:"\u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea \u05d4\u05e9\u05e4\u05d4",about:"\u05d0\u05d5\u05d3\u05d5\u05ea \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4",about_sub:"\u05d2\u05e8\u05e1\u05d4 \u05d5\u05de\u05d9\u05d3\u05e2",terms:"\u05ea\u05e0\u05d0\u05d9\u05dd \u05d5\u05d4\u05d2\u05d1\u05dc\u05d5\u05ea",terms_sub:"\u05e7\u05e8\u05d9\u05d0\u05ea \u05d4\u05ea\u05e0\u05d0\u05d9\u05dd \u05e9\u05dc\u05e0\u05d5",feedback:"\u05de\u05e9\u05d5\u05d1",feedback_sub:"\u05e1\u05e4\u05e8\u05d5 \u05dc\u05e0\u05d5 \u05de\u05d4 \u05d3\u05e2\u05ea\u05db\u05dd",privacy:"\u05de\u05d3\u05d9\u05e0\u05d9\u05d5\u05ea \u05e4\u05e8\u05d8\u05d9\u05d5\u05ea",privacy_sub:"\u05d0\u05d9\u05da \u05d0\u05e0\u05d7\u05e0\u05d5 \u05de\u05d8\u05e4\u05dc\u05d9\u05dd \u05d1\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd",report:"\u05d3\u05d9\u05d5\u05d5\u05d7 \u05e2\u05dc \u05d1\u05e2\u05d9\u05d4",report_sub:"\u05de\u05e9\u05d4\u05d5 \u05dc\u05d0 \u05e2\u05d5\u05d1\u05d3?"},orders:{order:"\u05d4\u05d6\u05de\u05e0\u05d4",my_orders:"\u05d4\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e9\u05dc\u05d9",subtitle:"\u05e2\u05e7\u05d1\u05d5 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05d4\u05d0\u05d5\u05db\u05dc \u05e9\u05dc\u05db\u05dd",active:"\u05e4\u05e2\u05d9\u05dc",completed:"\u05d4\u05d5\u05e9\u05dc\u05de\u05d5",loading:"\u05d8\u05d5\u05e2\u05df \u05d0\u05ea \u05d4\u05d4\u05d6\u05de\u05e0\u05d5\u05ea\u2026",error_loading:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05d6\u05de\u05e0\u05d5\u05ea",try_again:"\u05e0\u05e1\u05d5 \u05e9\u05d5\u05d1",no_orders:"\u05d0\u05d9\u05df \u05d4\u05d6\u05de\u05e0\u05d5\u05ea",empty_hint:"\u05d4\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e9\u05dc\u05db\u05dd \u05d9\u05d5\u05e4\u05d9\u05e2\u05d5 \u05db\u05d0\u05df",items:"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",track:"\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05d6\u05de\u05e0\u05d4",delivered:"\u05e0\u05de\u05e1\u05e8\u05d4",cancelled:"\u05d1\u05d5\u05d8\u05dc\u05d4",pending:"\u05de\u05de\u05ea\u05d9\u05e0\u05d4",preparing:"\u05d1\u05d4\u05db\u05e0\u05d4",delivering:"\u05d1\u05d3\u05e8\u05da"},track:{show_qr:"\u05d4\u05e6\u05d2 \u05e7\u05d5\u05d3 QR",order:"\u05d4\u05d6\u05de\u05e0\u05d4",order_received:"\u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05d4\u05ea\u05e7\u05d1\u05dc\u05d4",preparing:"\u05d1\u05d4\u05db\u05e0\u05d4",on_the_way:"\u05d1\u05d3\u05e8\u05da",delivered:"\u05e0\u05de\u05e1\u05e8\u05d4",loading:"\u05d8\u05d5\u05e2\u05df\u2026",no_code:"\u05d0\u05d9\u05df \u05e7\u05d5\u05d3",items:"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",item:"\u05e4\u05e8\u05d9\u05d8",qty:"\u05db\u05de\u05d5\u05ea",no_items:"\u05d0\u05d9\u05df \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"},settings:{select_language:"\u05d1\u05d7\u05e8\u05d5 \u05e9\u05e4\u05d4",app_language:"\u05e9\u05e4\u05ea \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4",current:"\u05e0\u05d5\u05db\u05d7\u05d9\u05ea",english:"\u05d0\u05e0\u05d2\u05dc\u05d9\u05ea",hebrew:"\u05e2\u05d1\u05e8\u05d9\u05ea",about_title:"\u05d0\u05d5\u05d3\u05d5\u05ea \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4",terms_title:"\u05ea\u05e0\u05d0\u05d9\u05dd \u05d5\u05d4\u05d2\u05d1\u05dc\u05d5\u05ea",privacy_title:"\u05de\u05d3\u05d9\u05e0\u05d9\u05d5\u05ea \u05e4\u05e8\u05d8\u05d9\u05d5\u05ea",feedback_title:"\u05de\u05e9\u05d5\u05d1",report_title:"\u05d3\u05d9\u05d5\u05d5\u05d7 \u05e2\u05dc \u05d1\u05e2\u05d9\u05d4",feedback_thanks:"\u05ea\u05d5\u05d3\u05d4 \u05e2\u05dc \u05d4\u05de\u05e9\u05d5\u05d1! \u05e0\u05e2\u05d1\u05d5\u05e8 \u05e2\u05dc\u05d9\u05d5 \u05d1\u05e7\u05e8\u05d5\u05d1.",report_thanks:"\u05ea\u05d5\u05d3\u05d4, \u05e7\u05d9\u05d1\u05dc\u05e0\u05d5 \u05d0\u05ea \u05d4\u05d3\u05d9\u05d5\u05d5\u05d7. \u05d4\u05e6\u05d5\u05d5\u05ea \u05d9\u05d1\u05d3\u05d5\u05e7 \u05d0\u05ea \u05d4\u05e2\u05e0\u05d9\u05d9\u05df.",share_thoughts:"\u05e9\u05ea\u05e4\u05d5 \u05d0\u05d5\u05ea\u05e0\u05d5",email_optional:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05dc\u05d9)",category:"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4",message:"\u05d4\u05d5\u05d3\u05e2\u05d4",send:"\u05e9\u05dc\u05d9\u05d7\u05d4",submit:"\u05e9\u05dc\u05d9\u05d7\u05d4",general:"\u05db\u05dc\u05dc\u05d9",feature:"\u05d1\u05e7\u05e9\u05ea \u05e4\u05d9\u05e6\u05f3\u05e8",design_ui:"\u05e2\u05d9\u05e6\u05d5\u05d1 / \u05de\u05de\u05e9\u05e7",performance:"\u05d1\u05d9\u05e6\u05d5\u05e2\u05d9\u05dd",what_wrong:"\u05de\u05d4 \u05dc\u05d0 \u05e2\u05d1\u05d3?",rtl_note:"\u05db\u05d9\u05d5\u05d5\u05df \u05d4\u05de\u05de\u05e9\u05e7 \u05d9\u05e2\u05d1\u05d5\u05e8 \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea \u05dc\u05d9\u05de\u05d9\u05df- \u05dc\u05e9\u05de\u05d0\u05dc \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea (RTL)."}}};function ew(e,t){if(!t)return e;const n=Array.isArray(e)?[...e]:{...e};return Object.keys(t).forEach(e=>{const r=t[e],o=n[e];r&&"object"===typeof r&&!Array.isArray(r)?n[e]=ew(o&&"object"===typeof o?o:{},r):n[e]=r}),n}const tw=(0,e.createContext)({lang:"en",t:e=>e,setLang:()=>{}}),nw=t=>{let{children:n}=t;const[r,o]=(0,e.useState)(yt.getLanguagePreference()||"en");(0,e.useEffect)(()=>{const e=e=>{e.detail&&o(e.detail)};return window.addEventListener("language-changed",e),()=>window.removeEventListener("language-changed",e)},[]),(0,e.useEffect)(()=>{const e="he"===r;document.documentElement.setAttribute("lang",r),document.documentElement.setAttribute("dir",e?"rtl":"ltr"),document.body.setAttribute("lang",r),document.body.style.direction=e?"rtl":"ltr"},[r]);const i=(0,e.useMemo)(()=>ew(Zb[r]||Zb.en,"he"===r?Jb:Xb),[r]),s=(0,e.useMemo)(()=>e=>{const t=e.split(".");let n=i;for(const o of t){var r;if(n=null===(r=n)||void 0===r?void 0:r[o],null==n)return e}return"string"===typeof n?n:e},[i]);return(0,Db.jsx)(tw.Provider,{value:{lang:r,t:s,setLang:o},children:n})},rw=()=>(0,e.useContext)(tw);var ow=n(987),iw=n.n(ow),sw=n(493);const aw=()=>{const[t,n]=(0,e.useState)(!1),r=te();return(0,e.useEffect)(()=>{const e=setTimeout(()=>{n(!0)},500),t=setTimeout(()=>{const e=localStorage.getItem("selectedStadium"),t=localStorage.getItem("userToken");r(t&&e?"/home":t?"/stadium":"/auth")},2500);return()=>{clearTimeout(e),clearTimeout(t)}},[r]),(0,Db.jsxs)("div",{className:"splash-screen",children:[(0,Db.jsx)("div",{className:"splash-background",children:(0,Db.jsx)("div",{className:"pattern-overlay"})}),(0,Db.jsx)("div",{className:"splash-logo "+(t?"visible":""),children:(0,Db.jsxs)("div",{className:"logo-container",children:[(0,Db.jsx)("div",{className:"logo-circle",children:(0,Db.jsx)("span",{className:"logo-emoji",children:"\ud83c\udf54"})}),(0,Db.jsx)("h1",{className:"logo-text",children:"Food Munch"}),(0,Db.jsx)("p",{className:"logo-tagline",children:"Delicious food delivered fresh"})]})}),(0,Db.jsx)("div",{className:"splash-loading",children:(0,Db.jsxs)("div",{className:"loading-dots",children:[(0,Db.jsx)("span",{}),(0,Db.jsx)("span",{}),(0,Db.jsx)("span",{})]})})]})};var lw=n(752);const cw=()=>{const[t,n]=(0,e.useState)(0),[r,o]=(0,e.useState)(!1),i=te(),{t:s,lang:a,setLang:l}=rw(),c=[{id:1,title:s("onboarding.step1.title"),subtitle:s("onboarding.step1.subtitle"),description:s("onboarding.step1.description"),image:"/assets/images/on-boarding-1.png",color:"#000000"}],u=e=>{l(e),yt.setLanguagePreference(e);const t="he"===e?"ILS":"USD";(0,lw.FV)(t),console.log(`\ud83c\udf10 [ONBOARDING] Language: ${e} \u2192 Default currency: ${t}`),o(!1)},d=c[t];return(0,Db.jsxs)("div",{className:"onboarding-screen",dir:"he"===a?"rtl":"ltr",children:[(0,Db.jsx)("div",{className:"onboarding-bg",style:{backgroundImage:`url(${d.image})`}}),(0,Db.jsx)("div",{className:"onboarding-overlay"}),(0,Db.jsxs)("div",{className:"onboarding-container",children:[(0,Db.jsx)("button",{className:"language-button",onClick:()=>o(!0),"aria-label":"Change language",title:s("common.change_language"),children:"en"===a?"\u05e2\u05d1\u05e8\u05d9\u05ea":"English"}),(0,Db.jsxs)("div",{className:"onboarding-content",children:[(0,Db.jsxs)("div",{className:"onboarding-text top",children:[(0,Db.jsx)("h1",{className:"onboarding-title",children:d.title}),(0,Db.jsx)("h2",{className:"onboarding-subtitle",children:d.subtitle})]}),(0,Db.jsx)("div",{className:"onboarding-text bottom",children:(0,Db.jsx)("p",{className:"onboarding-description",children:d.description})})]}),(0,Db.jsx)("div",{className:"onboarding-navigation",children:(0,Db.jsx)("div",{className:"navigation-buttons",children:(0,Db.jsx)("button",{className:"get-started-button",onClick:()=>{localStorage.setItem("hasSeenOnboarding","true");const e=window.location.search;i(`/stadium-selection${e}`)},children:s("onboarding.get_started")})})})]}),r&&(0,Db.jsx)("div",{className:"language-dialog-overlay",onClick:()=>o(!1),children:(0,Db.jsxs)("div",{className:"language-dialog",onClick:e=>e.stopPropagation(),children:[(0,Db.jsxs)("div",{className:"language-dialog-header",children:[(0,Db.jsx)("h3",{children:"Select Language"}),(0,Db.jsx)("button",{className:"close-dialog",onClick:()=>o(!1),"aria-label":"Close",children:"\xd7"})]}),(0,Db.jsxs)("div",{className:"language-dialog-content",children:[(0,Db.jsxs)("button",{className:"language-option "+("en"===a?"active":""),onClick:()=>u("en"),children:[(0,Db.jsx)("span",{className:"language-flag",children:"\ud83c\uddfa\ud83c\uddf8"}),(0,Db.jsx)("span",{className:"language-name",children:"English"}),"en"===a&&(0,Db.jsx)("span",{className:"language-check",children:"\u2713"})]}),(0,Db.jsxs)("button",{className:"language-option "+("he"===a?"active":""),onClick:()=>u("he"),children:[(0,Db.jsx)("span",{className:"language-flag",children:"\ud83c\uddee\ud83c\uddf1"}),(0,Db.jsx)("span",{className:"language-name",children:"Hebrew"}),"he"===a&&(0,Db.jsx)("span",{className:"language-check",children:"\u2713"})]})]})]})})]})};class uw{constructor(){let{id:e="",email:t="",phone:n="",firstName:r="",lastName:o="",image:i=null,photoURL:s="",fcmToken:a="",favoriteFoods:l=[],favoriteRestaurants:c=[],createdAt:u=new Date,updatedAt:d=new Date,isActive:h=!0,type:f="customer",authProvider:p="email"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=e,this.email=t,this.phone=n,this.firstName=r,this.lastName=o,this.image=i,this.photoURL=s,this.fcmToken=a,this.favoriteFoods=l,this.favoriteRestaurants=c,this.createdAt=u,this.updatedAt=d,this.isActive=h,this.type=f,this.authProvider=p}static fromMap(e,t){const n=e=>{if(e&&"function"===typeof e.toDate)return e.toDate();if(e instanceof Date)return e;if("number"===typeof e)return new Date(e<1e12?1e3*e:e);if("string"===typeof e){const t=new Date(e);if(!isNaN(t.getTime()))return t}return new Date};return new uw({id:e,email:t.email||"",phone:t.phone||"",firstName:t.firstName||"",lastName:t.lastName||"",image:t.image||null,photoURL:t.photoURL||"",fcmToken:t.fcmToken||"",favoriteFoods:t.favoriteFoods||[],favoriteRestaurants:t.favoriteRestaurants||[],createdAt:n(t.createdAt),updatedAt:n(t.updatedAt),isActive:void 0===t.isActive||t.isActive,type:t.type||"customer",authProvider:t.authProvider||"email"})}toMap(){return{id:this.id,email:this.email,phone:this.phone,firstName:this.firstName,lastName:this.lastName,image:this.image,photoURL:this.photoURL,fcmToken:this.fcmToken,favoriteFoods:this.favoriteFoods,favoriteRestaurants:this.favoriteRestaurants,createdAt:this.createdAt,updatedAt:new Date,isActive:this.isActive,type:this.type,authProvider:this.authProvider}}getFullName(){return`${this.firstName} ${this.lastName}`.trim()}getDisplayName(){return this.firstName||"User"}addToFavoriteFoods(e){this.favoriteFoods.includes(e)||(this.favoriteFoods.push(e),this.updatedAt=new Date)}removeFromFavoriteFoods(e){this.favoriteFoods=this.favoriteFoods.filter(t=>t!==e),this.updatedAt=new Date}addFavoriteRestaurant(e){return this.favoriteRestaurants.includes(e)?this:new uw({...this.toMap(),favoriteRestaurants:[...this.favoriteRestaurants,e]})}removeFavoriteRestaurant(e){return new uw({...this.toMap(),favoriteRestaurants:this.favoriteRestaurants.filter(t=>t!==e)})}updateProfile(e){return new uw({...this.toMap(),...e})}}const dw=new class{constructor(){this.collectionName="customers"}async registerUser(e){try{const{email:t,password:n,firstName:r,lastName:o,phone:i}=e,s=(()=>{if(!i)return"";const e=String(i).trim();return(e.startsWith("+")?"+":"")+e.replace(/\D/g,"")||e})(),a=(await fv(Sb,t,n)).user;await mv(a,{displayName:`${r} ${o}`});const l=new uw({id:a.uid,email:a.email,firstName:r,lastName:o,phone:s,fcmToken:"",favoriteFoods:[],favoriteRestaurants:[],createdAt:new Date,updatedAt:new Date,isActive:!0,type:"customer"}),c={...l.toMap(),createdAt:Uf(),updatedAt:Uf()};return await Df(Eh(Cb,this.collectionName,a.uid),c),{success:!0,user:l}}catch(t){return console.error("Error registering user:",t),"auth/email-already-in-use"===t.code?{success:!1,error:"This email is already registered. Please try signing in instead."}:"auth/weak-password"===t.code?{success:!1,error:"Password is too weak. Please choose a stronger password (at least 6 characters)."}:"auth/invalid-email"===t.code?{success:!1,error:"Please enter a valid email address."}:"auth/operation-not-allowed"===t.code?{success:!1,error:"Email/password accounts are not enabled. Please contact support."}:"auth/too-many-requests"===t.code?{success:!1,error:"Too many failed attempts. Please try again later."}:{success:!1,error:"Registration failed. Please try again."}}}async signInUser(e,t){try{const n=(await pv(Sb,e,t)).user,r=await Af(Eh(Cb,this.collectionName,n.uid));if(!r.exists())throw new Error("User data not found. Please contact support.");const o=uw.fromMap(n.uid,r.data());return await this.updateLastActive(o.id),o}catch(n){throw console.error("Error signing in user:",n),new Error(this.getErrorMessage(n.code))}}async signOutUser(){try{await gv(Sb)}catch(e){throw console.error("Error signing out:",e),new Error("Failed to sign out. Please try again.")}}async signInWithGoogle(){try{var e,t;console.log("\ud83d\udd11 Signing in with Google...");const n=(await ey(Sb,Eb)).user,r={email:n.email||"",firstName:(null===(e=n.displayName)||void 0===e?void 0:e.split(" ")[0])||"",lastName:(null===(t=n.displayName)||void 0===t?void 0:t.split(" ").slice(1).join(" "))||"",phone:n.phoneNumber||"",photoURL:n.photoURL||""},o=await this.getUserById(n.uid);if(o)return console.log("\u2705 Existing Google user found"),await this.updateLastActive(o.id),o;{console.log("\ud83d\udcdd Creating new user from Google profile");const e=new uw({id:n.uid,email:r.email,firstName:r.firstName,lastName:r.lastName,phone:r.phone,photoURL:r.photoURL,fcmToken:"",favoriteFoods:[],favoriteRestaurants:[],createdAt:Uf(),updatedAt:Uf(),isActive:!0,type:"customer",authProvider:"google"});return await Df(Eh(Cb,this.collectionName,n.uid),e.toMap()),console.log("\u2705 Google user created successfully"),e}}catch(n){throw console.error("Google sign-in error:",n),new Error(this.getAuthErrorMessage(n.code)||"Google sign-in failed")}}async signInWithApple(){try{var e,t;console.log("\ud83d\udd11 Signing in with Apple...");const n=(await ey(Sb,xb)).user,r={email:n.email||"",firstName:(null===(e=n.displayName)||void 0===e?void 0:e.split(" ")[0])||"",lastName:(null===(t=n.displayName)||void 0===t?void 0:t.split(" ").slice(1).join(" "))||"",phone:n.phoneNumber||"",photoURL:n.photoURL||""},o=await this.getUserById(n.uid);if(o)return console.log("\u2705 Existing Apple user found"),await this.updateLastActive(o.id),o;{console.log("\ud83d\udcdd Creating new user from Apple profile");const e=new uw({id:n.uid,email:r.email,firstName:r.firstName,lastName:r.lastName,phone:r.phone,photoURL:r.photoURL,fcmToken:"",favoriteFoods:[],favoriteRestaurants:[],createdAt:Uf(),updatedAt:Uf(),isActive:!0,type:"customer",authProvider:"apple"});return await Df(Eh(Cb,this.collectionName,n.uid),e.toMap()),console.log("\u2705 Apple user created successfully"),e}}catch(n){throw console.error("Apple sign-in error:",n),new Error(this.getAuthErrorMessage(n.code)||"Apple sign-in failed")}}async getUserById(e){try{const t=await Af(Eh(Cb,this.collectionName,e));return t.exists()?uw.fromMap(e,t.data()):null}catch(t){return console.error("Error getting user:",t),null}}async updateUserProfile(e,t){try{const n={...t,updatedAt:Uf()};await Of(Eh(Cb,this.collectionName,e),n)}catch(n){throw console.error("Error updating user profile:",n),new Error("Failed to update profile. Please try again.")}}async updateLastActive(e){try{await Of(Eh(Cb,this.collectionName,e),{updatedAt:Uf()})}catch(t){console.error("Error updating last active:",t)}}async addFavoriteFood(e,t){try{const n=await this.getUserById(e);n&&(n.addToFavoriteFoods(t),await Of(Eh(Cb,this.collectionName,e),{favoriteFoods:n.favoriteFoods,updatedAt:Uf()}))}catch(n){throw console.error("Error adding favorite food:",n),new Error("Failed to add to favorites. Please try again.")}}async removeFavoriteFood(e,t){try{const n=await this.getUserById(e);n&&(n.removeFromFavoriteFoods(t),await Of(Eh(Cb,this.collectionName,e),{favoriteFoods:n.favoriteFoods,updatedAt:Uf()}))}catch(n){throw console.error("Error removing favorite food:",n),new Error("Failed to remove from favorites. Please try again.")}}async addFavoriteRestaurant(e,t){try{const n=await this.getUserById(e);if(n){const r=n.addFavoriteRestaurant(t);await Of(Eh(Cb,this.collectionName,e),{favoriteRestaurants:r.favoriteRestaurants,updatedAt:Uf()})}}catch(n){console.error("Error adding favorite restaurant:",n)}}getAuthErrorMessage(e){return{"auth/email-already-in-use":"This email is already registered. Please sign in instead.","auth/invalid-email":"Please enter a valid email address.","auth/operation-not-allowed":"Email/password accounts are not enabled. Please contact support.","auth/weak-password":"Password should be at least 6 characters long.","auth/user-disabled":"This account has been disabled. Please contact support.","auth/user-not-found":"No account found with this email address.","auth/wrong-password":"Incorrect password. Please try again.","auth/invalid-credential":"Invalid email or password. Please check your credentials.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/network-request-failed":"Network error. Please check your connection and try again."}[e]||"An unexpected error occurred. Please try again."}getFallbackUser(){return new uw({id:"demo-user",email:"demo@foodmunch.com",firstName:"Demo",lastName:"User",phone:"+1 (555) 123-4567",fcmToken:"",favoriteFoods:[],favoriteRestaurants:[],createdAt:new Date,updatedAt:new Date,isActive:!0,type:"customer"})}};var hw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fw=e.createContext&&e.createContext(hw),pw=["attr","size","title"];function mw(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(this,arguments)}function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vw(Object(n),!0).forEach(function(t){bw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ww(t){return t&&t.map((t,n)=>e.createElement(t.tag,yw({key:n},t.attr),ww(t.child)))}function kw(t){return n=>e.createElement(_w,gw({attr:yw({},t.attr)},n),ww(t.child))}function _w(t){var n=n=>{var r,{attr:o,size:i,title:s}=t,a=mw(t,pw),l=i||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",gw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,a,{className:r,style:yw(yw({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&e.createElement("title",null,s),t.children)};return void 0!==fw?e.createElement(fw.Consumer,null,e=>n(e)):n(hw)}function Sw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(e)}function Cw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function Ew(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"},child:[]}]})(e)}function xw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},child:[]}]})(e)}function Iw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},child:[]}]})(e)}function Nw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(e)}function Pw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},child:[]}]})(e)}function Tw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(e)}function Aw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(e)}function jw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(e)}function Rw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function Dw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},child:[]}]})(e)}function Ow(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(e)}function Lw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(e)}function Bw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(e)}function Mw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(e)}function Fw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(e)}function Uw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"},child:[]}]})(e)}function zw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(e)}function Vw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function $w(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"},child:[]}]})(e)}function qw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"},child:[]}]})(e)}function Hw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(e)}function Ww(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},child:[]}]})(e)}function Gw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(e)}function Kw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2l-1.5 1.5zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11v14z"},child:[]},{tag:"path",attr:{d:"M9 7h6v2H9zM16 7h2v2h-2zM9 10h6v2H9zM16 10h2v2h-2z"},child:[]}]})(e)}function Qw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(e)}function Yw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m8.1 13.34 2.83-2.83L3.91 3.5a4.008 4.008 0 0 0 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"},child:[]}]})(e)}function Xw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(e)}function Jw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(e)}function Zw(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(e)}function ek(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(e)}function tk(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function nk(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(e)}function rk(e){return kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(e)}function ok(e){return kw({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"},child:[]},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"},child:[]}]})(e)}const ik=()=>{const{t:t,lang:n,setLang:r}=rw(),[o,i]=(0,e.useState)(!0),[s,a]=(0,e.useState)({firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:""}),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(!1),[h,f]=(0,e.useState)(!1),[p,m]=(0,e.useState)(""),g=te(),v=e=>{a({...s,[e.target.name]:e.target.value}),m("")};return(0,Db.jsxs)("div",{className:"auth-screen",dir:"he"===n?"rtl":"ltr",children:[(0,Db.jsxs)("div",{className:"auth-upper-section",children:[(0,Db.jsx)("button",{type:"button",className:"lang-toggle",onClick:()=>{const e="he"===n?"en":"he";r(e);try{yt.setLanguagePreference(e)}catch(t){}},children:"he"===n?"EN":"HE"}),(0,Db.jsxs)("div",{className:"auth-header",children:[(0,Db.jsx)("img",{src:"/app_icon.png",alt:"Fan Munch Logo",className:"app-logo"}),(0,Db.jsx)("h1",{className:"auth-title",children:t(o?"auth.title_login":"auth.title_register")})]})]}),(0,Db.jsxs)("div",{className:"auth-container",children:[(0,Db.jsxs)("div",{className:"social-auth-section",children:[(0,Db.jsxs)("button",{type:"button",className:"social-button google-button full-width",onClick:async()=>{f(!0),m("");try{var e,t;console.log("\ud83d\udd11 Google sign-in initiated...");const r=await dw.signInWithGoogle();pt.setUserData(r.toMap()),pt.setUserToken(`token_${r.id||Date.now()}`);try{const e=await Tb();if(e){await dw.updateUserProfile(r.id,{fcmToken:e});try{pt.setUserData({...r.toMap(),fcmToken:e})}catch(n){}}}catch(EC){console.warn("[Auth] FCM token not saved (Google):",(null===EC||void 0===EC?void 0:EC.message)||EC)}console.log("\u2705 Google sign-in completed");const o=new URLSearchParams(window.location.search).get("next");let i=o&&o.startsWith("/")?o:null;if(!i)try{const e=localStorage.getItem("postLoginNext");e&&e.startsWith("/")&&(i=e)}catch(n){}try{localStorage.removeItem("postLoginNext")}catch(n){}if(!mt.getSelectedStadium()&&("/cart"===i||"/order/confirm"===i||null!==(e=i)&&void 0!==e&&e.includes("/cart")||null!==(t=i)&&void 0!==t&&t.includes("/order"))){try{localStorage.setItem("postStadiumNext",i)}catch(n){}return void g("/stadium-selection",{replace:!0})}g(i||"/home",{replace:!0})}catch(r){m(r.message)}finally{f(!1)}},disabled:h,children:[(0,Db.jsx)(ok,{size:20}),(0,Db.jsx)("span",{children:"Continue with Google"})]}),(0,Db.jsx)("div",{className:"divider",children:(0,Db.jsx)("span",{className:"divider-text",children:o?t("auth.or_sign_in_email")||"Or sign in with email":t("auth.or_sign_up_email")||"Or sign up with email"})})]}),(0,Db.jsxs)("form",{className:"auth-form",onSubmit:async e=>{e.preventDefault(),f(!0),m("");try{const r=new URLSearchParams(window.location.search).get("next");let i=r&&r.startsWith("/")?r:null;if(!i)try{const e=localStorage.getItem("postLoginNext");e&&e.startsWith("/")&&(i=e)}catch(n){}const a=e=>{try{localStorage.removeItem("postLoginNext")}catch(n){}if(mt.getSelectedStadium()||!("/cart"===e||"/order/confirm"===e||null!==e&&void 0!==e&&e.includes("/cart")||null!==e&&void 0!==e&&e.includes("/order")))g(e||"/home",{replace:!0});else{try{localStorage.setItem("postStadiumNext",e)}catch(n){}g("/stadium-selection",{replace:!0})}};if(o){console.log("\ud83d\udd11 User signing in...");const t=await dw.signInUser(s.email,s.password);pt.setUserData(t.toMap()),pt.setUserToken(`token_${t.id||Date.now()}`);try{const e=await Tb();if(e){await dw.updateUserProfile(t.id,{fcmToken:e});try{pt.setUserData({...t.toMap(),fcmToken:e})}catch(n){}}}catch(e){console.warn("[Auth] FCM token not saved:",(null===e||void 0===e?void 0:e.message)||e)}console.log("\u2705 Sign in completed"),a(i||"/home")}else{if(!s.firstName||!s.lastName||!s.phone||!s.email||!s.password||!s.confirmPassword)return void m(t("auth.fill_required"));if(String(s.phone||"").replace(/\D/g,"").length<7)return void m("Please enter a valid phone number");if(s.password!==s.confirmPassword)return void m(t("auth.passwords_no_match"));console.log("\ud83d\udcdd User registering...");const r=await dw.registerUser(s);if(r.success){pt.setUserData(r.user.toMap()),pt.setUserToken(`token_${r.user.id||Date.now()}`);try{const e=await Tb();if(e){await dw.updateUserProfile(r.user.id,{fcmToken:e});try{pt.setUserData({...r.user.toMap(),fcmToken:e})}catch(n){}}}catch(e){console.warn("[Auth] FCM token not saved (register):",(null===e||void 0===e?void 0:e.message)||e)}console.log("\u2705 Registration completed"),a(i||"/home")}else m(r.error)}}catch(r){m(r.message)}finally{f(!1)}},children:[!o&&(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsx)("label",{htmlFor:"firstName",children:t("auth.first_name")}),(0,Db.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:v,placeholder:t("auth.first_name"),required:!0})]}),(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsx)("label",{htmlFor:"lastName",children:t("auth.last_name")}),(0,Db.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:v,placeholder:t("auth.last_name"),required:!0})]}),(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsx)("label",{htmlFor:"phone",children:t("auth.phone")||"Phone"}),(0,Db.jsx)("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:v,placeholder:t("auth.phone_ph")||"+972 50-123-4567",required:!0})]})]}),(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsx)("label",{htmlFor:"email",children:t("auth.email")}),(0,Db.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:v,placeholder:t("auth.email_ph"),required:!0})]}),(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsx)("label",{htmlFor:"password",children:t("auth.password")}),(0,Db.jsxs)("div",{className:"password-input-wrap",children:[(0,Db.jsx)("input",{type:l?"text":"password",id:"password",name:"password",value:s.password,onChange:v,placeholder:t("auth.password_ph"),required:!0}),(0,Db.jsx)("button",{type:"button",className:"toggle-visibility","aria-label":l?"Hide password":"Show password",onClick:()=>c(e=>!e),children:l?(0,Db.jsx)(Dw,{}):(0,Db.jsx)(Ow,{})})]}),o&&(0,Db.jsx)("button",{type:"button",className:"forgot-password",onClick:()=>g("/forgot-password"),children:t("auth.forgot_password")})]}),!o&&(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsx)("label",{htmlFor:"confirmPassword",children:t("auth.confirm_password")}),(0,Db.jsxs)("div",{className:"password-input-wrap",children:[(0,Db.jsx)("input",{type:u?"text":"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:v,placeholder:t("auth.confirm_password_ph"),required:!0}),(0,Db.jsx)("button",{type:"button",className:"toggle-visibility","aria-label":u?"Hide password":"Show password",onClick:()=>d(e=>!e),children:u?(0,Db.jsx)(Dw,{}):(0,Db.jsx)(Ow,{})})]})]}),p&&(0,Db.jsx)("div",{className:"error-message",children:p}),(0,Db.jsx)("button",{type:"submit",className:"auth-button",disabled:h,children:t(h?"auth.please_wait":o?"auth.sign_in":"auth.create_account")})]}),(0,Db.jsx)("div",{className:"auth-toggle",children:(0,Db.jsxs)("p",{className:"toggle-text",children:[t(o?"auth.toggle_no_account":"auth.toggle_have_account"),(0,Db.jsx)("button",{type:"button",className:"toggle-button",onClick:()=>{i(!o),m(""),a({firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:""})},children:t(o?"auth.toggle_register_now":"auth.toggle_sign_in")})]})})]})]})};const sk=new class{constructor(){this.currentUser=null,this.authStateListeners=[]}init(){!function(e,t,n,r){Zt(e).onAuthStateChanged(t,n,r)}(Sb,e=>{this.currentUser=e,this.authStateListeners.forEach(t=>t(e))})}onAuthStateChange(e){return this.authStateListeners.push(e),()=>{this.authStateListeners=this.authStateListeners.filter(t=>t!==e)}}async register(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{const o=(await fv(Sb,e,t)).user;return await mv(o,{displayName:n}),await Df(Eh(Cb,"users",o.uid),{uid:o.uid,email:o.email,displayName:n,phoneNumber:r,createdAt:(new Date).toISOString(),isActive:!0,role:"customer",fcmToken:null}),{success:!0,user:{uid:o.uid,email:o.email,displayName:o.displayName}}}catch(o){return console.error("Registration error:",o),{success:!1,error:o.message}}}async signIn(e,t){try{const n=(await pv(Sb,e,t)).user;return{success:!0,user:{uid:n.uid,email:n.email,displayName:n.displayName}}}catch(n){return console.error("Sign in error:",n),{success:!1,error:n.message}}}async signOut(){try{return await gv(Sb),{success:!0}}catch(e){return console.error("Sign out error:",e),{success:!1,error:e.message}}}getCurrentUser(){return this.currentUser}async getUserProfile(e){try{const t=await Af(Eh(Cb,"users",e));return t.exists()?{success:!0,user:t.data()}:{success:!1,error:"User not found"}}catch(t){return console.error("Get user profile error:",t),{success:!1,error:t.message}}}async updateUserProfile(e,t){try{return await Of(Eh(Cb,"users",e),{...t,updatedAt:(new Date).toISOString()}),{success:!0}}catch(n){return console.error("Update profile error:",n),{success:!1,error:n.message}}}async saveFCMToken(e,t){try{return await Of(Eh(Cb,"users",e),{fcmToken:t,tokenUpdatedAt:(new Date).toISOString()}),{success:!0}}catch(n){return console.error("Save FCM token error:",n),{success:!1,error:n.message}}}async resetPassword(e){try{return await async function(e,t,n){const r=kg(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&dv(r,o,n),await Ag(r,o,"getOobCode",Ug,"EMAIL_PASSWORD_PROVIDER")}(Sb,e),{success:!0}}catch(t){return console.error("Reset password error:",t),{success:!1,error:t.message}}}async getIdToken(){try{return this.currentUser?await this.currentUser.getIdToken():null}catch(e){return console.error("Get ID token error:",e),null}}},ak=()=>{const{t:t,lang:n}=rw(),r=te(),[o,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)("");return(0,Db.jsx)("div",{className:"forgot-screen",dir:"he"===n?"rtl":"ltr",children:(0,Db.jsxs)("div",{className:"forgot-container",children:[(0,Db.jsx)("h1",{className:"forgot-title",children:t("auth.forgot_password")}),(0,Db.jsx)("p",{className:"forgot-subtitle",children:t("auth.reset_instructions")}),(0,Db.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d(""),c(""),!o||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o))return void d(t("auth.email_invalid"));a(!0);const n=await sk.resetPassword(o);a(!1),n.success?c(t("auth.reset_sent")):d(n.error||t("auth.reset_failed"))},className:"forgot-form",children:[(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsx)("label",{htmlFor:"email",children:t("auth.email")}),(0,Db.jsx)("input",{type:"email",id:"email",name:"email",value:o,onChange:e=>i(e.target.value),placeholder:t("auth.email_ph"),required:!0})]}),l&&(0,Db.jsx)("div",{className:"success-message",children:l}),u&&(0,Db.jsx)("div",{className:"error-message",children:u}),(0,Db.jsx)("button",{type:"submit",className:"auth-button",disabled:s,children:t(s?"auth.please_wait":"auth.send_reset_link")})]}),(0,Db.jsx)("button",{className:"back-link",type:"button",onClick:()=>r("/auth"),children:t("auth.back_to_login")})]})})};class lk{constructor(e){let{id:t,name:n,about:r="",location:o,capacity:i,imageUrl:s="",teams:a=[],color:l="#3D70FF",floors:c=0,availableSeats:u=!1,availableSections:d=!1,availableFloors:h=!1,availableRooms:f=!1,availableShops:p=!1,availableStands:m=!1,availablePickupPoints:g=!1,availableTickets:v=!1,createdAt:y=(new Date).toISOString(),updatedAt:b=(new Date).toISOString()}=e;this.id=t,this.name=n,this.about=r,this.location=o,this.capacity=i,this.imageUrl=s,this.teams=a,this.color=l,this.floors="number"===typeof c?c:parseInt(c,10)||0,this.availableSeats=!!u,this.availableSections=!!d,this.availableFloors=!!h,this.availableRooms=!!f,this.availableShops=!!p,this.availableStands=!!m,this.availablePickupPoints=!!g,this.availableTickets=!!v,this.createdAt=y,this.updatedAt=b}static fromMap(e){return new lk({id:e.id,name:e.name||"",about:e.about||"",location:e.location||"",capacity:e.capacity||0,imageUrl:e.imageUrl||"",teams:e.teams||[],color:e.color||"#3D70FF",floors:e.floors||0,availableSeats:e.availableSeats,availableSections:e.availableSections,availableFloors:e.availableFloors,availableRooms:e.availableRooms,availableShops:e.availableShops,availableStands:e.availableStands,availablePickupPoints:e.availablePickupPoints,availableTickets:e.availableTickets,createdAt:e.createdAt||(new Date).toISOString(),updatedAt:e.updatedAt||(new Date).toISOString()})}toMap(){return{id:this.id,name:this.name,about:this.about,location:this.location,capacity:this.capacity,imageUrl:this.imageUrl,teams:this.teams,color:this.color,floors:this.floors,availableSeats:this.availableSeats,availableSections:this.availableSections,availableFloors:this.availableFloors,availableRooms:this.availableRooms,availableShops:this.availableShops,availableStands:this.availableStands,availablePickupPoints:this.availablePickupPoints,availableTickets:this.availableTickets,createdAt:this.createdAt,updatedAt:this.updatedAt}}getFormattedCapacity(){return this.capacity.toLocaleString()}getDisplayName(){return`${this.name} - ${this.location}`}hasTeam(e){return this.teams.some(t=>t.toLowerCase().includes(e.toLowerCase()))}update(e){return new lk({...this.toMap(),...e,updatedAt:(new Date).toISOString()})}}const ck=lk;const uk=new class{constructor(){this.collectionName="stadiums",this.stadiumsRef=Ch(Cb,this.collectionName)}async getAllStadiums(){try{const e=ff(this.stadiumsRef,yf("name","asc")),t=await Rf(e),n=[];return t.forEach(e=>{const t={id:e.id,...e.data()};n.push(ck.fromMap(t))}),n}catch(e){return console.error("Error fetching stadiums:",e),this.getFallbackStadiums()}}async getStadiumById(e){try{const t=Eh(Cb,this.collectionName,e),n=await Af(t);if(n.exists()){const e={id:n.id,...n.data()};return ck.fromMap(e)}return console.log("No stadium found with ID:",e),null}catch(t){return console.error("Error fetching stadium by ID:",t),null}}async getStadiumsByLocation(e){try{const t=ff(this.stadiumsRef,mf("location","==",e),yf("name","asc")),n=await Rf(t),r=[];return n.forEach(e=>{const t={id:e.id,...e.data()};r.push(ck.fromMap(t))}),r}catch(t){return console.error("Error fetching stadiums by location:",t),[]}}async getFeaturedStadiums(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;try{const t=ff(this.stadiumsRef,yf("capacity","desc"),wf(e)),n=await Rf(t),r=[];return n.forEach(e=>{const t={id:e.id,...e.data()};r.push(ck.fromMap(t))}),r}catch(t){return console.error("Error fetching featured stadiums:",t),this.getFallbackStadiums().slice(0,e)}}async searchStadiums(e){try{const t=await Rf(this.stadiumsRef),n=[];return t.forEach(t=>{const r={id:t.id,...t.data()},o=ck.fromMap(r);(o.name.toLowerCase().includes(e.toLowerCase())||o.location.toLowerCase().includes(e.toLowerCase()))&&n.push(o)}),n}catch(t){return console.error("Error searching stadiums:",t),[]}}getFallbackStadiums(){return[]}async isFirebaseAvailable(){try{const e=ff(this.stadiumsRef,wf(1));return await Rf(e),!0}catch(e){return console.warn("Firebase not available:",e.message),!1}}},dk=uk,hk=()=>{const[t,n]=(0,e.useState)(null),[r,o]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),[a,l]=(0,e.useState)(null),c=te(),{t:u,lang:d}=rw();(0,e.useEffect)(()=>{(async()=>{try{s(!0),l(null);const e=await dk.getAllStadiums();o(e)}catch(e){console.error("Error fetching stadiums:",e),l("Failed to load stadiums. Please try again."),o([])}finally{s(!1)}})()},[]);const h=()=>{if(t){const n=ck.fromMap(t);mt.setSelectedStadium(n.toMap());let r="/home";try{const e=localStorage.getItem("postStadiumNext");e&&e.startsWith("/")&&(r=e,localStorage.removeItem("postStadiumNext"))}catch(e){}c(r)}};return(0,Db.jsxs)("div",{className:"stadium-selection-screen",dir:"he"===d?"rtl":"ltr",children:[(0,Db.jsx)("div",{className:"stadium-bg",style:{backgroundImage:"url(/assets/images/on-boarding-1.png)"}}),(0,Db.jsx)("div",{className:"stadium-overlay"}),(0,Db.jsxs)("div",{className:"stadium-container",children:[(0,Db.jsxs)("div",{className:"stadium-header",children:[(0,Db.jsx)("h1",{className:"stadium-title animate-down",children:u("stadium.title")}),(0,Db.jsx)("p",{className:"stadium-subtitle animate-up",children:u("stadium.subtitle")})]}),i&&(0,Db.jsxs)("div",{className:"loading-container",children:[(0,Db.jsx)("div",{className:"loading-spinner"}),(0,Db.jsx)("p",{children:u("stadium.loading")})]}),a&&(0,Db.jsxs)("div",{className:"error-container",children:[(0,Db.jsx)("p",{className:"error-message",children:a}),(0,Db.jsx)("button",{className:"retry-button",onClick:()=>window.location.reload(),children:u("stadium.retry")})]}),!i&&!a&&(0,Db.jsx)("div",{className:"stadium-grid",children:r.map(e=>(0,Db.jsxs)("div",{className:"stadium-card "+((null===t||void 0===t?void 0:t.id)===e.id?"selected":""),onClick:()=>(e=>{n(e)})(e),style:{"--stadium-color":e.color},children:[(0,Db.jsxs)("div",{className:"stadium-avatar-container",children:[e.imageUrl?(0,Db.jsx)("img",{src:e.imageUrl,alt:e.name,className:"stadium-avatar",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}):null,(0,Db.jsx)("div",{className:"stadium-avatar-fallback",style:{display:e.imageUrl?"none":"flex"},children:(0,Db.jsx)("span",{className:"stadium-initial",children:e.name.charAt(0).toUpperCase()})})]}),(0,Db.jsxs)("div",{className:"stadium-info",children:[(0,Db.jsx)("h3",{className:"stadium-name",children:e.name}),e.location&&(0,Db.jsx)("p",{className:"stadium-location",children:e.location})]}),(null===t||void 0===t?void 0:t.id)===e.id&&(0,Db.jsx)("div",{className:"selected-indicator",children:(0,Db.jsx)("span",{children:"\u2713"})}),(null===t||void 0===t?void 0:t.id)===e.id&&(0,Db.jsx)("button",{className:"card-continue-btn",onClick:e=>{e.stopPropagation(),h()},children:"Continue"})]},e.id))}),(0,Db.jsx)("div",{className:"stadium-actions "+(t?"show":""),children:(0,Db.jsx)("button",{className:"continue-button "+(t?"active":"disabled"),onClick:h,disabled:!t,children:t?`${u("stadium.continue_to")} ${t.name}`:u("stadium.select_button")})})]})]})},fk=t=>{let{onChanged:n}=t;const[r,o]=(0,e.useState)(""),{t:i}=rw();return(0,Db.jsx)("div",{className:"search-filter-widget",children:(0,Db.jsx)("div",{className:"search-container",children:(0,Db.jsxs)("div",{className:"search-input-wrapper",children:[(0,Db.jsx)(jw,{className:"search-icon"}),(0,Db.jsx)("input",{type:"text",className:"search-input",placeholder:i("home.search_placeholder"),value:r,onChange:e=>{const t=e.target.value;o(t),n&&n(t)}})]})})})},pk=t=>{const n=te(),[r,o]=(0,e.useState)(""),[i,s]=(0,e.useState)(null),[a,l]=(0,e.useState)(null),{t:c,lang:u}=rw();(0,e.useEffect)(()=>{const e=mt.getSelectedStadium();e&&s(e);const t=pt.getUserData();l(t)},[]);return(0,Db.jsxs)("div",{className:"home-top-section "+("he"===u?"rtl":""),dir:"he"===u?"rtl":"ltr",children:[(0,Db.jsxs)("div",{className:"home-header",children:[(0,Db.jsxs)("div",{className:"stadium-selector",onClick:()=>{n("/stadium-selection")},children:[(0,Db.jsx)("span",{className:"loc-badge",children:(0,Db.jsx)("img",{src:"/assets/icons/location.png",alt:"Location",className:"location-icon"})}),(0,Db.jsx)("div",{className:"stadium-info",children:(0,Db.jsxs)("div",{className:"stadium-name-container",children:[(0,Db.jsx)("span",{className:"stadium-name",children:i?i.name:c("home.select_stadium")}),"he"===u?(0,Db.jsx)(Ww,{size:20,className:"dropdown-arrow"}):(0,Db.jsx)(Gw,{size:20,className:"dropdown-arrow"})]})})]}),(0,Db.jsx)("button",{className:"cart-button",onClick:()=>{n("/cart")},children:(0,Db.jsx)(Rw,{size:24})})]}),(0,Db.jsxs)("div",{className:"welcome-message",children:[(0,Db.jsx)("h1",{children:(()=>{const e=(new Date).getHours();return c(e>=5&&e<12?"home.greeting_morning":e>=12&&e<17?"home.greeting_afternoon":e>=17&&e<21?"home.greeting_evening":"home.greeting_night")})()}),(0,Db.jsx)("h2",{children:a?`${a.firstName} ${a.lastName}!`:"Guest!"})]}),(0,Db.jsx)("div",{className:"search-container",children:(0,Db.jsx)(fk,{onChanged:e=>{o(e),t.onSearch&&t.onSearch(e)},onFilterTap:()=>{console.log("Filter button clicked")}})})]})};const mk=t=>{let{selectedCategory:n="all",onSelect:r}=t;const[o,i]=(0,e.useState)(n||"all"),s=null!==n&&void 0!==n?n:o,[a,l]=(0,e.useState)([]),{t:c,lang:u}=rw();(0,e.useEffect)(()=>{let e=!1;return(async()=>{try{const t=(await Rf(Ch(Cb,"categories"))).docs.map(e=>{var t,n;const r=e.data()||{},o=(null===r||void 0===r||null===(t=r.nameMap)||void 0===t?void 0:t[u])||(null===r||void 0===r||null===(n=r.nameMap)||void 0===n?void 0:n.en)||(null===r||void 0===r?void 0:r.name)||e.id,i=(null===r||void 0===r?void 0:r.icon)||"\ud83c\udf54";return{id:(null===r||void 0===r?void 0:r.docId)||e.id,name:o,icon:i,color:"#3D70FF"}}),n={id:"all",name:c("home.cat_all"),icon:Xw,color:"#3D70FF"};e||l([n,...t])}catch(EC){console.warn("[CategoryList] Failed to load categories:",(null===EC||void 0===EC?void 0:EC.message)||EC),l([{id:"all",name:c("home.cat_all"),icon:Xw,color:"#3D70FF"}])}})(),()=>{e=!0}},[Cb,u,c]);return(0,Db.jsxs)("div",{className:"category-list",children:[(0,Db.jsx)("div",{className:"section-header",children:(0,Db.jsx)("h2",{className:"section-title",children:c("home.categories")})}),(0,Db.jsx)("div",{className:"categories-container",children:a.map(e=>{const t="string"===typeof e.icon,n=t?null:e.icon,o=s===e.id;return(0,Db.jsxs)("button",{className:"category-card "+(o?"selected":""),onClick:()=>{return t=e.id,void(r?r(t):i(t));var t},children:[(0,Db.jsx)("div",{className:"category-icon-wrapper",style:{backgroundColor:o?e.color:`${e.color}15`},children:t?(0,Db.jsx)("span",{className:"category-icon",style:{fontSize:22},children:e.icon}):(0,Db.jsx)(n,{className:"category-icon",style:{color:o?"white":e.color}})}),(0,Db.jsx)("div",{className:"category-info",children:(0,Db.jsx)("h3",{className:"category-name",children:e.name})})]},e.id)})})]})};var gk=n(439);const vk=t=>{let{isOpen:n,title:r,message:o,type:i="info",onClose:s,confirmText:a="OK"}=t;const[l,c]=(0,e.useState)(!1);if((0,e.useEffect)(()=>{if(!n){const e=setTimeout(()=>{c(!1)},300);return document.body.style.overflow="unset",()=>clearTimeout(e)}c(!0),document.body.style.overflow="hidden"},[n]),!n&&!l)return null;return(0,Db.jsx)("div",{className:"alert-modal-overlay "+(n?"open":"closing"),onClick:s,children:(0,Db.jsx)("div",{className:"alert-modal-container "+(n?"open":"closing"),onClick:e=>e.stopPropagation(),children:(0,Db.jsxs)("div",{className:"alert-modal-content",children:[(0,Db.jsx)("button",{className:"alert-modal-close",onClick:s,children:(0,Db.jsx)(tk,{})}),(0,Db.jsxs)("div",{className:"alert-modal-header",children:[(0,Db.jsx)("div",{className:`icon-wrapper ${i}`,children:(()=>{switch(i){case"warning":return(0,Db.jsx)(Bw,{className:"alert-icon warning"});case"error":return(0,Db.jsx)(Lw,{className:"alert-icon error"});case"success":return(0,Db.jsx)(Sw,{className:"alert-icon success"});default:return(0,Db.jsx)(Pw,{className:"alert-icon info"})}})()}),r&&(0,Db.jsx)("h3",{className:"alert-modal-title",children:r})]}),(0,Db.jsx)("div",{className:"alert-modal-body",children:(0,Db.jsx)("p",{className:"alert-modal-message",children:o})}),(0,Db.jsx)("div",{className:"alert-modal-footer",children:(0,Db.jsx)("button",{className:`alert-modal-button ${i}`,onClick:s,children:a})})]})})})},yk=["/assets/images/on-boarding-1.png","/assets/images/on-boarding-2.png","/assets/images/on-boarding-3.png"];function bk(e){const t=String(e||"food");let n=0;for(let o=0;o<t.length;o++)n=(n<<5)-n+t.charCodeAt(o),n|=0;const r=Math.abs(n)%yk.length;return yk[r]}const wk=function(t){let{menuItems:n=[],loading:r=!1,error:o=null,searchTerm:i=""}=t;const s=te(),{t:a,lang:l}=rw(),{fetchComboItems:c,getCachedComboItems:u}=Lb(),[d,h]=(0,e.useState)([]),[f,p]=(0,e.useState)(!0),[m,g]=(0,e.useState)(!1);(0,e.useEffect)(()=>{n.filter(e=>e.isCombo&&e.comboItemIds&&e.comboItemIds.length>0).forEach(e=>{c(e.id,e.comboItemIds)})},[n,c]),(0,e.useEffect)(()=>{(async()=>{try{p(!0);const e=mt.getSelectedStadium();if(e&&e.id){const t=ff(Ch(Cb,"shops"),mf("stadiumId","==",e.id)),n=await Rf(t),r=[];n.forEach(e=>{const t=e.data();r.push({id:e.id,name:t.name||"Unknown Shop",availability:void 0===t.shopAvailability||t.shopAvailability})}),h(r)}}catch(o){console.error("Error loading shops:",o)}finally{p(!1)}})()},[]);const v=e=>{if(!e)return"Shop";const t=d.find(t=>t.id===e);return t?t.name:"Shop"},y=e=>{if(!e)return!0;const t=d.find(t=>t.id===e);return!t||!1!==t.availability},b=()=>i.trim()?`${a("home.search_results")} (${n.length})`:a("home.popular_menu");if(r)return(0,Db.jsxs)("div",{className:"menu-list",children:[(0,Db.jsx)("div",{className:"section-header",children:(0,Db.jsx)("h2",{className:"section-title",children:b()})}),(0,Db.jsx)("div",{className:"menu-loading",children:(0,Db.jsx)("div",{className:"menu-shimmer-grid",children:[...Array(6)].map((e,t)=>(0,Db.jsxs)("div",{className:"menu-shimmer-card-grid",children:[(0,Db.jsx)("div",{className:"shimmer-image"}),(0,Db.jsxs)("div",{className:"shimmer-content",children:[(0,Db.jsx)("div",{className:"shimmer-line"}),(0,Db.jsx)("div",{className:"shimmer-line short"})]})]},t))})})]});if(!r&&0===n.length){const e=i.trim()?`${a("home.no_results_for")} "${i}"`:a("home.no_menu");return(0,Db.jsxs)("div",{className:"menu-list",children:[(0,Db.jsx)("div",{className:"section-header",children:(0,Db.jsx)("h2",{className:"section-title",children:b()})}),(0,Db.jsx)("div",{className:"menu-empty",children:(0,Db.jsx)("p",{children:e})})]})}return(0,Db.jsxs)("div",{className:"menu-list",children:[(0,Db.jsxs)("div",{className:"section-header",children:[(0,Db.jsx)("h2",{className:"section-title",children:b()}),!i&&(0,Db.jsx)("button",{className:"see-all-button",onClick:()=>s("/menu"),children:(0,Db.jsx)("span",{children:a("home.see_all")})}),o&&(0,Db.jsx)("p",{className:"section-subtitle error-text",children:o})]}),(0,Db.jsx)("div",{className:"menu-grid-container",children:(0,Db.jsx)("div",{className:"menu-grid",children:n.map(e=>{const t=e.shopId?y(e.shopId):!(Array.isArray(e.shopIds)&&e.shopIds.length>0)||e.shopIds.some(e=>y(e));return(0,Db.jsxs)("div",{className:`menu-card-grid ${e.isCombo?"combo-card":""} ${t?"":"is-closed"}`,onClick:()=>(e=>{let t=!0;e.shopId?t=y(e.shopId):Array.isArray(e.shopIds)&&e.shopIds.length>0&&(t=e.shopIds.some(e=>y(e))),t?(console.log("\ud83c\udf7d\ufe0f Navigating to food detail:",e.name),s(`/food/${e.id}`)):g(!0)})(e),children:[(0,Db.jsxs)("div",{className:"menu-image-grid",children:[!t&&(0,Db.jsx)("div",{className:"closed-overlay",children:(0,Db.jsx)("span",{className:"closed-tag",children:a("home.closed")})}),e.isCombo?(0,Db.jsxs)("div",{className:"combo-images",children:[(()=>{const t=u(e.comboItemIds);return e.getComboImages(t).map((t,n)=>(0,Db.jsx)("img",{src:t||bk(e.id||e.name),alt:`${e.name} - Item ${n+1}`,className:"combo-image",onError:t=>{t.currentTarget.src=bk(e.id||e.name)}},n))})(),(0,Db.jsx)("div",{className:"combo-badge",children:"COMBO"})]}):(0,Db.jsx)("img",{src:e.getPrimaryImage()||bk(e.id||e.name),alt:e.name,onError:t=>{t.currentTarget.src=bk(e.id||e.name)}}),e.getFoodTypeBadges().length>0&&(0,Db.jsx)("div",{className:"food-type-badges",children:e.getFoodTypeBadges().map((e,t)=>(0,Db.jsx)("span",{className:"food-type-badge",children:e},t))})]}),(0,Db.jsxs)("div",{className:"menu-content-grid",children:[(()=>{const t=e.nameMap&&(e.nameMap[l]||e.nameMap.en)||e.name;return(0,Db.jsx)("h3",{className:"menu-name-grid",children:t})})(),(0,Db.jsx)("p",{className:"menu-price-grid",children:(0,gk.formatPriceWithCurrency)(e.price,e.currency)}),(0,Db.jsxs)("div",{className:"menu-prep-time",children:[(0,Db.jsx)(Hw,{className:"time-icon-small"}),(0,Db.jsx)("span",{children:e.getPreparationTimeText()})]}),(0,Db.jsx)("div",{className:"menu-shop-name",children:v(e.shopId)})]})]},e.id)})})}),(0,Db.jsx)(vk,{isOpen:m,title:a("home.closed"),message:a("home.shop_closed_msg"),type:"warning",onClose:()=>g(!1)})]})},kk="/assets/images/on-boarding-2.png";function _k(){return kk}const Sk=[{id:"1",name:"Burger King",description:"American \u2022 Burger \u2022 Fast Food",rating:4.5,reviewCount:124,deliveryTime:"15-20 min",image:kk,items:["Burgers","Fries","Chicken","Drinks"]},{id:"2",name:"Pizza Hut",description:"Italian \u2022 Pizza \u2022 Pasta",rating:4.2,reviewCount:89,deliveryTime:"20-25 min",image:kk,items:["Pizza","Pasta","Garlic Bread","Desserts"]},{id:"3",name:"Subway",description:"American \u2022 Sandwich \u2022 Healthy",rating:4,reviewCount:67,deliveryTime:"10-15 min",image:kk,items:["Subs","Salads","Cookies","Drinks"]}],Ck=t=>{let{onShopSelect:n}=t;const[r,o]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(!1),d=te(),{t:h}=rw();(0,e.useEffect)(()=>{f()},[]);const f=async()=>{try{s(!0),l(null);const e=mt.getSelectedStadium();if(console.log("\ud83c\udfdf\ufe0f Loading shops for stadium:",e),e&&e.id){console.log("\ud83d\udd0d Fetching shops for stadium ID:",e.id);const t=ff(Ch(Cb,"shops"),mf("stadiumId","==",e.id)),n=await Rf(t);console.log("\ud83d\udce6 Found shops in Firebase:",n.size);const r=[];n.forEach(e=>{try{var t,n,o,i;console.log("\ud83d\udcc4 Processing shop document:",e.id);const s=e.data();console.log("\ud83d\udccb Shop data:",s);const a={id:e.id,name:s.name||"",description:s.description||"",location:s.location||"",floor:s.floor||"",gate:s.gate||"",stadiumId:s.stadiumId||"",stadiumName:s.stadiumName||"",shopUserFcmToken:s.shopUserFcmToken||"",admins:s.admins||[],image:s.imageUrl||s.image||null,shopAvailability:void 0===s.shopAvailability||s.shopAvailability,createdAt:(null===(t=s.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||s.createdAt||new Date,updatedAt:(null===(o=s.updatedAt)||void 0===o||null===(i=o.toDate)||void 0===i?void 0:i.call(o))||s.updatedAt||new Date};r.push(a),console.log("\u2705 Created shop object:",a.name)}catch(a){console.error("\u274c Error processing shop document",e.id,":",a)}}),o(r),console.log("\u2705 Loaded",r.length,"shops")}else console.log("\u26a0\ufe0f No stadium selected"),o([])}catch(e){console.error("\u274c Error loading shops:",e),l(h("home.error_fetch_shops")),o([])}finally{s(!1)}};if(i)return(0,Db.jsxs)("div",{className:"shop-list",children:[(0,Db.jsx)("div",{className:"section-header",children:(0,Db.jsx)("h2",{className:"section-title",children:h("home.shops")})}),(0,Db.jsx)("div",{className:"shop-shimmer",children:[1,2,3].map(e=>(0,Db.jsxs)("div",{className:"shop-card-shimmer",children:[(0,Db.jsx)("div",{className:"shop-image-shimmer"}),(0,Db.jsxs)("div",{className:"shop-content-shimmer",children:[(0,Db.jsx)("div",{className:"shop-name-shimmer"}),(0,Db.jsx)("div",{className:"shop-description-shimmer"}),(0,Db.jsx)("div",{className:"shop-details-shimmer"})]})]},e))})]});if(a)return(0,Db.jsxs)("div",{className:"shop-list",children:[(0,Db.jsx)("div",{className:"section-header",children:(0,Db.jsx)("h2",{className:"section-title",children:h("home.shops")})}),(0,Db.jsxs)("div",{className:"error-container",children:[(0,Db.jsx)("p",{className:"error-text",children:a}),(0,Db.jsx)("button",{className:"retry-button",onClick:f,children:h("home.retry")})]})]});if(0===r.length)return(0,Db.jsxs)("div",{className:"shop-list",children:[(0,Db.jsx)("div",{className:"section-header",children:(0,Db.jsx)("h2",{className:"section-title",children:h("home.shops")})}),(0,Db.jsx)("div",{className:"empty-container",children:(0,Db.jsx)("p",{className:"empty-text",children:h("home.no_shops")})})]});const p=(r.length>0?r:Sk).map(e=>({...e,items:Array.isArray(e.items)?e.items:[]}));return(0,Db.jsxs)("div",{className:"shop-list",children:[(0,Db.jsx)("div",{className:"section-header",children:(0,Db.jsx)("h2",{className:"section-title",children:h("home.shops")})}),(0,Db.jsx)("div",{className:"restaurant-list",children:p.map(e=>(0,Db.jsxs)("div",{className:"restaurant-card "+(!1===e.shopAvailability?"is-closed":""),onClick:()=>(e=>{!1!==e.shopAvailability?d(`/shop-menu/${e.id}`):u(!0)})(e),children:[(0,Db.jsxs)("div",{className:"restaurant-image",children:[(0,Db.jsx)("img",{src:e.image||_k(),alt:e.name,onError:e=>{e.currentTarget.src=_k()}}),!1===e.shopAvailability&&(0,Db.jsx)("div",{className:"closed-overlay",children:(0,Db.jsx)("span",{className:"closed-tag",children:h("home.closed")})})]}),(0,Db.jsxs)("div",{className:"restaurant-details",children:[(0,Db.jsxs)("div",{className:"restaurant-header",children:[(0,Db.jsx)("h3",{className:"restaurant-name",children:e.name}),!1===e.shopAvailability&&(0,Db.jsx)("span",{className:"closed-label",children:h("home.closed")})]}),(0,Db.jsx)("p",{className:"restaurant-description",children:e.description}),(0,Db.jsx)("div",{className:"restaurant-footer",children:(0,Db.jsxs)("div",{className:"food-items",children:[e.items.slice(0,2).map((e,t)=>(0,Db.jsx)("span",{className:"food-tag",children:e},t)),e.items.length>2&&(0,Db.jsxs)("span",{className:"food-tag more",children:["+",e.items.length-2," ",h("home.more_suffix")]})]})})]})]},e.id))}),(0,Db.jsx)(vk,{isOpen:c,title:h("home.closed"),message:h("home.shop_closed_msg"),type:"warning",onClose:()=>u(!1)})]})},Ek=e=>{let{isOpen:t,onClose:n}=e;const r=te(),{t:o}=rw();if(!t)return null;const i=()=>{n()};return(0,Db.jsx)("div",{className:"stadium-modal-overlay",onClick:i,children:(0,Db.jsxs)("div",{className:"stadium-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Db.jsx)("div",{className:"stadium-modal-icon",children:(0,Db.jsx)("img",{src:"/assets/icons/location.png",alt:"Location"})}),(0,Db.jsx)("h2",{className:"stadium-modal-title",children:o("home.modal_select_venue_title")||"Select Your Venue"}),(0,Db.jsx)("p",{className:"stadium-modal-description",children:o("home.modal_select_venue_desc")||"Choose your stadium to see available food options and enjoy faster delivery to your seat!"}),(0,Db.jsxs)("div",{className:"stadium-modal-actions",children:[(0,Db.jsx)("button",{className:"stadium-modal-btn primary",onClick:()=>{r("/stadium-selection")},children:o("home.modal_select_venue_btn")||"Select Venue"}),(0,Db.jsx)("button",{className:"stadium-modal-btn secondary",onClick:i,children:o("home.modal_browse_anyway")||"Browse Anyway"})]})]})})};class xk{constructor(e){let{id:t,allergens:n=[],category:r="",createdAt:o,customization:i={},description:s="",extras:a=[],images:l=[],isAvailable:c=!0,active:u=!0,name:d="",nutritionalInfo:h={},preparationTime:f=15,price:p=0,discountPercentage:m=0,sauces:g=[],shopId:v="",stadiumId:y="",sizes:b=[],toppings:w=[],updatedAt:k,foodType:_={halal:!1,kosher:!1,vegan:!1},quantity:S=1}=e;this.id=t,this.allergens=n,this.category=r,this.createdAt=o,this.customization=i,this.description=s,this.extras=a,this.images=l,this.isAvailable=c,this.active=u,this.name=d,this.nutritionalInfo=h,this.preparationTime=f,this.price=p,this.discountPercentage=m,this.sauces=g,this.shopId=v,this.stadiumId=y,this.sizes=b,this.toppings=w,this.updatedAt=k,this.foodType=_,this.quantity=S}static fromMap(e,t){var n,r,o,i;return new xk({id:e,allergens:t.allergens||[],category:t.category||"",createdAt:(null===(n=t.createdAt)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))||t.createdAt||new Date,customization:t.customization||{},description:t.description||"",extras:t.extras||[],images:t.images||[],isAvailable:void 0===t.isAvailable||t.isAvailable,active:void 0===t.active||t.active,name:t.name||"",nutritionalInfo:t.nutritionalInfo||{},preparationTime:t.preparationTime||15,price:parseFloat(t.price)||0,discountPercentage:parseFloat(t.discountPercentage)||0,sauces:t.sauces||[],shopId:t.shopId||"",stadiumId:t.stadiumId||"",sizes:t.sizes||[],toppings:t.toppings||[],updatedAt:(null===(o=t.updatedAt)||void 0===o||null===(i=o.toDate)||void 0===i?void 0:i.call(o))||t.updatedAt||new Date,foodType:t.foodType||{halal:!1,kosher:!1,vegan:!1},quantity:t.quantity||1})}toMap(){return{id:this.id,allergens:this.allergens,category:this.category,createdAt:this.createdAt,customization:this.customization,description:this.description,extras:this.extras,images:this.images,isAvailable:this.isAvailable,active:this.active,name:this.name,nutritionalInfo:this.nutritionalInfo,preparationTime:this.preparationTime,price:this.price,discountPercentage:this.discountPercentage,sauces:this.sauces,shopId:this.shopId,stadiumId:this.stadiumId,sizes:this.sizes,toppings:this.toppings,updatedAt:this.updatedAt,foodType:this.foodType,quantity:this.quantity}}getFormattedPrice(){return`\u20aa${this.price.toFixed(2)}`}getDiscountedPrice(){return this.price*(1-this.discountPercentage/100)}getFormattedDiscountedPrice(){return`\u20aa${this.getDiscountedPrice().toFixed(2)}`}getPrimaryImage(){return this.images&&this.images.length>0?this.images[0]:"/api/placeholder/200/150"}hasValidDiscount(){return this.discountPercentage>0&&this.active&&this.isAvailable}getFoodTypeBadges(){const e=[];return this.foodType.halal&&e.push("Halal"),this.foodType.kosher&&e.push("Kosher"),this.foodType.vegan&&e.push("Vegan"),e}getDiscountBadgeText(){return`${Math.round(this.discountPercentage)}% OFF`}}const Ik=xk;const Nk=new class{constructor(){this.collectionName="offers"}async getStadiumOffers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{console.log("\ud83d\udd0d Fetching offers for stadium:",e);const n=ff(Ch(Cb,"offers"),mf("stadiumId","==",e),wf(t)),r=await Rf(n);console.log("\ud83d\udce6 Found offers in Firebase:",r.size);const o=[];return r.forEach(e=>{try{console.log("\ud83d\udcc4 Processing offer document:",e.id);const t=e.data();console.log("\ud83d\udccb Offer data:",t);const n=Ik.fromMap(e.id,t);console.log("\u2705 Created offer object:",n),o.push(n)}catch(t){console.error("\u274c Error processing offer document",e.id,":",t)}}),o.sort((e,t)=>{var n,r,o,i;const s=(null===(n=e.createdAt)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))||e.createdAt||new Date(0);return((null===(o=t.createdAt)||void 0===o||null===(i=o.toDate)||void 0===i?void 0:i.call(o))||t.createdAt||new Date(0))-s}),console.log("Returning",o.length,"valid offers"),{success:!0,offers:o}}catch(n){return console.error("Error fetching stadium offers:",n),{success:!1,error:"Failed to fetch offers"}}}async getAllOffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;try{const t=ff(Ch(Cb,"offers"),mf("active","==",!0),yf("createdAt","desc"),wf(e)),n=await Rf(t),r=[];return n.forEach(e=>{try{const t=e.data(),n=Ik.fromMap(e.id,t);n.hasValidDiscount()&&r.push(n)}catch(t){console.error("Error processing offer document",e.id,":",t)}}),{success:!0,offers:r}}catch(t){return console.error("Error fetching all offers:",t),{success:!1,error:"Failed to fetch offers"}}}async searchOffers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let n=[];if(t){const e=await this.getStadiumOffers(t,50);n=e.success?e.offers:[]}else{const e=await this.getAllOffers(50);n=e.success?e.offers:[]}return e&&e.trim()&&(n=n.filter(t=>{var n,r;return t.name.toLowerCase().includes(e.toLowerCase())||(null===(n=t.description)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||(null===(r=t.category)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase()))})),{success:!0,offers:n}}catch(n){return console.error("Error searching offers:",n),{success:!1,error:"Failed to search offers"}}}};const Pk=function(){te();const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)([]),[i,s]=(0,e.useState)([]),[a,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(null),[f,p]=(0,e.useState)("all"),[m,g]=(0,e.useState)([]),[v,y]=(0,e.useState)(!0),[b,w]=(0,e.useState)(!0),[k,_]=(0,e.useState)(null),[S,C]=(0,e.useState)(null),[E,x]=(0,e.useState)(!1);(0,e.useEffect)(()=>{console.log("\ud83c\udfe0 Loading Home dashboard"),console.log("\ud83d\udd0d [HOME] Checking URL for seat parameters..."),console.log("\ud83d\udd0d [HOME] Current URL:",window.location.href);const e=new URLSearchParams(window.location.search);console.log("\ud83d\udd0d [HOME] URL params:",Object.fromEntries(e.entries()));const t=e.has("row")||e.has("seat")||e.has("section");if(console.log("\ud83d\udd0d [HOME] Has seat params?",t),t){const t={row:e.get("row")||"",seatNo:e.get("seat")||e.get("seatNo")||"",section:e.get("section")||"",sectionId:e.get("sectionId")||"",entrance:e.get("entrance")||e.get("gate")||"",stand:e.get("stand")||"",seatDetails:e.get("details")||e.get("seatDetails")||"",area:e.get("area")||""};console.log("\u2705 [HOME] Extracted seat data:",t),sessionStorage.setItem("pending_seat_data",JSON.stringify(t)),console.log("\ud83d\udcbe [HOME] Saved to sessionStorage:",sessionStorage.getItem("pending_seat_data")),console.log("\ud83d\udccd [HOME] Seat data stored successfully for later use!")}else console.log("\u26a0\ufe0f [HOME] No seat parameters found in URL");I(),N(),P();(()=>{const e=mt.getSelectedStadium();e&&e.id||setTimeout(()=>{x(!0)},800)})()},[]),(0,e.useEffect)(()=>{T(),A()},[c,t,i,d,f,m]);const I=async()=>{try{y(!0),_(null);const e=mt.getSelectedStadium();let t;t=e&&e.id?await Rb.getStadiumMenu(e.id,200):await Rb.getAllMenuItems(),t.success?n(t.foods):(_(t.error||"Failed to load menu items"),n([]))}catch(e){console.error("Error loading menu items:",e),_("Failed to load menu items"),n([])}finally{y(!1)}},N=async()=>{try{w(!0),C(null);const e=mt.getSelectedStadium();let t;console.log("\ud83c\udfdf\ufe0f Selected stadium for offers:",e),e&&e.id?(console.log("\ud83d\udd0d Fetching offers for stadium ID:",e.id),t=await Nk.getStadiumOffers(e.id,10)):(console.log("\ud83d\udd0d No stadium selected, fetching all offers"),t=await Nk.getAllOffers()),t.success?s(t.offers):(C(t.error||"Failed to load offers"),s([]))}catch(e){console.error("Error loading offers:",e),C("Failed to load offers"),s([])}finally{w(!1)}},P=async()=>{try{console.log("\ud83c\udfea Loading all shops for menu filtering");const e=mt.getSelectedStadium();if(!e||!e.id)return console.log("\u26a0\ufe0f No stadium selected, no shop filtering applied"),void g([]);const t=ff(Ch(Cb,"shops"),mf("stadiumId","==",e.id)),n=await Rf(t),r=[];n.forEach(e=>{const t=e.data();r.push({id:e.id,availability:void 0===t.shopAvailability||t.shopAvailability})}),g(r),console.log(`\u2705 Loaded ${r.length} shops for filtering`)}catch(e){console.error("\u274c Error loading shops:",e),g([])}},T=()=>{let e=t;const n=mt.getSelectedStadium();if(n&&n.id){const t=m.map(e=>e.id);e=e.filter(e=>Array.isArray(e.shopIds)&&e.shopIds.length>0?e.shopIds.some(e=>t.includes(e)):!e.shopId||t.includes(e.shopId))}if(d&&(e=e.filter(e=>Array.isArray(e.shopIds)&&e.shopIds.includes(d))),f&&"all"!==f&&(e=e.filter(e=>(e.category||"").toLowerCase()===String(f).toLowerCase())),c.trim()){const t=c.toLowerCase();e=e.filter(e=>{var n,r,o;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(o=e.category)||void 0===o?void 0:o.toLowerCase().includes(t))||e.nameMap&&Object.values(e.nameMap).some(e=>String(e).toLowerCase().includes(t))||e.descriptionMap&&Object.values(e.descriptionMap).some(e=>String(e).toLowerCase().includes(t))})}e.sort((e,t)=>e.isCombo&&!t.isCombo?-1:!e.isCombo&&t.isCombo?1:0),o(e)},A=()=>{if(c.trim()){const e=i.filter(e=>{var t,n;return e.name.toLowerCase().includes(c.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(n=e.category)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase()))});l(e)}else l(i)},j=mt.getSelectedStadium(),R=j&&j.id;return(0,Db.jsxs)("div",{className:"home-page",children:[(0,Db.jsx)(pk,{}),(0,Db.jsx)("div",{className:"home-content",children:R?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(mk,{selectedCategory:f,onSelect:e=>p(e)}),(0,Db.jsx)(Ck,{onShopSelect:e=>{h((null===e||void 0===e?void 0:e.id)||null)}}),(0,Db.jsx)(wk,{menuItems:r,loading:v,error:k,searchTerm:c})]}):(0,Db.jsxs)("div",{className:"no-stadium-placeholder",children:[(0,Db.jsx)("div",{className:"placeholder-icon",children:"\ud83d\udccd"}),(0,Db.jsx)("h3",{children:"Please Select a Venue"}),(0,Db.jsx)("p",{children:"Choose your venue to browse available food options"})]})}),(0,Db.jsx)(Ek,{isOpen:E,onClose:()=>x(!1)})]})},Tk={PENDING:0,PREPARING:1,DELIVERING:2,DELIVERED:3,CANCELED:4,toString:e=>{switch(e){case Tk.PENDING:return"Pending";case Tk.PREPARING:return"Preparing";case Tk.DELIVERING:return"Delivering";case Tk.DELIVERED:return"Delivered";case Tk.CANCELED:return"Canceled";default:return"Pending"}},getColor:e=>{switch(e){case Tk.PENDING:return"#FF9800";case Tk.PREPARING:return"#2196F3";case Tk.DELIVERING:return"#9C27B0";case Tk.DELIVERED:return"#4CAF50";case Tk.CANCELED:return"#F44336";default:return"#FF9800"}}};class Ak{constructor(e){var t;let{cart:n=[],subtotal:r=0,deliveryFee:o=0,discount:i=0,total:s=0,tipAmount:a=0,userInfo:l={},stadiumId:c="",shopId:u="",orderId:d="",orderCode:h="",deliveryUserId:f=null,status:p=Tk.PENDING,createdAt:m=null,deliveryTime:g=null,seatInfo:v={},id:y=null,tipPercentage:b=0,isTipAdded:w=!1,customerLocation:k=null,location:_=null,updatedAt:S=null,deliveryMethod:C="delivery",pickupPointId:E=null,deliveryType:x="",insideDelivery:I=null,outsideDelivery:N=null}=e;this.cart=n,this.subtotal=r,this.deliveryFee=o,this.discount=i,this.total=s,this.tipAmount=a,this.userInfo=l,this.stadiumId=c,this.shopId=u,this.orderId=d,this.orderCode=h,this.deliveryUserId=f,this.status=p,this.createdAt=m,this.deliveryTime=g,this.seatInfo=v,this.id=y,this.tipPercentage=b,this.isTipAdded=w,this.customerLocation=k,this.location=_,this.updatedAt=S,this.deliveryMethod=C,this.pickupPointId=E,this.deliveryType=x,this.insideDelivery=I,this.outsideDelivery=N,this.platform="string"===typeof(null===(t=arguments[0])||void 0===t?void 0:t.platform)&&arguments[0].platform.trim()?arguments[0].platform:"Web"}static fromMap(e,t){try{console.log("[Order.fromMap] id:",e,"raw data:",t)}catch(r){}const n=new Ak({id:e,cart:t.cart||[],subtotal:parseFloat(t.subtotal||0),deliveryFee:parseFloat(t.deliveryFee||0),discount:parseFloat(t.discount||0),total:parseFloat(t.total||0),tipAmount:parseFloat(t.tipAmount||0),tipPercentage:parseFloat(t.tipPercentage||0),isTipAdded:!!t.isTipAdded,userInfo:t.userInfo||{},stadiumId:t.stadiumId||"",shopId:t.shopId||"",orderId:t.orderId||"",orderCode:t.orderCode||"",deliveryUserId:t.deliveryUserId||null,status:t.status||Tk.PENDING,createdAt:t.createdAt,updatedAt:t.updatedAt,deliveryTime:t.deliveryTime,seatInfo:t.seatInfo||{},customerLocation:t.customerLocation||null,location:t.location||null,deliveryMethod:t.deliveryMethod||"delivery",pickupPointId:t.pickupPointId||null,deliveryType:t.deliveryType||"",insideDelivery:t.insideDelivery||null,outsideDelivery:t.outsideDelivery||null});n.platform=t.platform||"Web";try{console.log("[Order.fromMap] instance:",n)}catch(r){}return n}toMap(){var e,t,n;try{console.log("[Order.toMap] Start. Order instance:",this)}catch(i){}const r={cart:this.cart.map(e=>{const t=e.categoryId||e.category||"",n=(()=>{const t=e.descriptionMap||{},n="string"===typeof e.description?e.description:"";return{en:"string"===typeof t.en&&t.en.trim().length>0?t.en:n,he:"string"===typeof t.he&&t.he.trim().length>0?t.he:n}})(),r=(()=>{const t=e.nameMap||{};if(t&&Object.keys(t).length>0)return t;const n=e.name||"";return{en:t.en||n,he:t.he||n}})(),o={id:e.id,docId:e.docId||e.id,allergens:e.allergens||[],category:t,createdAt:e.createdAt instanceof Date?e.createdAt:e.createdAt&&e.createdAt.toDate?e.createdAt.toDate():e.createdAt?new Date(e.createdAt):new Date,customization:e.customization||{options:[]},description:e.description||"",descriptionMap:n,images:e.images||[],isAvailable:void 0===e.isAvailable||e.isAvailable,name:e.name||"",nameMap:r,nutritionalInfo:e.nutritionalInfo||{},preparationTime:e.preparationTime||15,price:parseFloat((e.price||0).toFixed(2)),currency:e.currency||"ILS",costOfGoods:parseFloat((e.costOfGoods||0).toFixed(2)),hasCOG:e.hasCOG||!1,shopIds:Array.isArray(e.shopIds)?[...e.shopIds]:e.shopId?[e.shopId]:[],shopId:e.shopId||"",stadiumId:e.stadiumId||"",updatedAt:e.updatedAt instanceof Date?e.updatedAt:e.updatedAt&&e.updatedAt.toDate?e.updatedAt.toDate():e.updatedAt?new Date(e.updatedAt):new Date,foodType:e.foodType||{halal:!1,kosher:!1,vegan:!1},quantity:e.quantity||1,originalPrice:e.originalPrice||e.price||0,discountedPrice:e.discountedPrice||null,selectedOptions:e.selectedSauces||[],comboSelectedOption:e.isCombo&&e.comboItemInfo?Object.entries(e.comboItemInfo).map(t=>{var n;let[r,o]=t;return{itemName:o,options:(null===(n=e.comboSelections)||void 0===n?void 0:n[r])||[]}}):[]};try{console.log("[Order.toMap] Cart item mapped:",{id:e.id,shopId:o.shopId,shopIds:o.shopIds,price:o.price})}catch(i){}return o}),subtotal:parseFloat(this.subtotal.toFixed(2)),deliveryFee:parseFloat(this.deliveryFee.toFixed(2)),discount:parseFloat(this.discount.toFixed(2)),total:parseFloat(this.total.toFixed(2)),tipAmount:parseFloat(this.tipAmount.toFixed(2)),tipPercentage:parseFloat((this.tipPercentage||0).toFixed(2)),isTipAdded:!!this.isTipAdded,userInfo:this.userInfo,stadiumId:this.stadiumId,shopId:this.shopId,orderId:this.orderId,orderCode:this.orderCode,deliveryUserId:this.deliveryUserId,status:this.status,createdAt:this.createdAt?this.createdAt instanceof Date?Vo.fromDate(this.createdAt):"function"===typeof(null===(e=this.createdAt)||void 0===e?void 0:e.toDate)?this.createdAt:Vo.fromDate(new Date(this.createdAt)):Vo.fromDate(new Date),updatedAt:this.updatedAt?this.updatedAt instanceof Date?Vo.fromDate(this.updatedAt):"function"===typeof(null===(t=this.updatedAt)||void 0===t?void 0:t.toDate)?this.updatedAt:Vo.fromDate(new Date(this.updatedAt)):Vo.fromDate(new Date),deliveryTime:this.deliveryTime?this.deliveryTime instanceof Date?Vo.fromDate(this.deliveryTime):"function"===typeof(null===(n=this.deliveryTime)||void 0===n?void 0:n.toDate)?this.deliveryTime:Vo.fromDate(new Date(this.deliveryTime)):null,seatInfo:this.seatInfo||{},customerLocation:(()=>{const e=this.customerLocation;return e?e instanceof Lh?e:"number"===typeof(null===e||void 0===e?void 0:e.lat)&&"number"===typeof(null===e||void 0===e?void 0:e.lng)?new Lh(e.lat,e.lng):"number"===typeof(null===e||void 0===e?void 0:e.latitude)&&"number"===typeof(null===e||void 0===e?void 0:e.longitude)?new Lh(e.latitude,e.longitude):Array.isArray(e)&&2===e.length?new Lh(Number(e[0]),Number(e[1])):e:null})(),location:(()=>{const e=this.location;return e?e instanceof Lh?e:"number"===typeof(null===e||void 0===e?void 0:e.lat)&&"number"===typeof(null===e||void 0===e?void 0:e.lng)?new Lh(e.lat,e.lng):"number"===typeof(null===e||void 0===e?void 0:e.latitude)&&"number"===typeof(null===e||void 0===e?void 0:e.longitude)?new Lh(e.latitude,e.longitude):Array.isArray(e)&&2===e.length?new Lh(Number(e[0]),Number(e[1])):e:null})(),platform:"string"===typeof this.platform&&this.platform.trim()?this.platform:"Web",deliveryMethod:this.deliveryMethod||"delivery",pickupPointId:this.pickupPointId||null,deliveryType:this.deliveryType||"",insideDelivery:this.insideDelivery||null,outsideDelivery:this.outsideDelivery||null};try{var o;console.log("[Order.toMap] Result payload:",r),console.log("[Order.toMap] seatInfo specifically:",r.seatInfo),console.log("[Order.toMap] seatInfo.sectionId:",null===(o=r.seatInfo)||void 0===o?void 0:o.sectionId)}catch(i){}return r}static createFromCart(e){let{cartItems:t,subtotal:n,deliveryFee:r,discount:o,tipAmount:i,tipPercentage:s=0,userData:a,seatInfo:l,stadiumId:c,shopId:u,customerLocation:d=null,location:h=null,deliveryUserId:f=null,deliveryMethod:p="delivery",pickupPointId:m=null,deliveryType:g="",insideDelivery:v=null,outsideDelivery:y=null}=e;try{console.log("[Order.createFromCart] Input:",{cartItems:t,subtotal:n,deliveryFee:r,discount:o,tipAmount:i,tipPercentage:s,userData:a,seatInfo:l,stadiumId:c,shopId:u,customerLocation:d,location:h,deliveryType:g,insideDelivery:v,outsideDelivery:y})}catch(C){}const b=n+r+i-o,w=Date.now().toString(),k=new Date,_=Math.floor(1e5+9e5*Math.random()).toString(),S=new Ak({cart:[...t],subtotal:n,deliveryFee:r,discount:o,total:b,tipAmount:i,tipPercentage:s,isTipAdded:i>0,userInfo:{userEmail:a.email||"",userName:a.firstName||"",userPhoneNo:a.phone||"",userId:a.id||""},stadiumId:c,shopId:u,orderId:w,orderCode:_,deliveryUserId:f,status:Tk.PENDING,createdAt:k,updatedAt:new Date,deliveryTime:null,seatInfo:{row:l.row||"",seatNo:l.seatNo||"",section:l.section||"",sectionId:l.sectionId||"",floor:l.floor||"",room:l.room||"",seatDetails:l.seatDetails||"",area:l.area||"",entrance:l.entrance||"",stand:l.stand||"",ticketImage:l.ticketImage||""},customerLocation:d,location:h,deliveryMethod:p,pickupPointId:m,deliveryType:g,insideDelivery:v,outsideDelivery:y});S.platform="Web";try{console.log("[Order.createFromCart] New Order instance:",S)}catch(C){}return S}getStatusString(){return Tk.toString(this.status)}getStatusColor(){return Tk.getColor(this.status)}isActive(){return this.status!==Tk.DELIVERED&&this.status!==Tk.CANCELED}getFormattedDate(){if(!this.createdAt)return"";let e;return this.createdAt instanceof Date?e=this.createdAt:this.createdAt&&"function"===typeof this.createdAt.toDate?e=this.createdAt.toDate():"number"!==typeof this.createdAt&&"string"!==typeof this.createdAt||(e=new Date(this.createdAt)),!e||isNaN(e.getTime())?"":e.toLocaleDateString()+" "+e.toLocaleTimeString()}getSummary(){return{orderId:this.orderId,total:this.total,itemCount:this.cart.reduce((e,t)=>e+(t.quantity||1),0),status:this.getStatusString(),date:this.getFormattedDate(),shopId:this.shopId,stadiumId:this.stadiumId}}}const jk=new class{constructor(){this.collectionName="orders"}async createOrder(e){try{console.log("\ud83d\udce6 Creating order in Firebase...",e);const t=e.toMap(),n={...t};t.customerLocation&&"object"===typeof t.customerLocation&&null!=t.customerLocation.latitude&&null!=t.customerLocation.longitude&&(n.customerLocation=new Lh(t.customerLocation.latitude,t.customerLocation.longitude)),t.location&&"object"===typeof t.location&&null!=t.location.latitude&&null!=t.location.longitude&&(n.location=new Lh(t.location.latitude,t.location.longitude));const r={...n,createdAt:Vo.fromDate(e.createdAt),updatedAt:Vo.fromDate(e.updatedAt||new Date),deliveryTime:e.deliveryTime?Vo.fromDate(e.deliveryTime):null},o=await Lf(Ch(Cb,this.collectionName),r);console.log("\u2705 Order created successfully with ID:",o.id),await Of(o,{id:o.id,updatedAt:Vo.fromDate(new Date)});return new Ak({...e,id:o.id})}catch(t){throw console.error("\u274c Error creating order:",t),new Error(`Failed to create order: ${t.message}`)}}async fetchOrdersForUser(e){try{if(console.log("\ud83d\udccb Fetching orders for user:",e),!e)throw new Error("User ID is required to fetch orders");const t=ff(Ch(Cb,this.collectionName),mf("userInfo.userId","==",e),yf("createdAt","desc")),n=await Rf(t),r=[];return n.forEach(e=>{const t=e.data(),n=Ak.fromMap(e.id,t);r.push(n)}),console.log("\u2705 Fetched orders:",r.length),r}catch(t){throw console.error("\u274c Error fetching orders:",t),new Error(`Failed to fetch orders: ${t.message}`)}}streamOrdersForUser(e,t){try{if(console.log("\ud83d\udd04 Setting up real-time orders stream for user:",e),!e)throw new Error("User ID is required to stream orders");const n=Ch(Cb,this.collectionName),r=Bf(ff(n,mf("userInfo.userId","==",e),yf("createdAt","desc")),e=>{const n=[];e.forEach(e=>{const t=e.data(),r=Ak.fromMap(e.id,t);n.push(r)}),console.log("\ud83d\udd04 Orders updated:",n.length),t(n)},e=>{console.error("\u274c Error in orders stream:",e),t([],e)});return r}catch(n){throw console.error("\u274c Error setting up orders stream:",n),new Error(`Failed to set up orders stream: ${n.message}`)}}async fetchAllOrders(){try{console.log("\ud83d\udccb Fetching all orders...");const e=ff(Ch(Cb,this.collectionName),yf("createdAt","desc")),t=await Rf(e),n=[];return t.forEach(e=>{const t=e.data(),r=Ak.fromMap(e.id,t);n.push(r)}),console.log("\u2705 Fetched all orders:",n.length),n}catch(e){throw console.error("\u274c Error fetching all orders:",e),new Error(`Failed to fetch all orders: ${e.message}`)}}async fetchOrdersForShop(e){try{if(console.log("\ud83d\udccb Fetching orders for shop:",e),!e)throw new Error("Shop ID is required to fetch orders");const t=ff(Ch(Cb,this.collectionName),mf("shopId","==",e),yf("createdAt","desc")),n=await Rf(t),r=[];return n.forEach(e=>{const t=e.data(),n=Ak.fromMap(e.id,t);r.push(n)}),console.log("\u2705 Fetched shop orders:",r.length),r}catch(t){throw console.error("\u274c Error fetching shop orders:",t),new Error(`Failed to fetch shop orders: ${t.message}`)}}async sendNotificationToShop(e){try{console.log("\ud83d\udd14 Sending notification to shop for order:",e.orderId),console.log("\ud83d\udcdd Notification logic not implemented yet")}catch(t){console.error("\u274c Error sending shop notification:",t)}}calculateOrderTotals(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o=e.reduce((e,t)=>e+t.price*t.quantity,0),i=o+t+n-r;return{subtotal:Math.round(100*o)/100,deliveryFee:Math.round(100*t)/100,tipAmount:Math.round(100*n)/100,discount:Math.round(100*r)/100,total:Math.round(100*i)/100}}},Rk=jk,Dk=()=>{const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)(!0),[i,s]=(0,e.useState)(null),[a,l]=(0,e.useState)("active"),[c,u]=(0,e.useState)({}),d=te(),{t:h}=rw();(0,e.useEffect)(()=>{const e=pt.getUserData();if(!e||!e.id)return n([]),void o(!1);o(!0);const t=Rk.streamOrdersForUser(e.id,async(e,t)=>{if(t)return s(h("orders.error_loading")),n([]),void o(!1);try{const t=[...new Set(e.map(e=>e.shopId).filter(Boolean))],r={};for(const e of t)r[e]=await f(e);u(r),n(e)}catch(EC){console.log("Shop details fetch error:",EC)}finally{o(!1)}});return()=>{"function"===typeof t&&t()}},[]);const f=async e=>{try{const i=Eh(Cb,"shops",e),s=await Af(i);if(s.exists()){var t,n,r,o;const e=s.data();return{id:s.id,name:e.name||"Unknown Shop",description:e.description||"",location:e.location||"",floor:e.floor||"",gate:e.gate||"",stadiumId:e.stadiumId||"",stadiumName:e.stadiumName||"",shopUserFcmToken:e.shopUserFcmToken||"",admins:e.admins||[],createdAt:(null===(t=e.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||e.createdAt||new Date,updatedAt:(null===(r=e.updatedAt)||void 0===r||null===(o=r.toDate)||void 0===o?void 0:o.call(r))||e.updatedAt||new Date}}return console.log("\u274c Shop not found:",e),{name:"Unknown Shop",id:e}}catch(i){return console.error("\u274c Error fetching shop:",e,i),{name:"Unknown Shop",id:e}}},p=e=>{const{status:t,deliveryMethod:n}=e;if("pickup"===n){if(t===Tk.DELIVERING)return h("track.ready_to_pick_up");if(t===Tk.DELIVERED)return h("track.picked_up")}switch(t){case Tk.PENDING:return h("orders.pending");case Tk.PREPARING:return h("orders.preparing");case Tk.DELIVERING:return h("orders.delivering");case Tk.DELIVERED:return h("orders.delivered");case Tk.CANCELED:return h("orders.cancelled");default:return h("orders.pending")}},m=e=>{try{const t=Array.isArray(null===e||void 0===e?void 0:e.cart)?e.cart[0]:null,n=(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.title);return n||(null!==e&&void 0!==e&&e.shopId&&c[e.shopId]?c[e.shopId].name:h("orders.order"))}catch(t){return h("orders.order")}},g=t.filter(e=>"active"===a?[Tk.PENDING,Tk.PREPARING,Tk.DELIVERING].includes(e.status):"completed"===a?e.status===Tk.DELIVERED:"cancelled"!==a||e.status===Tk.CANCELED);return(0,Db.jsx)("div",{className:"orders-screen",children:(0,Db.jsxs)("div",{className:"orders-container",children:[(0,Db.jsxs)("div",{className:"orders-header",children:[(0,Db.jsx)("h1",{className:"orders-title",children:h("orders.my_orders")}),(0,Db.jsx)("p",{className:"orders-subtitle",children:h("orders.subtitle")})]}),(0,Db.jsxs)("div",{className:"orders-tabs",children:[(0,Db.jsx)("button",{className:"tab-button "+("active"===a?"active":""),onClick:()=>l("active"),children:h("orders.active")}),(0,Db.jsx)("button",{className:"tab-button "+("completed"===a?"active":""),onClick:()=>l("completed"),children:h("orders.completed")})]}),(0,Db.jsx)("div",{className:"orders-list",children:r?(0,Db.jsxs)("div",{className:"loading-state",children:[(0,Db.jsx)("div",{className:"loading-spinner"}),(0,Db.jsx)("p",{children:h("orders.loading")})]}):i?(0,Db.jsxs)("div",{className:"error-state",children:[(0,Db.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,Db.jsx)("h3",{children:h("orders.error_loading")}),(0,Db.jsx)("p",{children:i}),(0,Db.jsx)("button",{className:"retry-button",onClick:()=>window.location.reload(),children:h("orders.try_again")})]}):0===g.length?(0,Db.jsxs)("div",{className:"empty-state",children:[(0,Db.jsx)("div",{className:"empty-icon",children:"\ud83c\udf7d\ufe0f"}),(0,Db.jsx)("h3",{children:h("orders.no_orders")}),(0,Db.jsx)("p",{children:h("orders.empty_hint")})]}):g.map(e=>{return(0,Db.jsxs)("div",{className:"order-card",children:[(0,Db.jsxs)("div",{className:"order-top",children:[(0,Db.jsxs)("div",{className:"order-number",children:[h("orders.order")," #",e.orderId]}),(0,Db.jsx)("span",{className:"status-badge "+(t=e.status,[Tk.PENDING,Tk.PREPARING,Tk.DELIVERING].includes(t)?"status-active":t===Tk.DELIVERED?"status-completed":t===Tk.CANCELED?"status-cancelled":"status-active"),children:p(e)})]}),(0,Db.jsxs)("div",{className:"order-restaurant",children:[(0,Db.jsx)("span",{className:"shop-avatar","aria-hidden":!0,children:"\ud83c\udf54"}),(0,Db.jsx)("span",{className:"shop-name",children:m(e)})]}),(0,Db.jsxs)("div",{className:"order-meta",children:[(0,Db.jsxs)("div",{className:"order-meta-left",children:[(0,Db.jsxs)("span",{className:"meta-item",children:[Array.isArray(e.cart)?e.cart.reduce((e,t)=>e+(t.quantity||1),0):0," ",h("orders.items")]}),(0,Db.jsx)("span",{className:"meta-dot",children:"\u2022"}),(0,Db.jsx)("span",{className:"meta-item",children:e.getFormattedDate()})]}),(0,Db.jsx)("div",{className:"order-price",children:(()=>{const t=Array.isArray(e.cart)&&e.cart.length>0?e.cart[0]:null,n=(null===t||void 0===t?void 0:t.currency)||"ILS";return(0,gk.formatPriceWithCurrency)(e.total,n)})()})]}),e.status===Tk.DELIVERING&&(0,Db.jsx)("div",{className:"order-delivery-instruction",children:(0,Db.jsx)("span",{className:"delivery-instruction-text",children:"pickup"===e.deliveryMethod?h("orders.track_for_qr_pickup"):h("orders.track_for_qr")})}),e.status!==Tk.DELIVERED&&e.status!==Tk.CANCELED&&(0,Db.jsx)("div",{className:"order-actions",children:(0,Db.jsx)("button",{className:"track-button",onClick:()=>(e=>{const t=e.id;t&&d(`/order/${t}`)})(e),children:h("orders.track")})})]},e.id||e.orderId);var t})})]})})},Ok="food_munch_cart",Lk={isShopAvailable:async e=>{try{if(!e)return!1;const t=ff(Ch(Cb,"shops"),mf("id","==",e),mf("shopAvailability","==",!0));return!(await Rf(t)).empty}catch(t){return console.error("\u274c Error checking shop availability:",t),!1}},getAvailableShops:async()=>{try{const e=mt.getSelectedStadium();if(!e||!e.id)return[];const t=ff(Ch(Cb,"shops"),mf("stadiumId","==",e.id),mf("shopAvailability","==",!0)),n=await Rf(t),r=[];return n.forEach(e=>{r.push(e.id)}),r}catch(e){return console.error("\u274c Error getting available shops:",e),[]}},hasMixedShops:async()=>{try{const e=Lk.getCartItems();if(0===e.length)return!1;const t=await Lk.getAvailableShops(),n=[];e.forEach(e=>{let r=null;e.shopId&&t.includes(e.shopId)?r=e.shopId:e.shopIds&&e.shopIds.length>0&&(r=e.shopIds.find(e=>t.includes(e))),r&&n.push(r)});const r=[...new Set(n)].filter(e=>e);return console.log("\ud83c\udfea Cart mixed shops check - unique available shops:",r),r.length>1}catch(e){return console.error("\u274c Error checking mixed shops:",e),!1}},getCartShops:async()=>{try{const e=Lk.getCartItems(),t=await Lk.getAvailableShops(),n=[];e.forEach(e=>{let r=null;e.shopId&&t.includes(e.shopId)?r=e.shopId:e.shopIds&&e.shopIds.length>0&&(r=e.shopIds.find(e=>t.includes(e))),r&&n.push(r)});const r=[...new Set(n)].filter(e=>e);return console.log("\ud83c\udfea Cart shops (available only):",r),r}catch(e){return console.error("\u274c Error getting cart shops:",e),[]}},getCartItems:()=>{try{const e=localStorage.getItem(Ok);if(!e)return console.log("\ud83d\udce6 No cart data found, returning empty array"),[];const t=JSON.parse(e);let n;return Array.isArray(t)?n=t:t&&Array.isArray(t.items)?n=t.items:(console.warn("\u26a0\ufe0f Invalid cart data format, returning empty array"),n=[]),console.log("\ud83d\udce6 Retrieved cart from storage:",n.length,"items"),n}catch(e){return console.error("\u274c Error getting cart items:",e),[]}},getCart:()=>Lk.getCartItems(),addToCart:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{if(console.log("\ud83d\uded2 Adding to cart:",e.name,"Quantity:",t),!e||!e.id||!e.name)return console.error("\u274c Invalid food object:",e),{success:!1,message:"Invalid food item"};const n=await Lk.getAvailableShops();console.log("\ud83c\udfea Available shops for comparison:",n);let r=null;if(e.shopId&&n.includes(e.shopId))r=e.shopId;else if(e.shopIds&&e.shopIds.length>0){r=e.shopIds.find(e=>n.includes(e))}if(console.log("\ud83c\udfea New item primary shop:",r),!r)return console.log("\ud83d\uded2 [NO AVAILABLE SHOP] Item cannot be served by any available shop"),{success:!1,message:"This item is not available from any open shops. Please choose items from available shops.",shopUnavailable:!0};let o=Lk.getCartItems();if(Array.isArray(o)||(console.warn("\u26a0\ufe0f Cart is not an array, initializing empty cart"),o=[]),o.length>0){const e=[];o.forEach(t=>{let r=null;t.shopId&&n.includes(t.shopId)?r=t.shopId:t.shopIds&&t.shopIds.length>0&&(r=t.shopIds.find(e=>n.includes(e))),r&&e.push(r)}),console.log("\ud83c\udfea Existing primary shops (available only):",[...new Set(e)]);const t=[...new Set([...e,r])].filter(e=>e);if(t.length>1)return console.log("\ud83d\uded2 [MIXED SHOPS] Attempted to add item from different available shop"),console.log("   Existing primary shops:",[...new Set(e)]),console.log("   New item primary shop:",r),console.log("   Combined unique primary shops:",t),{success:!1,message:"cart.mixed_shops_error",mixedShops:!0,existingShops:[...new Set(e)],newItemShops:[r]}}const i=o.findIndex(t=>t.id===e.id);if(i>=0)o[i].quantity+=t,console.log("\ud83d\udcc8 Updated existing item quantity:",o[i].quantity);else{const n=e.discountPercentage&&e.discountPercentage>0?e.price*(1-e.discountPercentage/100):e.price,r=Array.isArray(e.selectedSauces)?e.selectedSauces:[],i=n+r.reduce((e,t)=>e+("number"===typeof t.price?t.price:Number(t.price)||0),0);let s=0;e.isCombo&&e.comboSelections&&Object.values(e.comboSelections).forEach(e=>{Array.isArray(e)&&e.forEach(e=>{const t="number"===typeof e.price?e.price:Number(e.price)||0;s+=t})});const a=i+s,l={id:e.id,name:e.name,nameMap:e.nameMap||{},price:a,originalPrice:e.price,discountPercentage:e.discountPercentage||0,images:e.images||[],quantity:t,shopId:e.shopId||(Array.isArray(e.shopIds)&&e.shopIds.length>0?e.shopIds[0]:""),shopIds:Array.isArray(e.shopIds)?[...e.shopIds]:e.shopId?[e.shopId]:[],stadiumId:e.stadiumId,preparationTime:e.preparationTime||15,description:e.description||"",descriptionMap:e.descriptionMap||{},allergens:e.allergens||[],category:e.category||"",currency:e.currency||"ILS",costOfGoods:e.costOfGoods||0,hasCOG:e.hasCOG||!1,selectedSauces:r,comboSelections:e.comboSelections||{},comboItemInfo:e.comboItemInfo||{},isCombo:e.isCombo||!1,comboItemIds:e.comboItemIds||[],addedAt:(new Date).toISOString()};o.push(l),console.log("\u2705 Added new item to cart:",l.name)}return localStorage.setItem(Ok,JSON.stringify(o)),console.log("\ud83d\udcbe Cart saved to storage. Total items:",o.length),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cartItems:o,totalItems:Lk.getTotalItems(),totalPrice:Lk.getTotalPrice()}})),{success:!0,cartItems:o,totalItems:Lk.getTotalItems(),message:`${e.name} added to cart!`}}catch(n){return console.error("\u274c Error adding to cart:",n),{success:!1,message:"Failed to add item to cart"}}},removeFromCart:e=>{try{const t=Lk.getCartItems(),n=t.find(t=>t.id===e);if(n){console.log("\ud83d\uddd1\ufe0f Removing item from cart:",n.name);const r=t.filter(t=>t.id!==e);return localStorage.setItem(Ok,JSON.stringify(r)),console.log("\ud83d\udcbe Cart updated. Remaining items:",r.length),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cartItems:r,totalItems:Lk.getTotalItems(),totalPrice:Lk.getTotalPrice()}})),r}return console.log("\u26a0\ufe0f Item not found in cart:",e),t}catch(t){return console.error("\u274c Error removing from cart:",t),Lk.getCartItems()}},updateQuantity:(e,t)=>{try{const n=Lk.getCartItems(),r=n.findIndex(t=>t.id===e);if(r>=0){if(t<=0)return Lk.removeFromCart(e);n[r].quantity=t,localStorage.setItem(Ok,JSON.stringify(n)),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cartItems:n,totalItems:Lk.getTotalItems(),totalPrice:Lk.getTotalPrice()}})),console.log("\ud83d\udcca Updated quantity for:",e,"New quantity:",t)}return n}catch(n){return console.error("\u274c Error updating quantity:",n),Lk.getCartItems()}},getTotalItems:()=>{try{return Lk.getCartItems().reduce((e,t)=>e+t.quantity,0)}catch(e){return console.error("\u274c Error getting total items:",e),0}},getTotalPrice:()=>{try{return Lk.getCartItems().reduce((e,t)=>e+t.price*t.quantity,0)}catch(e){return console.error("\u274c Error getting total price:",e),0}},clearCart:()=>{try{return localStorage.removeItem(Ok),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cartItems:[],totalItems:0,totalPrice:0}})),console.log("\ud83e\uddf9 Cart cleared"),[]}catch(e){return console.error("\u274c Error clearing cart:",e),[]}},isInCart:e=>{try{return Lk.getCartItems().some(t=>t.id===e)}catch(t){return console.error("\u274c Error checking if item in cart:",t),!1}},getItemQuantity:e=>{try{const t=Lk.getCartItems().find(t=>t.id===e);return t?t.quantity:0}catch(t){return console.error("\u274c Error getting item quantity:",t),0}}},Bk=t=>{let{message:n,type:r="success",duration:o=3e3,onClose:i}=t;const[s,a]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const e=setTimeout(()=>{a(!1),setTimeout(()=>{i&&i()},300)},o);return()=>clearTimeout(e)},[o,i]);return(0,Db.jsxs)("div",{className:`toast ${r} ${s?"show":"hide"}`,children:[(()=>{switch(r){case"success":default:return(0,Db.jsx)(Sw,{className:"toast-icon success"});case"error":return(0,Db.jsx)(Lw,{className:"toast-icon error"});case"info":return(0,Db.jsx)(Pw,{className:"toast-icon info"})}})(),(0,Db.jsx)("span",{className:"toast-message",children:n}),(0,Db.jsx)("button",{className:"toast-close",onClick:()=>{a(!1),setTimeout(()=>{i&&i()},300)},children:(0,Db.jsx)(tk,{})})]})};let Mk=0;const Fk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;window.dispatchEvent(new CustomEvent("showToast",{detail:{message:e,type:t,duration:n}}))},Uk=()=>{const[t,n]=(0,e.useState)([]);(0,e.useEffect)(()=>{const e=e=>{const{message:t,type:n="success",duration:o=3e3}=e.detail;r(t,n,o)};return window.addEventListener("showToast",e),()=>{window.removeEventListener("showToast",e)}},[]);const r=(e,t,r)=>{const o={id:++Mk,message:e,type:t,duration:r};n(e=>[...e,o])};return(0,Db.jsx)("div",{className:"toast-container",children:t.map(e=>(0,Db.jsx)(Bk,{message:e.message,type:e.type,duration:e.duration,onClose:()=>{return t=e.id,void n(e=>e.filter(e=>e.id!==t));var t}},e.id))})},zk="anonymous_users",Vk=async()=>{try{console.log("\ud83c\udfad Creating anonymous user...");const e=await $k(),t={displayName:`FanMunch User ${e}`,isAnonymous:!0,createdAt:Uf(),email:null,phone:null,firstName:"FanMunch",lastName:`User ${e}`,avatar:null},n=Eh(Ch(Cb,zk));await Df(n,{...t,id:n.id});const r={...t,id:n.id};return pt.setUserData(r),pt.setUserToken(r.id),console.log("\u2705 Anonymous user created successfully:",r),r}catch(e){throw console.error("\u274c Failed to create anonymous user:",e),new Error("Failed to create guest account")}},$k=async()=>{try{const e=ff(Ch(Cb,zk),yf("createdAt","desc"),wf(1)),t=await Rf(e);if(t.empty)return 1;const n=t.docs[0].data();return qk(n.displayName)+1}catch(e){return console.warn("\u26a0\ufe0f Could not get next user number, defaulting to 1:",e),1}},qk=e=>{const t=e.match(/FanMunch User (\d+)/);return t?parseInt(t[1],10):0},Hk=e=>{let{isFromHome:t=!1}=e;const n=te(),{t:r}=rw();return(0,Db.jsxs)("div",{className:"cart-hero",style:{backgroundImage:"url(/assets/images/on-boarding-1.png)"},children:[!t&&(0,Db.jsx)("button",{className:"cart-back-button",onClick:()=>n(-1),"aria-label":"Back",children:(0,Db.jsx)(Jw,{})}),(0,Db.jsx)("div",{className:"cart-hero-overlay"}),(0,Db.jsx)("h1",{className:"cart-hero-title",children:r("cart.add_to_cart")})]})},Wk=e=>{let{isFromHome:t=!1}=e;return(0,Db.jsx)("div",{className:"cart-screen",children:(0,Db.jsxs)("div",{className:"cart-container",children:[(0,Db.jsx)(Hk,{isFromHome:t}),(0,Db.jsxs)("div",{className:"loading-state",children:[(0,Db.jsx)("div",{className:"loading-spinner"}),(0,Db.jsx)("p",{children:"Loading cart..."})]})]})})},Gk=()=>{const{t:e}=rw();return(0,Db.jsxs)("div",{className:"empty-cart",children:[(0,Db.jsx)(Rw,{size:100,className:"empty-cart-icon"}),(0,Db.jsx)("h3",{className:"empty-cart-title",children:e("cart.empty")})]})},Kk=e=>{let{item:t,onUpdateQuantity:n,onAddToCart:r,onRemoveFromCart:o}=e;const{t:i}=rw();return(0,Db.jsxs)("div",{className:"cart-item-wrapper",children:[(0,Db.jsxs)("div",{className:"cart-item",children:[(0,Db.jsxs)("div",{className:"item-info",children:[(0,Db.jsxs)("div",{className:"item-header",children:[(0,Db.jsx)("h4",{className:"item-name",children:t.name}),(0,Db.jsxs)("div",{className:"quantity-controls",children:[(0,Db.jsx)("button",{className:"quantity-btn remove",onClick:()=>n(t.id,t.quantity-1),children:(0,Db.jsx)($w,{size:16})}),(0,Db.jsx)("span",{className:"quantity-display",children:t.quantity}),(0,Db.jsx)("button",{className:"quantity-btn add",onClick:()=>r(t.id),children:(0,Db.jsx)(Vw,{size:16})})]})]}),(0,Db.jsxs)("div",{className:"item-price-section",children:[(0,Db.jsx)("span",{style:{color:"#444",fontWeight:"500"},children:i("cart.price")}),(0,Db.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,Db.jsx)("span",{className:"item-price",style:{fontWeight:"700"},children:(0,gk.formatPriceWithCurrency)(t.price*t.quantity,t.currency)}),t.quantity>1&&(0,Db.jsxs)("span",{style:{fontSize:"11px",color:"#666"},children:["(",(0,gk.formatPriceWithCurrency)(t.price,t.currency)," x ",t.quantity,")"]})]})]}),t.selectedSauces&&t.selectedSauces.length>0&&(0,Db.jsxs)("div",{className:"item-extras-section",style:{marginTop:"8px",fontSize:"13px",color:"#666"},children:[(0,Db.jsxs)("div",{style:{fontWeight:"600",marginBottom:"4px"},children:[i("food.extras"),":"]}),t.selectedSauces.map((e,n)=>{const r=Number(e.price),o=!isNaN(r)&&r>0?`+ ${(0,gk.formatPriceWithCurrency)(r,t.currency||"ILS")}`:"(Free)";return(0,Db.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"2px"},children:[(0,Db.jsxs)("span",{children:["- ",e.name]}),(0,Db.jsx)("span",{style:{color:"(Free)"===o?"#10b981":"#666"},children:o})]},n)})]}),(t.isCombo||t.comboItemInfo&&Object.keys(t.comboItemInfo).length>0)&&(0,Db.jsxs)("div",{className:"item-extras-section",style:{marginTop:"12px",padding:"10px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[(0,Db.jsxs)("div",{style:{fontWeight:"700",fontSize:"11px",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.8px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[(0,Db.jsx)("span",{style:{fontSize:"14px"},children:"\ud83c\udf71"})," ",i("food.combo_includes")]}),Object.entries(t.comboItemInfo).map((e,n)=>{var r;let[o,s]=e;const a=(null===(r=t.comboSelections)||void 0===r?void 0:r[o])||[];return(0,Db.jsxs)("div",{className:"combo-selection-group",style:{marginBottom:"8px",borderLeft:"2px solid #3b82f6",paddingLeft:"8px"},children:[(0,Db.jsx)("div",{style:{fontWeight:"600",color:"#1e293b",fontSize:"13px",marginBottom:"2px"},children:s}),a.length>0?a.map((e,n)=>{const r=Number(e.price),o=!isNaN(r)&&r>0?`+ ${(0,gk.formatPriceWithCurrency)(r,t.currency||"ILS")}`:`(${i("common.free")||"Free"})`;return(0,Db.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"2px",fontSize:"11px"},children:[(0,Db.jsxs)("span",{style:{color:"#64748b"},children:["\u2022 ",e.name]}),(0,Db.jsx)("span",{style:{fontWeight:"500",color:o.includes("+")?"#2563eb":"#10b981"},children:o})]},n)}):(0,Db.jsx)("div",{style:{fontSize:"11px",color:"#94a3b8",fontStyle:"italic"},children:i("food.standard_prep")||"Standard Preparation"})]},n)})]})]}),(0,Db.jsxs)("div",{className:"item-image-container",children:[t.images&&t.images.length>0?(0,Db.jsx)("img",{src:t.images[0],alt:t.name,className:"item-image",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Db.jsx)("div",{className:"image-placeholder",style:{display:t.images&&t.images.length>0?"none":"flex"},children:(0,Db.jsx)(Rw,{size:40})})]})]}),(0,Db.jsx)("button",{className:"delete-button",onClick:()=>o(t.id),title:"Remove item",children:(0,Db.jsx)(Cw,{size:20})})]})},Qk=e=>{let{cartItems:t,onUpdateQuantity:n,onAddToCart:r,onRemoveFromCart:o}=e;return(0,Db.jsx)("div",{className:"cart-items-list",children:t.map((e,t)=>(0,Db.jsx)(Kk,{item:e,onUpdateQuantity:n,onAddToCart:r,onRemoveFromCart:o},e.id))})},Yk=t=>{let{cartItems:n,calculateSubtotal:r,calculateDeliveryFee:o,calculateTip:i,calculateDiscount:s,calculateTotal:a,onPlaceOrder:l,onContinueAsGuest:c,onCancel:u,isLoggedIn:d}=t;const{t:h}=rw(),[f,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)([]),[v,y]=(0,e.useState)("ILS");if((0,e.useEffect)(()=>{(async()=>{try{const e=await Lk.hasMixedShops(),t=await Lk.getCartShops();p(e),g(t)}catch(e){console.error("Error checking mixed shops:",e),p(!1),g([])}})()},[n]),(0,e.useEffect)(()=>{const e=(0,lw.$u)();y(e)},[]),0===n.length)return null;const b=()=>n.length>0&&n[0].currency||"ILS";return(0,Db.jsx)("div",{className:"price-info-widget",children:(0,Db.jsxs)("div",{className:"price-info-content",children:[f&&(0,Db.jsxs)("div",{className:"mixed-shops-warning",children:[(0,Db.jsx)("div",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,Db.jsxs)("div",{className:"warning-message",children:[(0,Db.jsx)("strong",{children:h("cart.mixed_shops_detected")}),(0,Db.jsx)("p",{children:h("cart.mixed_shops_error")})]})]}),(0,Db.jsxs)("div",{className:"price-row",children:[(0,Db.jsx)("span",{children:h("cart.subtotal")}),(0,Db.jsx)("span",{children:(0,gk.formatPriceWithCurrency)(r(),b())})]}),(0,Db.jsxs)("div",{className:"price-row total",children:[(0,Db.jsx)("span",{children:h("cart.total")}),(0,Db.jsx)("span",{children:(0,gk.formatPriceWithCurrency)(r(),b())})]}),v!==b()&&(0,Db.jsxs)("div",{className:"currency-row",children:[(0,Db.jsx)("span",{className:"currency-badge converted",children:(0,gk.formatPriceWithCurrency)(a(),v)}),(0,Db.jsxs)("span",{className:"currency-label",children:["(",v,")"]})]}),(0,Db.jsx)("button",{className:"place-order-button "+(f?"disabled":""),onClick:l,disabled:f,children:f?"Cannot Place Order":h("cart.place_order")}),!d&&(0,Db.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[(0,Db.jsx)("button",{className:"guest-option-button",onClick:c,style:{flex:1,padding:"10px 16px",background:"#f3f4f6",color:"#111827",border:"1px solid #e5e7eb",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:h("auth.continue_as_guest")}),(0,Db.jsx)("button",{className:"cancel-option-button",onClick:u,style:{flex:1,padding:"10px 16px",background:"#fff",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:h("common.cancel")})]})]})})},Xk={position:"fixed",inset:0,background:"rgba(250, 250, 250, 0.37)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},Jk={width:"min(92vw, 420px)",background:"#fff",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.2)",overflow:"hidden"},Zk={padding:"16px 20px 0 20px",fontWeight:700,fontSize:18,color:"#111827"},e_={padding:"8px 20px 0 20px",fontSize:14,color:"#4b5563",lineHeight:1.5},t_={padding:"0 20px",fontSize:13,color:"#6b7280",lineHeight:1.4,textAlign:"center",marginBottom:"8px"},n_={display:"flex",flexDirection:"column",gap:12,padding:20},r_={display:"flex",gap:12,justifyContent:"flex-end"},o_={background:"#f3f4f6",color:"#111827",border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 16px",fontWeight:600,cursor:"pointer",width:"100%",justifyContent:"center"},i_={background:"#111827",color:"#fff",border:"none",borderRadius:8,padding:"10px 16px",fontWeight:600,cursor:"pointer",borderColor:"#111827"},s_={background:"#f3f4f6",color:"#111827",border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 16px",fontWeight:600,cursor:"pointer"};function a_(e){let{open:t,onCancel:n,onConfirm:r,onContinueAsGuest:o}=e;const{t:i}=rw();return t?(0,Db.jsx)("div",{style:Xk,role:"dialog","aria-modal":"true","aria-labelledby":"auth-modal-title",children:(0,Db.jsxs)("div",{style:Jk,children:[(0,Db.jsx)("div",{style:Zk,id:"auth-modal-title",children:i("auth.sign_in_required")}),(0,Db.jsx)("div",{style:e_,children:i("auth.sign_in_required_message")}),(0,Db.jsxs)("div",{style:n_,children:[(0,Db.jsxs)("div",{style:r_,children:[(0,Db.jsx)("button",{type:"button",style:s_,onClick:n,children:i("common.not_now")}),(0,Db.jsx)("button",{type:"button",style:i_,onClick:r,children:i("auth.sign_in")})]}),(0,Db.jsx)("div",{style:t_,children:i("auth.or_continue_as_guest")}),(0,Db.jsx)("button",{type:"button",style:o_,onClick:o,children:i("auth.continue_as_guest")})]})]})}):null}const l_=t=>{let{isFromHome:n=!1}=t;const r=te(),[o,i]=(0,e.useState)([]),[s,a]=(0,e.useState)(!0),[l,c]=(0,e.useState)(!1);(0,e.useEffect)(()=>{u();const e=()=>{u()};return window.addEventListener("cartUpdated",e),()=>{window.removeEventListener("cartUpdated",e)}},[]);const u=()=>{a(!0);try{const e=Lk.getCartItems();console.log("\ud83d\udce6 Loaded cart from storage:",e),i(e)}catch(e){console.error("\u274c Error loading cart:",e),i([])}finally{a(!1)}},d=(e,t)=>{const n=o.find(t=>t.id===e);if(n)if(1===n.quantity&&t<n.quantity)window.confirm(`Remove ${n.name} from cart?`)&&h(e);else try{Lk.updateQuantity(e,t),Fk("success","Cart updated")}catch(r){console.error("Error updating quantity:",r),Fk("error","Failed to update cart")}},h=e=>{try{Lk.removeFromCart(e),Fk("success","Item removed from cart")}catch(t){console.error("Error removing from cart:",t),Fk("error","Failed to remove item")}},f=()=>o.reduce((e,t)=>e+t.price*t.quantity,0),p=async()=>{if(0===o.length)return void Fk("Cart is empty","error",3e3);const e=await(async()=>{try{const t=mt.getSelectedStadium();let n;try{if(null!==t&&void 0!==t&&t.id){const e=ff(Ch(Cb,"shops"),mf("shopAvailability","==",!0),mf("stadiumId","==",t.id));n=await Rf(e)}}catch(e){}if(!n||n.empty){const e=ff(Ch(Cb,"shops"),mf("shopAvailability","==",!0));n=await Rf(e)}return 0!==n.docs.map(e=>({id:e.id,data:e.data()})).length||(Fk("No shops are open right now. Please try again later.","error",5e3),!1)}catch(t){return console.error("Error checking shop availability:",t),Fk("Unable to check shop availability. Please try again.","error",4e3),!1}})();e&&r("/tip")},m=()=>{c(!1)},g=async()=>{try{c(!1),Fk("info","Creating guest account...");const e=await Vk();Fk("success",`Welcome ${e.displayName}!`);mt.getSelectedStadium()?p():r("/stadium-selection")}catch(e){console.error("Failed to create guest account:",e),Fk("error","Failed to create guest account. Please try signing in.")}};return s?(0,Db.jsx)(Wk,{isFromHome:n}):(0,Db.jsxs)("div",{className:"cart-screen",children:[(0,Db.jsxs)("div",{className:"cart-container",children:[(0,Db.jsx)(Hk,{isFromHome:n}),0===o.length?(0,Db.jsx)(Gk,{}):(0,Db.jsx)(Qk,{cartItems:o,onUpdateQuantity:d,onAddToCart:e=>{const t=o.find(t=>t.id===e);t&&d(e,t.quantity+1)},onRemoveFromCart:h})]}),(0,Db.jsx)(Yk,{cartItems:o,calculateSubtotal:f,calculateDeliveryFee:()=>{console.log("\ud83d\uded2 Cart items for fee calculation:",o);const e=o.reduce((e,t)=>{const n=!0===t.isCombo||t.name&&t.name.includes("+")||t.category&&"combo"===t.category.toLowerCase()||t.comboItemIds&&t.comboItemIds.length>0,r=n?4:2;return console.log(`\ud83d\udce6 Cart Item: ${t.name}, isCombo: ${t.isCombo}, detectedCombo: ${n}, quantity: ${t.quantity}, fee: ${r}`),e+r*(t.quantity||0)},0);return console.log("\ud83d\udcb0 Cart delivery fee calculated:",e),e},calculateTip:()=>0,calculateDiscount:()=>0,calculateTotal:()=>f(),onPlaceOrder:async()=>{pt.isLoggedIn&&pt.isLoggedIn()?p():c(!0)},onContinueAsGuest:g,onCancel:m,isLoggedIn:pt.isLoggedIn()}),(0,Db.jsx)(a_,{open:l,onCancel:m,onConfirm:()=>{try{localStorage.setItem("postLoginNext","/cart")}catch(e){}c(!1),r("/auth?next=%2Fcart")},onContinueAsGuest:g})]})},c_=t=>{let{isFromHome:n=!1}=t;const r=te(),[o,i]=(0,e.useState)([]),[s,a]=(0,e.useState)(!0),[l,c]=(0,e.useState)(!1);(0,e.useEffect)(()=>{try{window.scrollTo({top:0,left:0,behavior:"auto"})}catch(t){window.scrollTo(0,0)}u();const e=()=>{u()};return window.addEventListener("cartUpdated",e),()=>{window.removeEventListener("cartUpdated",e)}},[]);const u=()=>{a(!0);try{const e=Lk.getCartItems();console.log("\ud83d\udce6 Loaded cart from storage:",e),i(e)}catch(e){console.error("\u274c Error loading cart:",e),i([])}finally{a(!1)}},d=(e,t)=>{const n=o.find(t=>t.id===e);if(n)if(1===n.quantity&&t<n.quantity)window.confirm(`Remove ${n.name} from cart?`)&&h(e);else try{Lk.updateQuantity(e,t),Fk("success","Cart updated")}catch(r){console.error("Error updating quantity:",r),Fk("error","Failed to update cart")}},h=e=>{try{Lk.removeFromCart(e),Fk("success","Item removed from cart")}catch(t){console.error("Error removing from cart:",t),Fk("error","Failed to remove item")}};return s?(0,Db.jsx)(Wk,{isFromHome:n}):(0,Db.jsxs)("div",{className:"precart-screen",children:[(0,Db.jsxs)("div",{className:"precart-container",children:[(0,Db.jsx)(Hk,{isFromHome:n}),0===o.length?(0,Db.jsx)(Gk,{}):(0,Db.jsx)(Qk,{cartItems:o,onUpdateQuantity:d,onAddToCart:e=>{const t=o.find(t=>t.id===e);t&&d(e,t.quantity+1)},onRemoveFromCart:h})]}),(0,Db.jsxs)("div",{className:"precart-actions",children:[(0,Db.jsx)("button",{className:"continue-shopping-btn",onClick:()=>{r("/menu")},children:"Continue Shopping"}),(0,Db.jsx)("button",{className:"checkout-btn",onClick:()=>{0!==o.length?pt.isLoggedIn&&pt.isLoggedIn()?r("/tip"):c(!0):Fk("error","Cart is empty")},disabled:0===o.length,children:"Checkout"})]}),(0,Db.jsx)(a_,{open:l,onCancel:()=>{c(!1)},onConfirm:()=>{try{localStorage.setItem("postLoginNext","/tip")}catch(e){}c(!1),r("/auth?next=%2Ftip")},onContinueAsGuest:async()=>{try{c(!1),Fk("info","Creating guest account...");const e=await Vk();Fk("success",`Welcome ${e.displayName}!`);const t=mt.getSelectedStadium();r(t?"/tip":"/stadium-selection")}catch(e){console.error("Failed to create guest account:",e),Fk("error","Failed to create guest account. Please try signing in.")}}})]})};function u_(e){return kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M370 378c28.89 23.52 46 46.07 46 86m-274-86c-28.89 23.52-46 46.06-46 86m288-256c28.89-23.52 32-56.07 32-96m-288 94c-28.89-23.52-32-54.06-32-94m368 176.13h-80m-256 0H48M256 192v256"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 448h0c-70.4 0-128-57.6-128-128v-96.07c0-65.07 57.6-96 128-96h0c70.4 0 128 25.6 128 96V320c0 70.4-57.6 128-128 128z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M179.43 143.52a49.08 49.08 0 0 1-3.43-15.73A80 80 0 0 1 255.79 48h.42A80 80 0 0 1 336 127.79a41.91 41.91 0 0 1-3.12 14.3"},child:[]}]})(e)}function d_(e){return kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M408 64H104a56.16 56.16 0 0 0-56 56v192a56.16 56.16 0 0 0 56 56h40v80l93.72-78.14a8 8 0 0 1 5.13-1.86H408a56.16 56.16 0 0 0 56-56V120a56.16 56.16 0 0 0-56-56z"},child:[]},{tag:"circle",attr:{cx:"160",cy:"216",r:"32"},child:[]},{tag:"circle",attr:{cx:"256",cy:"216",r:"32"},child:[]},{tag:"circle",attr:{cx:"352",cy:"216",r:"32"},child:[]}]})(e)}function h_(e){return kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M416 221.25V416a48 48 0 0 1-48 48H144a48 48 0 0 1-48-48V96a48 48 0 0 1 48-48h98.75a32 32 0 0 1 22.62 9.37l141.26 141.26a32 32 0 0 1 9.37 22.62z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 56v120a32 32 0 0 0 32 32h120m-232 80h160m-160 80h160"},child:[]}]})(e)}function f_(e){return kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184 184-82.39 184-184S349.61 64 248 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M220 220h32v116"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M208 340h88"},child:[]},{tag:"path",attr:{d:"M248 130a26 26 0 1 0 26 26 26 26 0 0 0-26-26z"},child:[]}]})(e)}function p_(e){return kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M48 112h288M192 64v48m80 336 96-224 96 224m-162.5-64h133M281.3 112S257 206 199 277 80 384 80 384"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 336s-35-27-72-75-56-85-56-85"},child:[]}]})(e)}function m_(e){return kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 208v-95a80 80 0 0 0-160 0v95"},child:[]},{tag:"rect",attr:{width:"320",height:"272",x:"96",y:"208",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"},child:[]}]})(e)}function g_(e){return kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(e)}function v_(e){return kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"},child:[]}]})(e)}function y_(e){return kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m304 48 112 112-112 112m94.87-112H96m112 304L96 352l112-112m-94 112h302"},child:[]}]})(e)}const b_=()=>{const t=te(),{t:n}=rw(),[r,o]=(0,e.useState)(null),[i,s]=(0,e.useState)({active:0,completed:0,cancelled:0}),[a,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{c()},[]),(0,e.useEffect)(()=>{},[r,t]);const c=()=>{try{const e=pt.getUserData();o(e),console.log("\ud83d\udc64 Loaded user data:",e)}catch(e){console.error("\u274c Error loading user data:",e),o(null)}};(0,e.useEffect)(()=>{const e=pt.getUserData();if(!e||!e.id)return;l(!0);const t=Rk.streamOrdersForUser(e.id,(e,t)=>{if(t)return s({active:0,completed:0,cancelled:0}),void l(!1);const n={active:e.filter(e=>[Tk.PENDING,Tk.PREPARING,Tk.DELIVERING].includes(e.status)).length,completed:e.filter(e=>e.status===Tk.DELIVERED).length,cancelled:e.filter(e=>e.status===Tk.CANCELED).length};s(n),l(!1)});return()=>{"function"===typeof t&&t()}},[]);const u=r&&r.id,d=u?[{icon:p_,title:n("profile.language"),subtitle:n("profile.language_sub"),action:()=>t("/settings/language")},{icon:y_,title:n("profile.currency")||"Currency",subtitle:n("profile.currency_sub")||"Choose your currency",action:()=>t("/settings/currency")},{icon:f_,title:n("profile.about"),subtitle:n("profile.about_sub"),action:()=>t("/settings/about")},{icon:h_,title:n("profile.terms"),subtitle:n("profile.terms_sub"),action:()=>t("/settings/terms")},{icon:d_,title:n("profile.feedback"),subtitle:n("profile.feedback_sub"),action:()=>t("/settings/feedback")},{icon:m_,title:n("profile.privacy"),subtitle:n("profile.privacy_sub"),action:()=>t("/settings/privacy")},{icon:u_,title:n("profile.report"),subtitle:n("profile.report_sub"),action:()=>t("/settings/report")}]:[{icon:p_,title:n("profile.language"),subtitle:n("profile.language_sub"),action:()=>t("/settings/language")},{icon:y_,title:n("profile.currency")||"Currency",subtitle:n("profile.currency_sub")||"Choose your currency",action:()=>t("/settings/currency")},{icon:f_,title:n("profile.about"),subtitle:n("profile.about_sub"),action:()=>t("/settings/about")},{icon:h_,title:n("profile.terms"),subtitle:n("profile.terms_sub"),action:()=>t("/settings/terms")},{icon:m_,title:n("profile.privacy"),subtitle:n("profile.privacy_sub"),action:()=>t("/settings/privacy")}];return(0,Db.jsxs)("div",{className:"profile-screen",children:[(0,Db.jsxs)("div",{className:"profile-hero",children:[(0,Db.jsx)("div",{className:"hero-overlay"}),(0,Db.jsx)("div",{className:"hero-content",children:u?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsxs)("div",{className:"hero-left",children:[(0,Db.jsx)("div",{className:"profile-avatar small",children:null!==r&&void 0!==r&&r.photoUrl?(0,Db.jsx)("img",{src:r.photoUrl,alt:"Profile",className:"avatar-image"}):(0,Db.jsx)(v_,{className:"avatar-icon"})}),(0,Db.jsxs)("div",{className:"hero-user",children:[(0,Db.jsx)("div",{className:"hero-name",children:r?`${r.firstName} ${r.lastName}`:""}),(0,Db.jsx)("div",{className:"hero-email",children:(null===r||void 0===r?void 0:r.email)||""})]})]}),(0,Db.jsxs)("button",{className:"logout-chip",onClick:()=>{console.log("\ud83d\udeba User signing out..."),vt.clearAllStorage(),t("/auth"),console.log("\u2705 Sign out completed")},children:[(0,Db.jsx)(g_,{})," ",n("profile.logout")]})]}):(0,Db.jsxs)("div",{className:"hero-left",children:[(0,Db.jsx)("div",{className:"profile-avatar small",children:(0,Db.jsx)(v_,{className:"avatar-icon"})}),(0,Db.jsxs)("div",{className:"hero-user",children:[(0,Db.jsx)("div",{className:"hero-name",children:n("profile.guest")||"Guest"}),(0,Db.jsx)("div",{className:"hero-email",children:n("profile.guest_subtitle")||"Sign in to see your profile"})]})]})})]}),(0,Db.jsxs)("div",{className:"profile-container",children:[u&&(0,Db.jsxs)("div",{className:"stats-card",children:[(0,Db.jsxs)("div",{className:"stats-col",children:[(0,Db.jsx)("div",{className:"stats-number",children:a?"\u2026":i.active}),(0,Db.jsx)("div",{className:"stats-label",children:n("profile.active")})]}),(0,Db.jsx)("div",{className:"divider"}),(0,Db.jsxs)("div",{className:"stats-col",children:[(0,Db.jsx)("div",{className:"stats-number green",children:a?"\u2026":i.completed}),(0,Db.jsx)("div",{className:"stats-label",children:n("profile.completed")})]})]}),(0,Db.jsxs)("div",{className:"settings-section",children:[(0,Db.jsx)("div",{className:"section-header",children:n("profile.settings")}),(0,Db.jsx)("div",{className:"settings-list",children:d.map((e,t)=>{const n=e.icon;return(0,Db.jsxs)("div",{className:"settings-item",onClick:e.action,children:[(0,Db.jsxs)("div",{className:"settings-item-left",children:[(0,Db.jsx)(n,{className:"settings-icon"}),(0,Db.jsxs)("div",{className:"settings-text",children:[(0,Db.jsx)("div",{className:"settings-title",children:e.title}),(0,Db.jsx)("div",{className:"settings-subtitle",children:e.subtitle})]})]}),(0,Db.jsx)("div",{className:"settings-arrow",children:"\u203a"})]},t)})})]})]})]})},w_=e=>{var t;let{food:n,onBack:r,isFavorite:o,onToggleFavorite:i}=e;return(0,Db.jsxs)("div",{className:"food-detail-header",children:[(0,Db.jsx)("button",{className:"fd-back-button",onClick:r,children:(0,Db.jsx)(Jw,{})}),(0,Db.jsx)("button",{className:"fd-fav-button "+(o?"liked":""),onClick:i,"aria-label":"Favorite",children:o?(0,Db.jsx)(xw,{}):(0,Db.jsx)(Ew,{})}),(0,Db.jsxs)("div",{className:"food-image-container",children:[null!==n&&void 0!==n&&n.images&&n.images.length>0?(0,Db.jsx)("img",{src:n.images[0],alt:n.name,className:"food-image",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Db.jsx)("div",{className:"food-image-placeholder",style:{display:(null===n||void 0===n||null===(t=n.images)||void 0===t?void 0:t.length)>0?"none":"flex"},children:(0,Db.jsx)(Xw,{className:"placeholder-icon"})}),(0,Db.jsx)("div",{className:"image-fade"})]}),(0,Db.jsx)("div",{className:"header-curve"})]})},k_=e=>{let{food:t,rating:n,testimonials:r,orderCount:o}=e;const{t:i}=rw(),s=(null===t||void 0===t?void 0:t.discountPercentage)&&t.discountPercentage>0,a=s?t.price*(1-t.discountPercentage/100):null===t||void 0===t?void 0:t.price;return(0,Db.jsxs)("div",{className:"food-info-section",children:[(0,Db.jsxs)("div",{className:"food-title-row",children:[(0,Db.jsx)("h1",{className:"food-name",children:null===t||void 0===t?void 0:t.name}),(0,Db.jsxs)("div",{className:"food-rating",children:[(0,Db.jsx)(rk,{className:"star-icon"}),(0,Db.jsx)("span",{className:"rating-value",children:n.toFixed(1)}),(0,Db.jsxs)("span",{className:"rating-count",children:["(",r.length,")"]})]})]}),(0,Db.jsxs)("div",{className:"food-meta",children:[(0,Db.jsx)("div",{className:"food-price-container",children:s?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("div",{className:"discounted-price",children:(0,gk.formatPriceWithCurrency)(a,null===t||void 0===t?void 0:t.currency)}),(0,Db.jsx)("div",{className:"original-price",children:(0,gk.formatPriceWithCurrency)(null===t||void 0===t?void 0:t.price,null===t||void 0===t?void 0:t.currency)}),(0,Db.jsxs)("div",{className:"discount-badge",children:[Math.round(t.discountPercentage),"% ",i("food.off")]})]}):(0,Db.jsx)("div",{className:"food-price",children:(0,gk.formatPriceWithCurrency)(null===t||void 0===t?void 0:t.price,null===t||void 0===t?void 0:t.currency)})}),(0,Db.jsxs)("div",{className:"food-prep-time",children:[(0,Db.jsx)(Hw,{className:"time-icon"}),(0,Db.jsxs)("span",{children:[(null===t||void 0===t?void 0:t.preparationTime)||15," ",i("food.min")]})]}),(0,Db.jsxs)("div",{className:"order-count",children:[o," ",i("food.orders")]})]})]})},__=e=>{let{description:t}=e;const{t:n}=rw();return(0,Db.jsxs)("div",{className:"section",children:[(0,Db.jsx)("h2",{className:"section-title",children:n("food.description")}),(0,Db.jsx)("p",{className:"food-description",children:(r=t,(r?r.replace(/,\s*([\u05d0-\u05ea]+),/g,"$1."):r)||n("food.no_description"))})]});var r},S_=e=>{let{comboItems:t,isCombo:n,comboPrice:r,foodCurrency:o="ILS",comboSelections:i={},onOptionToggle:s}=e;const a=te(),{t:l}=rw();if(!n||!t||0===t.length)return null;const c=t.reduce((e,t)=>e+(t.price||0),0),u=c-(r||0);return(0,Db.jsxs)("div",{className:"section",children:[(0,Db.jsx)("h2",{className:"section-title",children:l("food.combo_includes")}),(0,Db.jsxs)("div",{className:"combo-price-comparison",children:[(0,Db.jsxs)("div",{className:"price-row",children:[(0,Db.jsx)("span",{className:"price-label",children:l("food.individual_items_total")}),(0,Db.jsx)("span",{className:"price-value individual-price",children:(0,gk.formatPriceWithCurrency)(c,o)})]}),(0,Db.jsxs)("div",{className:"price-row",children:[(0,Db.jsx)("span",{className:"price-label",children:l("food.combo_price")}),(0,Db.jsx)("span",{className:"price-value combo-price",children:(0,gk.formatPriceWithCurrency)(r||0,o)})]}),u>0&&(0,Db.jsxs)("div",{className:"price-row savings",children:[(0,Db.jsx)("span",{className:"price-label",children:l("food.you_save")}),(0,Db.jsx)("span",{className:"price-value savings-amount",children:(0,gk.formatPriceWithCurrency)(u,o)})]})]}),(0,Db.jsx)("div",{className:"combo-items-list",children:t.map((e,t)=>{var n,r;const c=(null===(n=e.customization)||void 0===n?void 0:n.options)||[],u=`${e.id}_${t}`,d=i[u]||[];return(0,Db.jsxs)("div",{className:"combo-item-container",children:[(0,Db.jsxs)("div",{className:"combo-item clickable",onClick:()=>(e=>{a(`/food/${e.id}`)})(e),children:[(0,Db.jsxs)("div",{className:"combo-item-image",children:[e.images&&e.images.length>0?(0,Db.jsx)("img",{src:e.images[0],alt:e.name,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Db.jsx)("div",{className:"combo-item-placeholder",style:{display:(null===(r=e.images)||void 0===r?void 0:r.length)>0?"none":"flex"},children:"\ud83c\udf7d\ufe0f"})]}),(0,Db.jsxs)("div",{className:"combo-item-details",children:[(0,Db.jsx)("h3",{className:"combo-item-name",children:e.name}),(0,Db.jsx)("p",{className:"combo-item-description",children:e.description}),(0,Db.jsxs)("div",{className:"combo-item-meta",children:[(0,Db.jsx)("span",{className:"combo-item-price",children:(0,gk.formatPriceWithCurrency)(e.price,e.currency||o)}),e.preparationTime&&(0,Db.jsxs)("span",{className:"combo-item-time",children:[e.preparationTime," min"]})]})]}),(0,Db.jsx)("div",{className:"combo-item-arrow",children:"\u2192"})]}),c.length>0&&(0,Db.jsxs)("div",{className:"combo-item-options",children:[(0,Db.jsxs)("h4",{className:"options-title",children:[l("food.options_for")," ",e.name]}),(0,Db.jsx)("div",{className:"options-grid",children:c.map((e,t)=>{const n=d.some(t=>t.name===e.name&&t.price===e.price);return(0,Db.jsxs)("label",{className:"combo-option-label",children:[(0,Db.jsx)("input",{type:"checkbox",checked:n,onChange:t=>{t.stopPropagation(),s(u,e)}}),(0,Db.jsxs)("span",{className:"option-name",children:[e.name,Number(e.price)>0&&(0,Db.jsxs)("span",{className:"option-extra-price",children:["(+",(0,gk.formatPriceWithCurrency)(e.price,o),")"]})]})]},t)})})]})]},u)})}),(0,Db.jsx)("div",{className:"combo-note",children:(0,Db.jsx)("p",{children:"Click on any item to view its details. Items are prepared together and served as a combo at the combo price above."})})]})},C_=e=>{let{allergens:t}=e;return t&&0!==t.length?(0,Db.jsxs)("div",{className:"section",children:[(0,Db.jsx)("h2",{className:"section-title",children:"Allergens"}),(0,Db.jsx)("ul",{className:"allergens-list",children:t.map((e,t)=>(0,Db.jsxs)("li",{className:"allergen-item",children:[(0,Db.jsx)("span",{className:"bullet-point",children:"\u2022"}),e]},t))})]}):null},E_=e=>{let{testimonials:t}=e;return t&&0!==t.length?(0,Db.jsxs)("div",{className:"section",children:[(0,Db.jsx)("h2",{className:"section-title",children:"Testimonials"}),(0,Db.jsx)("div",{className:"testimonials-list",children:t.map(e=>{var t,n;return(0,Db.jsxs)("div",{className:"testimonial-item",children:[(0,Db.jsxs)("div",{className:"testimonial-header",children:[(0,Db.jsx)("div",{className:"testimonial-rating",children:[...Array(5)].map((t,n)=>(0,Db.jsx)(rk,{className:"star "+(n<e.rating?"filled":"empty")},n))}),(0,Db.jsx)("span",{className:"testimonial-date",children:new Date((null===(t=e.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||e.createdAt).toLocaleDateString()})]}),(0,Db.jsx)("p",{className:"testimonial-text",children:e.comment}),(0,Db.jsxs)("p",{className:"testimonial-author",children:["- ",e.customerName]})]},e.id)})})]}):null},x_=e=>{let{onAddToCart:t}=e;const{t:n,lang:r}=rw(),o="he"===r;return(0,Db.jsx)("div",{className:"food-detail-bottom-bar",dir:o?"rtl":"ltr",children:(0,Db.jsx)("button",{className:"add-to-cart-btn-full",onClick:async()=>{try{await t&&t(1)}catch(e){}},children:n("cart.add_to_cart")})})},I_=e=>{let{onBack:t}=e;return(0,Db.jsxs)("div",{className:"food-detail-screen",children:[(0,Db.jsx)("div",{className:"food-detail-header",children:(0,Db.jsx)("button",{className:"back-button",onClick:t,children:(0,Db.jsx)(Jw,{})})}),(0,Db.jsxs)("div",{className:"loading-container",children:[(0,Db.jsx)("div",{className:"loading-spinner"}),(0,Db.jsx)("p",{children:"Loading food details..."})]})]})},N_=e=>{let{error:t,onBack:n,onRetry:r}=e;const{t:o}=rw();return(0,Db.jsxs)("div",{className:"food-detail-screen",children:[(0,Db.jsx)("div",{className:"food-detail-header",children:(0,Db.jsx)("button",{className:"back-button",onClick:n,children:(0,Db.jsx)(Jw,{})})}),(0,Db.jsxs)("div",{className:"error-container",children:[(0,Db.jsx)("p",{className:"error-text",children:t||o("food.not_found")}),(0,Db.jsx)("button",{className:"retry-button",onClick:r,children:o("food.try_again")})]})]})},P_=()=>{var t;const{foodId:n}=ne(),r=te(),[o,i]=(0,e.useState)(null),[s,a]=(0,e.useState)([]),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(0),[h,f]=(0,e.useState)(0),[p,m]=(0,e.useState)(!0),[g,v]=(0,e.useState)(null),[y,b]=(0,e.useState)(!1),[w,k]=(0,e.useState)([]),[_,S]=(0,e.useState)({}),{t:C}=rw();(0,e.useEffect)(()=>{if(n){try{window.scrollTo({top:0,left:0,behavior:"auto"})}catch(e){window.scrollTo(0,0)}E()}},[n]);const E=async()=>{try{m(!0),v(null),await x(),await I(),await N()}catch(e){console.error("\u274c Error initializing food detail screen:",e),v("Failed to load food details")}finally{m(!1)}},x=async()=>{try{console.log("\ud83d\udd0d Fetching food details for ID:",n);let t=null;try{const e=Eh(Cb,"menuItems",n),r=await Af(e);r.exists()&&(t={id:r.id,...r.data()},console.log("\u2705 Food details loaded from menuItems:",t.name))}catch(e){console.log("\u2139\ufe0f Not found in menuItems, trying offers...")}if(!t)try{const e=Eh(Cb,"offers",n),r=await Af(e);r.exists()&&(t={id:r.id,...r.data()},console.log("\u2705 Food details loaded from offers:",t.name))}catch(e){console.log("\u2139\ufe0f Not found in offers either")}if(!t)throw new Error("Food not found in menuItems or offers");if(i(t),t.isCombo&&t.comboItemIds&&t.comboItemIds.length>0){console.log("\ud83c\udf7d\ufe0f Fetching combo items for:",t.name);try{const e=await Rb.getComboItems(t.comboItemIds);e.success&&(a(e.foods),console.log("\u2705 Combo items loaded:",e.foods.length))}catch(e){console.error("\u274c Error fetching combo items:",e)}}P(t.id)}catch(g){throw console.error("\u274c Error fetching food details:",g),g}},I=async()=>{try{console.log("\ud83d\udcca Fetching order count for food:",n);const e=ff(Ch(Cb,"orders"),mf("foodId","==",n)),t=await Rf(e);f(t.size),console.log("\u2705 Order count loaded:",t.size)}catch(g){console.error("\u274c Error fetching order count:",g)}},N=async()=>{try{console.log("\ud83d\udcac Fetching testimonials for food:",n);const e=Eh(Cb,"menuItems",n),t=ff(Ch(Cb,"testimonials"),mf("target","==",e)),r=await Rf(t),o=[];if(r.forEach(e=>{o.push({id:e.id,...e.data()})}),c(o),o.length>0){const e=o.reduce((e,t)=>e+(t.rating||0),0),t=e/o.length;d(t),console.log("\u2705 Testimonials loaded:",o.length,"Average rating:",t)}else d(0),console.log("\u2139\ufe0f No testimonials found")}catch(g){console.error("\u274c Error fetching testimonials:",g)}},P=e=>{const t=pt.getUserData();t&&t.favorites&&b(t.favorites.includes(e))},T=()=>{r(-1)};return p?(0,Db.jsx)(I_,{onBack:T}):g||!o?(0,Db.jsx)(N_,{error:g,onBack:T,onRetry:E}):(0,Db.jsxs)("div",{className:"food-detail-screen",children:[(0,Db.jsx)(w_,{food:o,onBack:T,isFavorite:y,onToggleFavorite:()=>{try{const e=pt.getUserData();if(!e)return;let t=e.favorites||[];y?(t=t.filter(e=>e!==o.id),console.log("\ud83d\udc94 Removed from favorites:",o.name)):(t.push(o.id),console.log("\u2764\ufe0f Added to favorites:",o.name));const n={...e,favorites:t};pt.setUserData(n),b(!y)}catch(g){console.error("\u274c Error toggling favorite:",g)}}}),(0,Db.jsx)("div",{className:"food-detail-content",children:(0,Db.jsxs)("div",{className:"food-card",children:[(0,Db.jsx)(k_,{food:o,rating:u,testimonials:l,orderCount:h}),(0,Db.jsx)(__,{description:o.description}),Array.isArray(null===o||void 0===o||null===(t=o.customization)||void 0===t?void 0:t.options)&&o.customization.options.length>0&&(0,Db.jsxs)("div",{className:"food-sauces-section",children:[(0,Db.jsx)("h3",{className:"food-section-title",children:"Options"}),(0,Db.jsx)("div",{className:"food-sauces-list",children:o.customization.options.map((e,t)=>{const n=w.some(t=>t.name===e.name&&t.price===e.price);return(0,Db.jsxs)("label",{className:"food-sauce-option",children:[(0,Db.jsx)("input",{type:"checkbox",checked:n,onChange:()=>{return t=e,void k(e=>e.find(e=>e.name===t.name&&e.price===t.price)?e.filter(e=>!(e.name===t.name&&e.price===t.price)):[...e,t]);var t}}),(0,Db.jsxs)("span",{className:"food-sauce-label",children:[e.name,(()=>{const t=Number(e.price);return!isNaN(t)&&t>0?(0,Db.jsx)("span",{className:"food-sauce-price",children:` + ${(0,gk.formatPriceWithCurrency)(t,o.currency)}`}):(0,Db.jsx)("span",{className:"food-sauce-price",style:{color:"#10b981",fontWeight:"500"},children:" (Free)"})})()]})]},t)})})]}),o.isCombo&&s&&s.length>0&&(0,Db.jsx)(S_,{comboItems:s,isCombo:o.isCombo,comboPrice:o.price,foodCurrency:o.currency||"ILS",comboSelections:_,onOptionToggle:(e,t)=>{S(n=>{const r=n[e]||[];let o;return o=r.find(e=>e.name===t.name&&e.price===t.price)?r.filter(e=>!(e.name===t.name&&e.price===t.price)):[...r,t],{...n,[e]:o}})}})," ",(0,Db.jsx)(C_,{allergens:o.allergens}),(0,Db.jsx)(E_,{testimonials:l})]})}),(0,Db.jsx)(x_,{onAddToCart:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{console.log("\ud83d\uded2 Adding to cart:",o.name);const t={};o.isCombo&&s&&o.comboItemIds.forEach((e,n)=>{const r=s.find(t=>t.id===e);r&&(t[`${e}_${n}`]=r.name)});const n={...o,selectedSauces:Array.isArray(w)?w:[],comboSelections:_||{},comboItemInfo:t},i=await Lk.addToCart(n,e);if(i.success)Fk(`${o.name} added to cart! (${i.totalItems} items)`,"success",3e3),console.log("\u2705 Added to cart successfully:",i.message),setTimeout(()=>{r("/precart")},800);else{const e=C(i.message);Fk(e,"error",4e3),console.error("\u274c Failed to add to cart:",i.message)}}catch(g){console.error("\u274c Error adding to cart:",g),Fk("Failed to add item to cart","error",4e3)}}})]})},T_=e=>{let{onBack:t}=e;return(0,Db.jsx)("div",{className:"tip-header",children:(0,Db.jsx)("button",{className:"back-button",onClick:t,"aria-label":"Back",children:(0,Db.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,Db.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})})})},A_=e=>{let{options:t=[2,4,6,8],selected:n,onChange:r}=e;const o=(0,lw.$u)();return(0,Db.jsx)("div",{className:"tip-options",children:t.map(e=>{const t=(0,gk.convertPrice)(e,"ILS",o).convertedPrice;return(0,Db.jsx)("button",{className:"tip-option "+(n===t?"selected":""),onClick:()=>r(t),children:(0,gk.formatPriceWithCurrency)(t,o)},e)})})},j_=e=>{let{value:t,onChange:n,inputRef:r}=e;const{t:o}=rw();return(0,Db.jsxs)("div",{className:"custom-tip-section",children:[(0,Db.jsx)("label",{className:"custom-tip-label",children:o("tip.custom_tip_label")}),(0,Db.jsx)("input",{type:"number",className:"custom-tip-input",placeholder:o("tip.custom_tip_placeholder"),value:t,onChange:e=>n(e.target.value),min:"0",max:"500",ref:r})]})},R_=e=>{let{tipAmount:t=0,onCustomTip:n}=e;const{t:r}=rw(),o=(0,lw.$u)();return(0,Db.jsx)("div",{className:"tip-amount-section",children:(0,Db.jsxs)("div",{className:"tip-amount-row",children:[(0,Db.jsx)("span",{className:"tip-label",children:r("tip.tip_amount")}),(0,Db.jsx)("span",{className:"tip-amount",children:(0,gk.formatPriceWithCurrency)(t,o)}),n&&(0,Db.jsx)("button",{type:"button",className:"custom-tip-link",onClick:n,children:r("tip.custom_tip")})]})})},D_=e=>{let{onAddTip:t,onSkipTip:n,tipAmount:r=0}=e;const{t:o}=rw(),i=(0,lw.$u)();return(0,Db.jsxs)("div",{className:"tip-actions",children:[(0,Db.jsxs)("button",{className:"add-tip-button",onClick:t,children:[o("tip.add_tip")," (",(0,gk.formatPriceWithCurrency)(r,i),")"]}),(0,Db.jsx)("button",{className:"skip-tip-button",onClick:n,children:o("tip.skip")})]})},O_=()=>{const t=te(),{t:n}=rw(),[r,o]=(0,e.useState)(0),[i,s]=(0,e.useState)(0),[a,l]=(0,e.useState)(0),[c,u]=(0,e.useState)(""),d=(0,e.useRef)(null);(0,e.useEffect)(()=>{const e=Lk.getTotalPrice();l(e),o(0),s(0)},[]);const h=e=>{s(e),o(e)};return(0,Db.jsx)("div",{className:"tip-screen",children:(0,Db.jsxs)("div",{className:"tip-container",children:[(0,Db.jsx)(T_,{onBack:()=>t(-1)}),(0,Db.jsx)("h1",{className:"tip-title",children:n("tip.title")}),(0,Db.jsxs)("p",{className:"tip-description",children:[n("tip.supports_runner")," ",n("tip.order_total_is")," ",(0,Db.jsx)("span",{className:"order-total",children:(0,gk.formatPriceWithCurrency)(a,(()=>{const e=Lk.getCartItems();return e.length>0&&e[0].currency||"ILS"})())}),"."]}),(0,Db.jsx)("div",{className:"delivery-illustration",children:(0,Db.jsx)("img",{src:"/assets/images/tipimage.png",alt:n("tip.illustration_alt"),className:"tip-illustration-img"})}),(0,Db.jsx)(R_,{tipAmount:i,onCustomTip:()=>{requestAnimationFrame(()=>{d.current&&(d.current.scrollIntoView({behavior:"smooth",block:"center"}),d.current.focus())})}}),(0,Db.jsx)(A_,{options:[2,4,6,8],selected:r,onChange:e=>{o(e),u(""),h(e)}}),(0,Db.jsx)(j_,{value:c,onChange:e=>{u(e);const t=parseFloat(e)||0;t>=0&&(o(t),h(t))},inputRef:d}),(0,Db.jsx)(D_,{onAddTip:()=>{console.log("\ud83d\udcb0 Adding tip:",i,"ILS"),localStorage.setItem("selectedTip",JSON.stringify({amount:i})),t("/order/confirm")},onSkipTip:()=>{console.log("\u23ed\ufe0f Skipping tip"),localStorage.setItem("selectedTip",JSON.stringify({amount:0})),t("/order/confirm")},tipAmount:i})]})})};const L_=function(){var t;const{shopId:n}=ne(),r=te(),{t:o}=rw(),[i,s]=(0,e.useState)([]),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(!0),[d,h]=(0,e.useState)(null),[f,p]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{try{window.scrollTo({top:0,left:0,behavior:"auto"})}catch(e){window.scrollTo(0,0)}},[n]),(0,e.useEffect)(()=>{(async()=>{try{if(u(!0),h(null),n){const e=Eh(Cb,"shops",n),t=await Af(e);t.exists()&&l({id:t.id,...t.data()})}const e=await Rb.getMenuItemsByShop(n,50);e.success?s(e.foods):h(e.error||"Failed to fetch shop menu")}catch(EC){console.error(EC),h("Failed to fetch shop menu")}finally{u(!1)}})()},[n]),(0,Db.jsxs)("div",{className:"shop-menu-page",children:[(0,Db.jsx)("div",{className:"shop-menu-header",children:(0,Db.jsxs)("div",{className:"shop-title-row",children:[(0,Db.jsx)("button",{onClick:()=>r(-1),className:"back-icon","aria-label":"Go back",title:"Back",children:"\u2190"}),(0,Db.jsxs)("div",{className:"shop-title-container",children:[(0,Db.jsx)("h2",{className:"shop-title",children:(null===a||void 0===a?void 0:a.name)||`Gate ${(null===a||void 0===a?void 0:a.gate)||(null===n||void 0===n||null===(t=n.slice)||void 0===t?void 0:t.call(n,0,6))}`}),a&&!1===a.shopAvailability&&(0,Db.jsx)("span",{className:"shop-closed-tag",children:o("home.closed")})]})]})}),d&&(0,Db.jsx)("div",{className:"shop-menu-error",children:d}),(0,Db.jsx)("div",{className:"shop-menu-grid",children:c?[...Array(8)].map((e,t)=>(0,Db.jsxs)("div",{className:"grid-card shimmer",children:[(0,Db.jsx)("div",{className:"grid-image"}),(0,Db.jsxs)("div",{className:"grid-content",children:[(0,Db.jsx)("div",{className:"line"}),(0,Db.jsx)("div",{className:"line short"})]})]},t)):i.map(e=>(0,Db.jsxs)("div",{className:"grid-card "+(a&&!1===a.shopAvailability?"is-closed":""),onClick:()=>{a&&!1===a.shopAvailability?p(!0):(e=>{r(`/food/${e.id}`)})(e)},children:[(0,Db.jsxs)("div",{className:"grid-image",children:[a&&!1===a.shopAvailability&&(0,Db.jsx)("div",{className:"closed-overlay",children:(0,Db.jsx)("span",{children:o("home.closed")})}),(0,Db.jsx)("img",{src:e.getPrimaryImage(),alt:e.name,onError:e=>{e.target.src="/api/placeholder/200/150"}})]}),(0,Db.jsxs)("div",{className:"grid-content",children:[(0,Db.jsx)("h3",{className:"grid-name",children:e.name}),(0,Db.jsxs)("div",{className:"grid-bottom",children:[(0,Db.jsx)("span",{className:"grid-price",children:(0,gk.formatPriceWithCurrency)(e.price,e.currency)}),(0,Db.jsx)("span",{className:"grid-prep",children:e.getPreparationTimeText()})]})]})]},e.id))}),(0,Db.jsx)(vk,{isOpen:f,title:o("home.closed"),message:o("home.shop_closed_msg"),type:"warning",onClose:()=>p(!1)})]})},B_=e=>{let{formData:t,errors:n,onChange:r,sectionsOptions:o=[],onScanQr:i,showSeats:s=!0,showSections:a=!0,showFloors:l=!1,floorsCount:c=0,showRooms:u=!1,showStands:d=!1}=e;const{t:h}=rw(),f=(e,t)=>{try{const n=h(e);return n&&n!==e?n:t}catch(n){return t}};return(0,Db.jsxs)("div",{className:"seat-info-section",children:[(0,Db.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:(0,Db.jsx)("h2",{className:"section-title",style:{margin:0},children:"Delivery Information"})}),s||d?(0,Db.jsxs)("div",{className:"form-row",children:[s?(0,Db.jsxs)("div",{className:"form-field",children:[(0,Db.jsx)("label",{className:"field-label",children:h("order.seat_number")}),(0,Db.jsx)("input",{type:"text",className:"field-input "+(n.seatNo?"error":""),placeholder:h("order.seat_number_ph"),value:t.seatNo,onChange:e=>r("seatNo",e.target.value)}),n.seatNo&&(0,Db.jsx)("span",{className:"error-text",children:n.seatNo})]}):null,d?(0,Db.jsxs)("div",{className:"form-field",children:[(0,Db.jsx)("label",{className:"field-label",children:h("order.stand")}),(0,Db.jsxs)("select",{className:"field-input",value:t.stand||"",onChange:e=>r("stand",e.target.value),children:[(0,Db.jsx)("option",{value:"",disabled:!0,children:h("order.select_stand")}),(0,Db.jsx)("option",{value:"Gallery",children:h("order.stand_gallery")}),(0,Db.jsx)("option",{value:"Main",children:h("order.stand_main")})]})]}):null]}):null,s||a?(0,Db.jsxs)("div",{className:"form-row",children:[s?(0,Db.jsxs)("div",{className:"form-field",children:[(0,Db.jsx)("label",{className:"field-label",children:h("order.row_number")}),(0,Db.jsx)("input",{type:"text",className:"field-input "+(n.row?"error":""),placeholder:h("order.row_number_ph"),value:t.row,onChange:e=>r("row",e.target.value)}),n.row&&(0,Db.jsx)("span",{className:"error-text",children:n.row})]}):null,a?(0,Db.jsxs)("div",{className:"form-field",children:[(0,Db.jsx)("label",{className:"field-label",children:f("order.section","Section")}),(0,Db.jsxs)("select",{className:"field-input "+(n.section?"error":""),value:t.sectionId||"",onChange:e=>{const t=e.target.value,n=o.find(e=>e.id===t);r("sectionId",t),r("section",(null===n||void 0===n?void 0:n.name)||"")},children:[(0,Db.jsx)("option",{value:"",disabled:!0,children:f("order.select_section","Select section")}),o.map(e=>(0,Db.jsx)("option",{value:e.id,children:e.name||e.id},e.id))]}),n.section&&(0,Db.jsx)("span",{className:"error-text",children:n.section})]}):null]}):null,l||u?(0,Db.jsxs)("div",{className:"form-row",children:[l?(0,Db.jsxs)("div",{className:"form-field",children:[(0,Db.jsx)("label",{className:"field-label",children:f("order.floor","Floor")}),(0,Db.jsxs)("select",{className:"field-input "+(n.floor?"error":""),value:t.floor||"",onChange:e=>r("floor",e.target.value),children:[(0,Db.jsx)("option",{value:"",disabled:!0,children:f("order.select_floor","Select floor")}),Array.from({length:Math.max(0,Number(c)||0)},(e,t)=>t+1).map(e=>(0,Db.jsx)("option",{value:String(e),children:e},e))]}),n.floor&&(0,Db.jsx)("span",{className:"error-text",children:n.floor})]}):null,u?(0,Db.jsxs)("div",{className:"form-field",children:[(0,Db.jsx)("label",{className:"field-label",children:f("order.room","Room")}),(0,Db.jsx)("input",{type:"text",className:"field-input "+(n.room?"error":""),placeholder:f("order.room_ph","Room name"),value:t.room||"",onChange:e=>r("room",e.target.value)}),n.room&&(0,Db.jsx)("span",{className:"error-text",children:n.room})]}):null]}):null]})},M_=t=>{let{ticketImage:n,onImageUpload:r,onCameraCapture:o}=t;const i=(0,e.useRef)(null),s=(0,e.useRef)(null),{t:a}=rw();return(0,Db.jsxs)("div",{className:"ticket-upload-section",children:[(0,Db.jsx)("input",{ref:i,type:"file",accept:"image/*",onChange:r,style:{display:"none"}}),(0,Db.jsx)("input",{ref:s,type:"file",accept:"image/*",capture:"environment",onChange:r,style:{display:"none"}}),(0,Db.jsxs)("div",{className:"upload-options",children:[(0,Db.jsx)("button",{type:"button",className:"upload-option",onClick:()=>{i.current&&i.current.click()},"aria-label":a("order.choose_from_gallery"),children:(0,Db.jsx)("img",{src:"/assets/images/choose-from-gallery.png",alt:a("order.choose_from_gallery"),className:"upload-icon-img"})}),(0,Db.jsx)("button",{type:"button",className:"upload-option",onClick:()=>{s.current&&s.current.click(),"function"===typeof o&&o()},"aria-label":a("order.front_camera"),children:(0,Db.jsx)("img",{src:"/assets/images/camera.png",alt:a("order.front_camera"),className:"upload-icon-img"})})]}),n&&(0,Db.jsxs)("div",{style:{marginTop:10,display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Db.jsx)("img",{src:n,alt:a("order.ticket_alt"),style:{width:46,height:46,borderRadius:10,objectFit:"cover",border:"1px solid #e5e7eb"}}),(0,Db.jsx)("span",{style:{marginInlineStart:8,fontSize:12,color:"#6b7280"},children:a("order.ticket_image_title")})]}),(0,Db.jsxs)("div",{className:"upload-or-separator",children:[(0,Db.jsx)("span",{className:"line"}),(0,Db.jsx)("span",{className:"or",children:a("order.or")}),(0,Db.jsx)("span",{className:"line"})]})]})},F_=t=>{let{orderTotal:n=0,deliveryFee:r=0,tipData:o={amount:0,percentage:0},finalTotal:i=0,deliveryType:s=null}=t;const{t:a,lang:l}=rw(),[,c]=e.useReducer(e=>e+1,0);(0,e.useEffect)(()=>{console.log("\ud83c\udf10 OrderSummary language:",l),console.log("\ud83c\udf10 Delivery translation:",a("cart.delivery")),c()},[l,a]);const u=()=>{const e=Lk.getCartItems();return e.length>0&&e[0].currency||"ILS"},d="inside"===s||"outside"===s||r>0;return(0,Db.jsxs)("div",{className:"order-summary-section",children:[(0,Db.jsx)("h2",{className:"section-title",children:a("order.summary_title")}),(0,Db.jsxs)("div",{className:"summary-row",children:[(0,Db.jsx)("span",{className:"summary-label",children:a("order.subtotal")}),(0,Db.jsx)("span",{className:"summary-value",children:(0,gk.formatPriceWithCurrency)(n,u())})]}),d&&(0,Db.jsxs)("div",{className:"summary-row",children:[(0,Db.jsx)("span",{className:"summary-label",children:a("cart.delivery")}),(0,Db.jsx)("span",{className:"summary-value",children:(0,gk.formatPriceWithCurrency)(r,u())})]}),(0,Db.jsxs)("div",{className:"summary-row",children:[(0,Db.jsx)("span",{className:"summary-label",children:a("order.tip")}),(0,Db.jsx)("span",{className:"summary-value",children:(0,gk.formatPriceWithCurrency)(o.amount,u())})]}),(0,Db.jsxs)("div",{className:"summary-row total",children:[(0,Db.jsx)("span",{className:"summary-label",children:a("order.total")}),(0,Db.jsx)("span",{className:"summary-value",children:(0,gk.formatPriceWithCurrency)(i,u())})]})]})},U_=e=>{let{loading:t,finalTotal:n,onPlaceOrder:r}=e;const{t:o}=rw(),i=(0,gk.formatPriceWithCurrency)(n,(()=>{const e=Lk.getCartItems();return e.length>0&&e[0].currency||"ILS"})()),s=t?o("order.processing"):o("order.place_order_with_total").replace("{total}",i);return(0,Db.jsx)("div",{className:"place-order-section",children:(0,Db.jsx)("button",{className:"place-order-button",onClick:r,disabled:t,children:s})})};var z_,V_="basil",$_="https://js.stripe.com",q_="".concat($_,"/").concat(V_,"/stripe.js"),H_=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,W_=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,G_="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",K_=function(e){return H_.test(e)||W_.test(e)},Q_=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(q_).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},Y_=null,X_=null,J_=null,Z_=function(e){return null!==Y_?Y_:(Y_=new Promise(function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(G_),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat($_,'"]')),t=0;t<e.length;t++){var n=e[t];if(K_(n.src))return n}return null}();if(r&&e)console.warn(G_);else if(r){if(r&&null!==J_&&null!==X_){var o;r.removeEventListener("load",J_),r.removeEventListener("error",X_),null===(o=r.parentNode)||void 0===o||o.removeChild(r),r=Q_(e)}}else r=Q_(e);J_=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),X_=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),r.addEventListener("load",J_),r.addEventListener("error",X_)}catch(i){return void n(i)}else t(null)})).catch(function(e){return Y_=null,Promise.reject(e)})},eS=!1,tS=function(){return z_||(z_=Z_(null).catch(function(e){return z_=null,Promise.reject(e)}))};Promise.resolve().then(function(){return tS()}).catch(function(e){eS||console.warn(e)});var nS=n(173);function rS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rS(Object(n),!0).forEach(function(t){sS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iS(e){return iS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iS(e)}function sS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aS(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function lS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return cS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uS=function(t,n,r){var o=!!r,i=e.useRef(r);e.useEffect(function(){i.current=r},[r]),e.useEffect(function(){if(!o||!t)return function(){};var e=function(){i.current&&i.current.apply(i,arguments)};return t.on(n,e),function(){t.off(n,e)}},[o,n,t,i])},dS=function(t){var n=e.useRef(t);return e.useEffect(function(){n.current=t},[t]),n.current},hS=function(e){return null!==e&&"object"===iS(e)},fS="[object Object]",pS=function e(t,n){if(!hS(t)||!hS(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var o=Object.prototype.toString.call(t)===fS;if(o!==(Object.prototype.toString.call(n)===fS))return!1;if(!o&&!r)return t===n;var i=Object.keys(t),s=Object.keys(n);if(i.length!==s.length)return!1;for(var a={},l=0;l<i.length;l+=1)a[i[l]]=!0;for(var c=0;c<s.length;c+=1)a[s[c]]=!0;var u=Object.keys(a);if(u.length!==i.length)return!1;var d=t,h=n;return u.every(function(t){return e(d[t],h[t])})},mS=function(e,t,n){return hS(e)?Object.keys(e).reduce(function(r,o){var i=!hS(t)||!pS(e[o],t[o]);return n.includes(o)?(i&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),r):i?oS(oS({},r||{}),{},sS({},o,e[o])):r},null):null},gS="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",vS=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gS;if(null===e||hS(t=e)&&"function"===typeof t.elements&&"function"===typeof t.createToken&&"function"===typeof t.createPaymentMethod&&"function"===typeof t.confirmCardPayment)return e;throw new Error(n)},yS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gS;if(function(e){return hS(e)&&"function"===typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return vS(e,t)})};var n=vS(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},bS=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"4.0.0"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},wS=e.createContext(null);wS.displayName="ElementsContext";var kS=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},_S=function(t){var n=t.stripe,r=t.options,o=t.children,i=e.useMemo(function(){return yS(n)},[n]),s=lS(e.useState(function(){return{stripe:"sync"===i.tag?i.stripe:null,elements:"sync"===i.tag?i.stripe.elements(r):null}}),2),a=s[0],l=s[1];e.useEffect(function(){var e=!0,t=function(e){l(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==i.tag||a.stripe?"sync"!==i.tag||a.stripe||t(i.stripe):i.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[i,a,r]);var c=dS(n);e.useEffect(function(){null!==c&&c!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[c,n]);var u=dS(r);return e.useEffect(function(){if(a.elements){var e=mS(r,u,["clientSecret","fonts"]);e&&a.elements.update(e)}},[r,u,a.elements]),e.useEffect(function(){bS(a.stripe)},[a.stripe]),e.createElement(wS.Provider,{value:a},o)};_S.propTypes={stripe:nS.any,options:nS.object};var SS=function(t){var n=e.useContext(wS);return kS(n,t)};nS.func.isRequired;var CS=e.createContext(null);CS.displayName="CheckoutContext",nS.any,nS.shape({fetchClientSecret:nS.func.isRequired,elementsOptions:nS.object}).isRequired;var ES=function(t){var n=e.useContext(CS),r=e.useContext(wS);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}return kS(r,t)},xS=["mode"],IS=function(t,n){var r,o="".concat((r=t).charAt(0).toUpperCase()+r.slice(1),"Element"),i=n?function(t){ES("mounts <".concat(o,">"));var n=t.id,r=t.className;return e.createElement("div",{id:n,className:r})}:function(n){var r,i=n.id,s=n.className,a=n.options,l=void 0===a?{}:a,c=n.onBlur,u=n.onFocus,d=n.onReady,h=n.onChange,f=n.onEscape,p=n.onClick,m=n.onLoadError,g=n.onLoaderStart,v=n.onNetworksChange,y=n.onConfirm,b=n.onCancel,w=n.onShippingAddressChange,k=n.onShippingRateChange,_=n.onSavedPaymentMethodRemove,S=n.onSavedPaymentMethodUpdate,C=ES("mounts <".concat(o,">")),E="elements"in C?C.elements:null,x="checkoutState"in C?C.checkoutState:null,I="success"===(null===x||void 0===x?void 0:x.type)?x.checkout:null,N=lS(e.useState(null),2),P=N[0],T=N[1],A=e.useRef(null),j=e.useRef(null);uS(P,"blur",c),uS(P,"focus",u),uS(P,"escape",f),uS(P,"click",p),uS(P,"loaderror",m),uS(P,"loaderstart",g),uS(P,"networkschange",v),uS(P,"confirm",y),uS(P,"cancel",b),uS(P,"shippingaddresschange",w),uS(P,"shippingratechange",k),uS(P,"savedpaymentmethodremove",_),uS(P,"savedpaymentmethodupdate",S),uS(P,"change",h),d&&(r="expressCheckout"===t?d:function(){d(P)}),uS(P,"ready",r),e.useLayoutEffect(function(){if(null===A.current&&null!==j.current&&(E||I)){var e=null;if(I)switch(t){case"payment":e=I.createPaymentElement(l);break;case"address":if(!("mode"in l))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var n=l.mode,r=aS(l,xS);if("shipping"===n)e=I.createShippingAddressElement(r);else{if("billing"!==n)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");e=I.createBillingAddressElement(r)}break;case"expressCheckout":e=I.createExpressCheckoutElement(l);break;case"currencySelector":e=I.createCurrencySelectorElement();break;case"taxId":e=I.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(o,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else E&&(e=E.create(t,l));A.current=e,T(e),e&&e.mount(j.current)}},[E,I,l]);var R=dS(l);return e.useEffect(function(){if(A.current){var e=mS(l,R,["paymentRequest"]);e&&"update"in A.current&&A.current.update(e)}},[l,R]),e.useLayoutEffect(function(){return function(){if(A.current&&"function"===typeof A.current.destroy)try{A.current.destroy(),A.current=null}catch(e){}}},[]),e.createElement("div",{id:i,className:s,ref:j})};return i.propTypes={id:nS.string,className:nS.string,onChange:nS.func,onBlur:nS.func,onFocus:nS.func,onReady:nS.func,onEscape:nS.func,onClick:nS.func,onLoadError:nS.func,onLoaderStart:nS.func,onNetworksChange:nS.func,onConfirm:nS.func,onCancel:nS.func,onShippingAddressChange:nS.func,onShippingRateChange:nS.func,onSavedPaymentMethodRemove:nS.func,onSavedPaymentMethodUpdate:nS.func,options:nS.object},i.displayName=o,i.__elementType=t,i},NS="undefined"===typeof window,PS=e.createContext(null);PS.displayName="EmbeddedCheckoutProviderContext";IS("auBankAccount",NS);var TS=IS("card",NS),AS=(IS("cardNumber",NS),IS("cardExpiry",NS),IS("cardCvc",NS),IS("fpxBank",NS),IS("iban",NS),IS("idealBank",NS),IS("p24Bank",NS),IS("epsBank",NS),IS("payment",NS),IS("expressCheckout",NS),IS("paymentRequestButton",NS));IS("linkAuthentication",NS),IS("address",NS),IS("shippingAddress",NS),IS("paymentMethodMessaging",NS),IS("affirmMessage",NS),IS("afterpayClearpayMessage",NS),IS("taxId",NS);console.log("[DEBUG] REACT_APP_STRIPE_PUBLISHABLE_KEY:","pk_live_51RyfgTKj6LjssenCRD0rqWZWYdUcE2xtwcU2afFVpJsUREwjPeQT2nSzxNp4nz1qJ0hnajJiu1dDZd7IS4mqeNr500L4qiCfaz");const jS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];eS=!0;var r=Date.now();return tS().then(function(e){return function(e,t,n){if(null===e)return null;var r=t[0].match(/^pk_test/),o=function(e){return 3===e?"v3":e}(e.version),i=V_;r&&o!==i&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(i,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})}(s,n),s}(e,t,r)})}("pk_live_51RyfgTKj6LjssenCRD0rqWZWYdUcE2xtwcU2afFVpJsUREwjPeQT2nSzxNp4nz1qJ0hnajJiu1dDZd7IS4mqeNr500L4qiCfaz"),RS=(0,e.forwardRef)((t,n)=>{let{intentId:r,clientSecret:o,onConfirmed:i,totalAmount:s,currency:a="ils",isFormValid:l=!0,onWalletPaymentSuccess:c,validateBeforeWalletPay:u}=t;const d=ES("calls useStripe()").stripe,h=SS("calls useElements()").elements,[f,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(null),{t:v}=rw();console.log("[DEBUG] CardForm - stripe:",!!d,"elements:",!!h),(0,e.useEffect)(()=>{let e=!0;return(async()=>{try{if(console.log("[DEBUG] Payment Request - stripe:",!!d,"clientSecret:",!!o,"totalAmount:",s),!d||!o||!s)return void console.log("[DEBUG] Payment Request - missing requirements, skipping");console.log("[DEBUG] Building payment request with amount:",s,"currency:",a);const t=await async function(e){let{amount:t,currency:n="ils",country:r="US",label:o="Order",requestPayerName:i=!0,requestPayerEmail:s=!0,requestPayerPhone:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(!e||!t||t<=0)return console.log("[DEBUG] buildPaymentRequest validation failed - stripe:",!!e,"amount:",t),null;const l=(n||"ils").toLowerCase();console.log("[DEBUG] paymentRequest config:",{country:r,currency:l,amount:t});const c=e.paymentRequest({country:r,currency:l,total:{label:o,amount:Math.round(100*Number(t))||0},requestPayerName:i,requestPayerEmail:s,requestPayerPhone:a}),u=await c.canMakePayment();return console.log("[DEBUG] canMakePayment result:",u),u?(console.log("[DEBUG] Payment Request created successfully"),c):(console.log("[DEBUG] Payment Request not available - no Apple Pay/Google Pay support"),null)}catch(EC){return console.warn("[stripePaymentRequest] Failed to build payment request:",(null===EC||void 0===EC?void 0:EC.message)||EC),null}}(d,{amount:s,currency:a,label:"Fan Munch Order"});if(console.log("[DEBUG] Payment Request result:",!!t),!e||!t)return;t.on("paymentmethod",async e=>{try{if("function"===typeof u){if(!await u())return void e.complete("fail")}console.log("[STRIPE WALLET] Payment method selected:",{type:e.paymentMethod.type,id:e.paymentMethod.id,card:e.paymentMethod.card});const{error:n,paymentIntent:r}=await d.confirmCardPayment(o,{payment_method:e.paymentMethod.id});if(console.log("[STRIPE WALLET] Payment confirmation response:",{error:n?{type:n.type,code:n.code,message:n.message,decline_code:n.decline_code}:null,paymentIntent:r?{id:r.id,status:r.status,amount:r.amount,currency:r.currency}:null}),n)e.complete("fail"),Fk(`${v("order.payment_failed_generic")} ${n.message||""}`.trim(),"error",4e3);else if("succeeded"===(null===r||void 0===r?void 0:r.status)){if(e.complete("success"),Fk(v("order.processing_full"),"success",2500),c)try{await c()}catch(t){const e=(null===t||void 0===t?void 0:t.message)||v("order.unknown_error");t&&"VALIDATION"===t.code?Fk(e,"error",8e3):Fk(`${v("order.wallet_payment_succeeded_order_failed_prefix")} ${e}. ${v("order.contact_support")}`,"error",8e3)}i&&i({intentId:r.id,status:"SUCCEEDED"})}else"requires_action"===(null===r||void 0===r?void 0:r.status)?(e.complete("success"),Fk(v("order.additional_auth_required"),"info",3500)):(e.complete("fail"),Fk(`${v("order.payment_status")}: ${(null===r||void 0===r?void 0:r.status)||v("order.unknown")}`,"warning",3e3))}catch(n){console.error("[STRIPE WALLET] Payment error:",n),e.complete("fail"),Fk(`${v("order.payment_error")}: ${n.message}`,"error",4e3)}}),g(t)}catch(t){}})(),()=>{e=!1}},[d,o,s,a,c,i,u,v]);(0,e.useImperativeHandle)(n,()=>({confirm:async()=>await(async()=>{if(!d||!h||!o)return Fk("Stripe not ready or missing payment intent","error",3e3),{ok:!1,error:"Stripe not ready"};p(!0);try{var e,t;const n=h.getElement(TS);console.log("[STRIPE CARD] Attempting payment confirmation with clientSecret:",(null===o||void 0===o?void 0:o.substring(0,20))+"...");const{error:r,paymentIntent:s}=await d.confirmCardPayment(o,{payment_method:{card:n}});return console.log("[STRIPE CARD] Payment confirmation response:",{error:r?{type:r.type,code:r.code,message:r.message,decline_code:r.decline_code}:null,paymentIntent:s?{id:s.id,status:s.status,amount:s.amount,currency:s.currency,charges:null===(e=s.charges)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map(e=>({id:e.id,amount:e.amount,currency:e.currency,status:e.status,outcome:e.outcome,fee_details:e.fee_details}))}:null}),r?(console.error("[Stripe] Payment confirmation error:",r),Fk(`Payment failed: ${r.message}`,"error",4e3),{ok:!1,error:r.message,status:"FAILED"}):"succeeded"===s.status?(Fk("Payment successful!","success",2500),i&&i({intentId:s.id,status:"SUCCEEDED"}),{ok:!0,status:"SUCCEEDED",intentId:s.id}):"requires_action"===s.status?(Fk("Additional authentication required","info",3500),{ok:!1,status:"REQUIRES_ACTION",intentId:s.id}):(Fk(`Payment status: ${s.status}`,"warning",3e3),{ok:!1,status:s.status,intentId:s.id})}catch(n){return console.error("[Stripe] Confirmation error:",n),Fk(`Payment error: ${n.message}`,"error",4e3),{ok:!1,error:n.message,status:"ERROR"}}finally{p(!1)}})(),isReady:()=>Boolean(d&&h&&o)}));return d&&h?(0,Db.jsxs)("div",{style:{padding:16,margin:"16px 0",border:"1px solid #e5e7eb",borderRadius:8,background:"#fff"},children:[(0,Db.jsx)("div",{style:{fontWeight:600,marginBottom:12},children:v("order.card_payment_title")}),m&&(0,Db.jsxs)("div",{style:{marginBottom:12},children:[(0,Db.jsx)(AS,{options:{paymentRequest:m}}),(0,Db.jsx)("div",{style:{fontSize:12,color:"#6b7280",marginTop:6,fontWeight:"bold"},children:"Or pay with card"})]}),(0,Db.jsx)("div",{style:{padding:"16px",border:"2px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#ffffff",marginBottom:"8px",minHeight:"44px",display:"flex",alignItems:"center",width:"100%"},children:(0,Db.jsx)("div",{style:{width:"100%"},children:(0,Db.jsx)(TS,{options:{style:{base:{fontSize:"16px",color:"#424770",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"},complete:{color:"#424770"}},hidePostalCode:!1}})})}),(0,Db.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:"Enter your card details above. All payments are processed securely through Stripe."}),f&&(0,Db.jsx)("div",{style:{fontSize:14,color:"#6b7280",textAlign:"center"},children:"Processing payment..."})]}):(0,Db.jsxs)("div",{style:{padding:16,margin:"16px 0",border:"1px solid #e5e7eb",borderRadius:8,background:"#fff"},children:[(0,Db.jsx)("div",{style:{fontWeight:600,marginBottom:12},children:v("order.card_payment_title")}),(0,Db.jsx)("div",{style:{fontSize:14,color:"#6b7280",textAlign:"center",padding:"20px"},children:"Loading Stripe payment form..."})]})}),DS=(0,e.forwardRef)((t,n)=>{let{intentId:r,clientSecret:o,mode:i,showConfirmButton:s=!1,onConfirmed:a,totalAmount:l,currency:c="ils",isFormValid:u=!0,onWalletPaymentSuccess:d,validateBeforeWalletPay:h}=t;const f=(0,e.useRef)();return(0,e.useImperativeHandle)(n,()=>({async confirm(){var e;return null===(e=f.current)||void 0===e?void 0:e.confirm()},isReady(){var e;return null===(e=f.current)||void 0===e?void 0:e.isReady()}})),jS?(0,Db.jsx)(_S,{stripe:jS,children:(0,Db.jsx)(RS,{ref:f,intentId:r,clientSecret:o,totalAmount:l,currency:c,onConfirmed:a,isFormValid:u,onWalletPaymentSuccess:d,validateBeforeWalletPay:h})}):(0,Db.jsxs)("div",{style:{padding:16,margin:"16px 0",border:"1px solid #fecaca",borderRadius:8,background:"#fef2f2"},children:[(0,Db.jsx)("div",{style:{color:"#dc2626",fontWeight:600},children:"Stripe Configuration Missing"}),(0,Db.jsxs)("div",{style:{color:"#7f1d1d",fontSize:14,marginTop:4},children:["Please add your Stripe publishable key to the .env file:",(0,Db.jsx)("br",{}),(0,Db.jsx)("code",{style:{background:"#f3f4f6",padding:"2px 4px",borderRadius:3},children:"REACT_APP_STRIPE_PUBLISHABLE_KEY=pk_test_your_key_here"})]})]})});async function OS(e){var t,r,o,i;let{formData:s,tipData:a,ticketImage:l,customerLocation:c,finalTotal:u,notifyDelivery:d=!1,strictShopAvailability:h=!1,customerPhone:f,deliveryMethod:p="delivery",pickupPointId:m=null,deliveryType:g=null,deliveryLocation:v=null,deliveryNotes:y=null}=e;const b=pt.getUserData(),w={...b,phone:f||(null===b||void 0===b?void 0:b.phone)},k=mt.getSelectedStadium(),_=Lk.getCartItems(),S="inside"===g||"outside"===g;console.log("\ud83d\udd0d [VALIDATION] deliveryType:",g),console.log("\ud83d\udd0d [VALIDATION] usingInsideOutsideDelivery:",S);const C="delivery"===p&&!(null===k||void 0===k||!k.availableSeats)&&!S,E="delivery"===p&&!1!==(null===k||void 0===k?void 0:k.availableSections)&&!S,x="delivery"===p&&!(null===k||void 0===k||!k.availableFloors)&&!S,I="delivery"===p&&!(null===k||void 0===k||!k.availableRooms)&&!S,N="pickup"===p&&!(null===k||void 0===k||!k.availablePickupPoints);if(console.log("\ud83d\udd0d [VALIDATION] requireRooms:",I),N&&!m)throw new Error("Please select a pickup point");if(C){if(null===s||void 0===s||!s.row||!String(s.row).trim())throw new Error("Row number is required");if(null===s||void 0===s||!s.seatNo||!String(s.seatNo).trim())throw new Error("Seat number is required")}if(E&&(null===s||void 0===s||!s.sectionId||!String(s.sectionId).trim()))throw new Error("Section is required");if(x){if(("number"===typeof(null===k||void 0===k?void 0:k.floors)?k.floors:parseInt(null===k||void 0===k?void 0:k.floors,10)||0)>0&&(null===s||void 0===s||!s.floor||!String(s.floor).trim()))throw new Error("Floor is required")}if(I&&(null===s||void 0===s||!s.room||!String(s.room).trim()))throw new Error("Room is required");if(!b)throw new Error("User data not found. Please log in again.");if(!k)throw new Error("Stadium data not found. Please select a stadium.");if(!_||0===_.length)throw new Error("Cart is empty. Please add items to cart.");console.log("\ud83d\udd0d [PLACE ORDER] formData received:",s);const P={row:s.row,seatNo:s.seatNo,section:s.section,sectionId:s.sectionId,floor:s.floor||"",room:s.room||"",seatDetails:s.seatDetails||y||"",area:s.area,entrance:s.entrance,stand:s.stand,ticketImage:l||""};console.log("\ud83d\udd0d [PLACE ORDER] seatInfo created:",P);const T=[];_.forEach(e=>{const t=void 0!==e.shopId&&null!==e.shopId?String(e.shopId).trim():"";t&&T.push(t),Array.isArray(e.shopIds)&&e.shopIds.forEach(e=>{const t=void 0!==e&&null!==e?String(e).trim():"";t&&T.push(t)})});const A=[...new Set(T)];let j=null;if(console.log("\ud83d\uded2 [SHOP SELECTION] Unique shop IDs in cart:",A),console.log(`\ud83d\uded2 [SHOP SELECTION] Context: method=${p}, type=${g}`),("inside"===g||"outside"===g)&&A.length>0)j=A[0],console.log(`\ud83d\uded2 [SHOP SELECTION] Pro-actively using cart shop for ${g} delivery: ${j}`);else if(1===A.length)j=A[0],console.log(`\ud83d\uded2 [SHOP SELECTION] Found exactly one shop in cart: ${j}`);else try{if(console.log(`\ud83d\udd0d [SHOP SELECTION] Resolving shop from section: "${(null===s||void 0===s?void 0:s.sectionId)||""}" stand: "${(null===s||void 0===s?void 0:s.stand)||""}"`),j=await async function(e,t,n,r){if(!e||!t)return null;try{const i=Eh(Cb,"stadiums",e,"sections",t),s=await Af(i);if(!s.exists())return null;const a=s.data()||{},l=Array.isArray(a.shops)?a.shops:[];if(0===l.length){if(n)throw new Error("No shop is assigned to the selected section.");return null}const c=[];console.log(`\ud83d\udd0d [SHOP SELECTION] Checking availability for ${l.length} shops in section ${t}`),console.log("\ud83d\udccb [SHOP SELECTION] Original shops array:",l);for(let e=0;e<l.length;e++){const t=l[e];try{const n=Eh(Cb,"shops",t),r=await Af(n);if(r.exists()){const n=r.data();console.log(`\ud83d\udd0d [SHOP SELECTION] Shop ${t} (index ${e}):`,{name:n.name,availability:n.shopAvailability,isAvailable:!0===n.shopAvailability}),!0===n.shopAvailability?(c.push(t),console.log(`\u2705 [SHOP SELECTION] Shop ${t} (index ${e}) is AVAILABLE - added to list`)):console.log(`\u274c [SHOP SELECTION] Shop ${t} (index ${e}) is NOT available - skipped`)}else console.log(`\u274c [SHOP SELECTION] Shop ${t} (index ${e}) does not exist in Firestore`)}catch(o){console.warn(`\u26a0\ufe0f [SHOP SELECTION] Error checking shop ${t} (index ${e}):`,o)}}if(console.log("\ud83d\udcca [SHOP SELECTION] Available shops after filtering:",c),console.log(`\ud83c\udfaf [SHOP SELECTION] User selected stand: ${r}`),0===c.length){if(n)throw new Error("No available shops found in the selected section.");return null}let u;if("Gallery"===r){const e=l[l.length-1];c.includes(e)?(u=e,console.log("\ud83c\udfdf\ufe0f [SHOP SELECTION] Gallery stand selected:"),console.log(`   \u2192 Gallery shop (last in original) is AVAILABLE: ${e}`),console.log(`   \u2192 Selected shop ID: ${u}`)):(u=c[0],console.log("\ud83c\udfdf\ufe0f [SHOP SELECTION] Gallery stand selected:"),console.log(`   \u2192 Gallery shop (last in original) is CLOSED: ${e}`),console.log(`   \u2192 Falling back to first available shop: ${u}`),console.log("\u26a0\ufe0f [SHOP SELECTION] Gallery shop unavailable, using first available shop"))}else u=c[0],console.log("\ud83c\udfdf\ufe0f [SHOP SELECTION] Main stand selected:"),console.log(`   \u2192 Available shops count: ${c.length}`),console.log("   \u2192 Selected index: 0 (first available)"),console.log(`   \u2192 Selected shop ID: ${u}`);if(console.log("\ud83c\udfaf [SHOP SELECTION] FINAL RESULT:"),console.log(`   \u2192 User stand: ${r}`),console.log(`   \u2192 Original shops: ${JSON.stringify(l)}`),console.log(`   \u2192 Available shops: ${JSON.stringify(c)}`),console.log(`   \u2192 Selected shop: ${u}`),"Gallery"===r){const e=l[l.length-1],t=c.includes(e);console.log("   \u2192 Selection logic: Gallery stand - "+(t?"Gallery shop available":"Gallery shop closed, using first available"))}else console.log("   \u2192 Selection logic: Main stand - first available shop");return String(u)}catch(EC){if(n)throw EC;return null}}(k.id,null===s||void 0===s?void 0:s.sectionId,!1,null===s||void 0===s?void 0:s.stand),!j&&A.length>0&&(j=A[0],console.log(`\ud83d\uded2 [SHOP SELECTION] Section resolution failed/skipped, falling back to cart shop: ${j}`)),!j&&h)throw new Error("No shop is assigned to the selected section. Please choose a different section.")}catch(EC){if(!(A.length>0))throw EC;j=A[0],console.log(`\ud83d\uded2 [SHOP SELECTION] Error in resolution, using cart shop fallback: ${j}`)}if(!j)throw new Error("Unable to determine the shop for this order. Please try again or re-add items to your cart.");let R=null;try{const e=Eh(Cb,"shops",j),t=await Af(e);t.exists()&&(R=t.data())}catch(q){console.error("\u274c [ORDER] Failed to fetch shop data:",q)}let D=0,O="ILS";if("pickup"===p)D=0,console.log("\ud83d\ude97 [ORDER] Pickup mode - fee 0");else if("inside"===g&&null!==(t=R)&&void 0!==t&&null!==(r=t.insideDelivery)&&void 0!==r&&r.enabled){const e=_.reduce((e,t)=>e+(t.quantity||1),0),t=R.insideDelivery.fee||0;D=t*e,O=R.insideDelivery.currency||"ILS",console.log(`\ud83c\udfdf\ufe0f [ORDER] Inside delivery - fee ${t} x ${e} items = ${D} ${O}`)}else if("outside"===g&&null!==(o=R)&&void 0!==o&&null!==(i=o.outsideDelivery)&&void 0!==i&&i.enabled)D=R.outsideDelivery.fee||0,O=R.outsideDelivery.currency||"ILS",console.log(`\ud83c\udf0d [ORDER] Outside delivery - fee ${D} ${O}`);else{var L,B;D=(null===(L=R)||void 0===L?void 0:L.deliveryFee)||0,O=(null===(B=R)||void 0===B?void 0:B.deliveryFeeCurrency)||"ILS",console.log(`\ud83d\udce6 [ORDER] Traditional delivery - fee ${D} ${O}`)}const M=_.length>0&&_[0].currency||"ILS";let F=D;if(O!==M){const{convertPrice:e}=n(439);F=e(D,O).convertedPrice,console.log(`\ud83d\udcb1 [ORDER] Fee converted to cart currency: ${F} ${M}`)}const U=Rk.calculateOrderTotals(_,F,(null===a||void 0===a?void 0:a.amount)||0,0);let z={};if(("inside"===g||"outside"===g)&&R){const e="inside"===g?R.insideDelivery:R.outsideDelivery;if(e&&e.enabled){let t=null;e.locations&&Array.isArray(e.locations)&&(t=e.locations.find(e=>("string"===typeof e?e:e.name)===v));const n="inside"===g?"insideDelivery":"outsideDelivery";let r=t||v;if("manual_delivery_entry"===v){const e=[];s.room&&e.push(`Room: ${s.room}`),s.floor&&e.push(`Floor: ${s.floor}`),s.section&&e.push(`Section: ${s.section}`),r=e.length>0?e.join(", "):"Manual Entry"}z[n]={fee:e.fee,currency:e.currency,location:r,notes:y||""},console.log(`\ud83d\udce6 [ORDER] ${n} config:`,z[n])}}const V=Ak.createFromCart({cartItems:_,subtotal:U.subtotal,deliveryFee:U.deliveryFee,discount:U.discount,tipAmount:U.tipAmount,tipPercentage:(null===a||void 0===a?void 0:a.percentage)||0,userData:w,seatInfo:P,stadiumId:k.id,shopId:j,customerLocation:c,location:null,deliveryUserId:"",deliveryMethod:p,pickupPointId:m,deliveryType:g||"",...z}),$=await Rk.createOrder(V);return Lk.clearCart(),localStorage.removeItem("selectedTip"),$}function LS(e){if(null==e)return"";let t=String(e).trim();const n=t.startsWith("+");return t=t.replace(/[^0-9]/g,""),n&&(t=`+${t}`),t}function BS(e){const t=LS(e);if(!t)return!1;const n=(t.startsWith("+")?t.slice(1):t).replace(/\D/g,"").length;return n>=6&&n<=16}async function MS(e,t){if(!e)return{saved:!1};const n=LS(t);try{const t=Eh(Cb,"customers",e),r=await Af(t);if(!r.exists())return{saved:!1};const o=r.data()||{};return LS(o.phone||o.userPhoneNo||"")?{saved:!1}:(await Of(t,{phone:n}),{saved:!0})}catch(EC){return console.warn("[phoneHelper] saveCustomerPhoneIfMissing error:",EC),{saved:!1}}}var FS=n(361),US=n.n(FS);const zS=t=>{let{onScanSuccess:n,onClose:r,visible:o}=t;const i=(0,e.useRef)(null),s=(0,e.useRef)(null),a=(0,e.useRef)(null),[l,c]=(0,e.useState)(!1),u=(0,e.useRef)(!1),[d,h]=(0,e.useState)(null),f=(0,e.useRef)(null),[p,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)("idle"),[y,b]=(0,e.useState)({fps:0,vw:0,vh:0,cw:0,ch:0,tw:0,th:0}),w=(0,e.useRef)(performance.now()),k=(0,e.useRef)(0);(0,e.useRef)(!1);(0,e.useEffect)(()=>(o?_():C(),()=>C()),[o]);const _=async()=>{try{let t;try{t=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"},width:{ideal:1920},height:{ideal:1080}}})}catch(e){t=await navigator.mediaDevices.getUserMedia({video:!0})}if(i.current){const e=i.current;e.setAttribute("playsinline","true"),e.setAttribute("webkit-playsinline","true"),e.setAttribute("muted","true"),e.setAttribute("autoplay","true"),e.srcObject=t,h(t);const n=async t=>{console.info(`[QR DEBUG] ${t} fired. readyState=${e.readyState}, dims=${e.videoWidth}x${e.videoHeight}`);try{await e.play()}catch(EC){console.warn("[QR DEBUG] video.play() blocked, will continue polling",EC)}S(e)};e.onloadedmetadata=()=>n("loadedmetadata"),e.onloadeddata=()=>n("loadeddata"),e.oncanplay=()=>n("canplay"),e.onresize=()=>n("resize"),e.readyState>=1&&n("immediate")}}catch(t){console.error("Camera access failed:",t),Fk("Camera access denied. Please allow camera permission.","error",4e3)}},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=e.videoWidth||0,r=e.videoHeight||0;return n>0&&r>0?(console.info(`[QR DEBUG] Dimensions ready: ${n}x${r}. Starting scan loop.`),c(!0),u.current=!0,void(f.current||(f.current=requestAnimationFrame(E)))):t>50?(console.warn("[QR DEBUG] Dimensions still 0 after retries. Will keep running loop anyway."),c(!0),u.current=!0,void(f.current||(f.current=requestAnimationFrame(E)))):(v("warming-up"),void setTimeout(()=>S(e,t+1),50))},C=()=>{d&&(d.getTracks().forEach(e=>e.stop()),h(null)),f.current&&(cancelAnimationFrame(f.current),f.current=null),c(!1),u.current=!1},E=()=>{var e,t;if(!i.current||!s.current)return void console.warn("[QR DEBUG] scanForQrCode: missing refs, stopping");if(!u.current)return void console.warn("[QR DEBUG] scanForQrCode: isScanningRef=false, stopping");const n=i.current,r=s.current,o=r.getContext("2d",{willReadFrequently:!0}),l=null===d||void 0===d||null===(e=d.getVideoTracks)||void 0===e?void 0:e.call(d)[0],c=(null===l||void 0===l||null===(t=l.getSettings)||void 0===t?void 0:t.call(l))||{},h=c.width||0,m=c.height||0;if(console.log("[QR DEBUG] scanForQrCode tick, isScanningRef=",u.current,"dims=",n.videoWidth,"x",n.videoHeight),(n.videoWidth||0)>0&&(n.videoHeight||0)>0){const e=n.videoWidth||640,t=n.videoHeight||480;r.width=e,r.height=t,o.drawImage(n,0,0,e,t);let i=o.getImageData(0,0,r.width,r.height),s=x(i);if(!s){const a=Math.min(e,t),l=Math.max(0,Math.floor((e-a)/2)),c=Math.max(0,Math.floor((t-a)/2));r.width=a,o.drawImage(n,l,c,a,a,0,0,a,a),i=o.getImageData(0,0,a,a),s=x(i)}if(p&&a.current)try{const e=a.current.getContext("2d");if(a.current.width=r.width,a.current.height=r.height,e.drawImage(r,0,0),p&&"object"===typeof s&&s.location){const t=s.location,n=(t,n,r)=>{e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.lineWidth=3,e.strokeStyle=r,e.stroke()};n(t.topLeftCorner,t.topRightCorner,"#22c55e"),n(t.topRightCorner,t.bottomRightCorner,"#22c55e"),n(t.bottomRightCorner,t.bottomLeftCorner,"#22c55e"),n(t.bottomLeftCorner,t.topLeftCorner,"#22c55e")}}catch(EC){}k.current+=1;const l=performance.now(),c=l-w.current;if(c>=1e3){const n=Math.round(1e3*k.current/c);k.current=0,w.current=l,b({fps:n,vw:e,vh:t,cw:r.width,ch:r.height,tw:h,th:m}),p&&console.info(`[QR DEBUG] fps=${n} video=${e}x${t} track=${h}x${m} canvas=${r.width}x${r.height}`)}if(s)return v("detected"),void I("object"===typeof s?s.data:s)}u.current?f.current=requestAnimationFrame(E):console.warn("[QR DEBUG] Not continuing RAF, isScanningRef=false")},x=e=>{try{const t=US()(e.data,e.width,e.height,{inversionAttempts:"attemptBoth"});return t?(console.log("\ud83c\udfaf QR Code detected:",t.data),t):null}catch(t){return console.warn("QR detection error:",t),null}},I=e=>{try{let t,r;console.log("Processing QR data:",e);try{t=new URL(e),r=new URLSearchParams(t.search)}catch{try{r=new URLSearchParams(e)}catch{return void console.warn("Could not parse QR data as URL or query string")}}if(t){if(!["fanmunch.com","www.fanmunch.com","localhost"].some(e=>t.hostname===e||t.hostname.includes(e)))return void console.warn("QR code contains invalid domain:",t.hostname)}const o={row:r.get("row")||"",seatNo:r.get("seat")||r.get("seatNo")||"",section:r.get("section")||"",sectionId:r.get("sectionId")||"",entrance:r.get("entrance")||r.get("gate")||"",stand:r.get("stand")||"",seatDetails:r.get("details")||r.get("seatDetails")||"",area:r.get("area")||""};Object.values(o).some(e=>e&&""!==String(e).trim())&&(C(),n(o),Fk("QR code scanned successfully!","success",2e3))}catch(t){console.warn("Failed to parse QR data:",t)}};return o?(0,Db.jsxs)("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.9)",zIndex:1e3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px"},children:[(0,Db.jsxs)("div",{style:{color:"white",textAlign:"center",marginBottom:"20px"},children:[(0,Db.jsx)("h2",{style:{margin:"0 0 8px 0",fontSize:"1.5rem"},children:"Scan QR Code"}),(0,Db.jsx)("p",{style:{margin:0,opacity:.8},children:"Point your camera at the QR code"})]}),(0,Db.jsx)("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",color:"white",background:"detected"===g?"rgba(34,197,94,0.9)":"rgba(59, 130, 246, 0.9)",padding:"12px 20px",borderRadius:"25px",fontSize:"14px",fontWeight:"600",textAlign:"center",maxWidth:"280px",lineHeight:"1.4"},children:"detected"===g?"\u2705 QR Detected":"\ud83d\udcf1 Scanning for QR Codes..."}),(0,Db.jsxs)("div",{style:{position:"relative",width:"100%",maxWidth:"600px",aspectRatio:"4/3",background:"#1f2937",borderRadius:"12px",overflow:"hidden",marginBottom:"20px"},children:[(0,Db.jsx)("video",{ref:i,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(1)"}}),(0,Db.jsx)("div",{style:{position:"absolute",inset:"20px",border:"2px solid #3b82f6",borderRadius:"8px",boxShadow:"inset 0 0 0 2px rgba(59, 130, 246, 0.3)"},children:[{top:"-2px",left:"-2px"},{top:"-2px",right:"-2px"},{bottom:"-2px",left:"-2px"},{bottom:"-2px",right:"-2px"}].map((e,t)=>(0,Db.jsx)("div",{style:{position:"absolute",width:"20px",height:"20px",border:"3px solid #3b82f6",...e,...void 0!==e.top&&void 0!==e.left&&{borderRight:"none",borderBottom:"none"},...void 0!==e.top&&void 0!==e.right&&{borderLeft:"none",borderBottom:"none"},...void 0!==e.bottom&&void 0!==e.left&&{borderRight:"none",borderTop:"none"},...void 0!==e.bottom&&void 0!==e.right&&{borderLeft:"none",borderTop:"none"}}},t))})]}),(0,Db.jsx)("canvas",{ref:s,style:{display:"none"}}),p&&(0,Db.jsxs)("div",{style:{marginTop:"8px",background:"#111827",padding:"8px",borderRadius:"8px"},children:[(0,Db.jsx)("div",{style:{color:"#9CA3AF",fontSize:12,marginBottom:6},children:"Processed frame preview"}),(0,Db.jsx)("canvas",{ref:a,style:{maxWidth:320,width:"100%",borderRadius:6,border:"1px solid #374151"}})]}),(0,Db.jsx)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",justifyContent:"center"},children:(0,Db.jsx)("button",{onClick:r,style:{padding:"16px 32px",background:"#dc2626",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:"600",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)",transition:"all 0.2s ease"},onMouseOver:e=>e.target.style.background="#b91c1c",onMouseOut:e=>e.target.style.background="#dc2626",children:"Close Scanner"})}),(0,Db.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.7)",textAlign:"center",marginTop:"20px",fontSize:"14px",maxWidth:"300px"},children:(0,Db.jsx)("p",{style:{margin:0},children:"Position the QR code within the blue frame and hold steady."})})]}):null},VS=e=>{let{value:t,onChange:n,error:r,t:o}=e;return(0,Db.jsxs)("div",{className:"delivery-notes-field",children:[(0,Db.jsx)("label",{className:"delivery-notes-label",children:(null===o||void 0===o?void 0:o("order.delivery_notes"))||"Delivery Notes"}),(0,Db.jsx)("textarea",{className:"delivery-notes-textarea "+(r?"error":""),value:t,onChange:e=>n(e.target.value),placeholder:(null===o||void 0===o?void 0:o("order.delivery_notes_placeholder"))||"Add any special instructions for delivery...",rows:3}),r&&(0,Db.jsx)("div",{className:"delivery-notes-error",children:r}),(0,Db.jsx)("div",{className:"delivery-notes-hint",children:(null===o||void 0===o?void 0:o("order.delivery_notes_hint"))||"Example: Gate 3, Section A, Row 5, Seat 12"})]})},$S=e=>{var t,n;let{shopData:r,selectedType:o,onTypeChange:i,deliveryNotes:s,onNotesChange:a,notesError:l,deliveryLocation:c,onLocationChange:u,t:d,cartSubtotal:h,stadiumData:f={},formData:p={},errors:m={},onInputChange:g=()=>{},sectionsOptions:v=[]}=e;const y="manual_delivery_entry",b=null===r||void 0===r||null===(t=r.insideDelivery)||void 0===t?void 0:t.enabled,w=null===r||void 0===r||null===(n=r.outsideDelivery)||void 0===n?void 0:n.enabled;if(!b&&!w)return null;const k=e=>{const t="inside"===e?r.insideDelivery:r.outsideDelivery;if(null===t||void 0===t||!t.enabled)return!1;const n=new Date,o=`${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`,i=t.openTime||"00:00",s=t.closeTime||"23:59";return i===s||(i<s?o>=i&&o<=s:o>=i||o<=s)},_=b&&k("inside"),S=w&&k("outside"),C="inside"===o||"outside"===o,E=e=>{if("outside"===e){const e=Lk.getCartItems(),t=e.length>0&&e[0].currency||"ILS",n=((0,sw.AJ)()||{ILS:3.7,USD:1})[t]||1,r=h/n;if(console.log(`\ud83c\udf0d [MIN ORDER CHECK] Subtotal: ${h} ${t}, Rate: ${n}, In USD: ${r.toFixed(2)}`),r<50)return void Fk((null===d||void 0===d?void 0:d("order.err_outside_min_order"))||"Outside delivery requires a minimum order of $50.","error",4e3)}"inside"!==e||_?"outside"!==e||S||Fk((null===d||void 0===d?void 0:d("order.err_delivery_closed"))||"Outside delivery is currently closed.","warning",3e3):Fk((null===d||void 0===d?void 0:d("order.err_delivery_closed"))||"Inside delivery is currently closed.","warning",3e3),i(e)};return(0,Db.jsxs)("div",{className:"delivery-type-selector",children:[(0,Db.jsx)("h3",{className:"delivery-type-title",children:(null===d||void 0===d?void 0:d("order.delivery_type"))||"Delivery Type"}),(0,Db.jsxs)("div",{className:"delivery-type-options",children:[b&&(0,Db.jsxs)("button",{type:"button",className:`delivery-type-option ${"inside"===o?"selected":""} ${_?"":"closed"}`,onClick:()=>E("inside"),children:["inside"===o&&(0,Db.jsx)("div",{className:"clear-selection",onClick:e=>{e.stopPropagation(),E(null)},"aria-label":"Clear selection",children:"\u2715"}),(0,Db.jsxs)("div",{className:"delivery-type-content",children:[(0,Db.jsx)("div",{className:"delivery-type-name",children:(null===d||void 0===d?void 0:d("order.inside_delivery"))||"Inside Venue Delivery"}),!_&&(0,Db.jsx)("div",{className:"delivery-type-status closed",style:{fontSize:"10px",marginTop:"4px",opacity:.8},children:(null===d||void 0===d?void 0:d("order.closed"))||"Offline"})]})]}),w&&(0,Db.jsxs)("button",{type:"button",className:`delivery-type-option ${"outside"===o?"selected":""} ${S?"":"closed"}`,onClick:()=>E("outside"),children:["outside"===o&&(0,Db.jsx)("div",{className:"clear-selection",onClick:e=>{e.stopPropagation(),E(null)},"aria-label":"Clear selection",children:"\u2715"}),(0,Db.jsxs)("div",{className:"delivery-type-content",children:[(0,Db.jsx)("div",{className:"delivery-type-name",children:(null===d||void 0===d?void 0:d("order.outside_delivery"))||"Outside Delivery"}),!S&&(0,Db.jsx)("div",{className:"delivery-type-status closed",style:{fontSize:"10px",marginTop:"4px",opacity:.8},children:(null===d||void 0===d?void 0:d("order.closed"))||"Offline"})]})]})]}),C&&(0,Db.jsxs)(Db.Fragment,{children:[((e,t)=>{const n="inside"===o?(null===(e=r.insideDelivery)||void 0===e?void 0:e.locations)||[]:(null===(t=r.outsideDelivery)||void 0===t?void 0:t.locations)||[];return 0===n.length&&"inside"!==o?null:(0,Db.jsxs)("div",{style:{marginBottom:"20px",marginTop:"20px"},children:[(0,Db.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px",color:"#374151"},children:(null===d||void 0===d?void 0:d("order.select_location"))||"Select Location"}),(0,Db.jsxs)("select",{value:c||"",onChange:e=>u(e.target.value),style:{width:"100%",padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",cursor:"pointer",background:"#ffffff"},children:[(0,Db.jsx)("option",{value:"",children:"-- Choose a location --"}),n.map((e,t)=>{const n="string"===typeof e?e:e.name,r="string"===typeof e?e:e.name;return(0,Db.jsx)("option",{value:r,children:n},t)}),"inside"===o&&(0,Db.jsxs)("option",{value:y,children:["\u2795 ",(null===d||void 0===d?void 0:d("order.manual_location_entry"))||"Add specific room/section details"]})]})]})})(),"inside"===o&&c===y&&(0,Db.jsx)("div",{style:{marginTop:"10px",marginBottom:"20px",padding:"16px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:(0,Db.jsx)(B_,{formData:p,errors:m,onChange:g,sectionsOptions:v,showSeats:!!f.availableSeats,showSections:!1!==f.availableSections,showFloors:!!f.availableFloors,floorsCount:f.floors||0,showRooms:!!f.availableRooms,showStands:!!f.availableStands})}),(0,Db.jsx)(VS,{value:s,onChange:a,error:l,t:d})]})]})},qS=()=>{const t=te(),{t:n,lang:r}=rw(),o=(mt.getSelectedStadium(),(0,e.useRef)(null)),i=(0,e.useRef)(null),[s,a]=(0,e.useState)(null),[l,c]=(0,e.useState)({row:"",seatNo:"",entrance:"",stand:"",section:"",sectionId:"",floor:"",room:"",seatDetails:"",area:""}),[u,d]=(0,e.useState)(0),[h,f]=(0,e.useState)(0),[p,m]=(0,e.useState)({amount:0,percentage:0}),[g,v]=(0,e.useState)(0),[y,b]=(0,e.useState)(null),[w,k]=(0,e.useState)(()=>{var e;return(null===(e=mt.getSelectedStadium())||void 0===e?void 0:e.id)||null}),[_,S]=(0,e.useState)([]),[C,E]=(0,e.useState)(!1),[x,I]=(0,e.useState)({}),[N,P]=(0,e.useState)(null),[T,A]=(0,e.useState)(null),[j,R]=(0,e.useState)(!1),[D,O]=(0,e.useState)(!1),[L,B]=(0,e.useState)(!1),[M,F]=(0,e.useState)(!1),[U,z]=(0,e.useState)("unknown"),[V,$]=(0,e.useState)(""),[q,H]=(0,e.useState)(!1),[W,G]=(0,e.useState)(!1),[K,Q]=(0,e.useState)(!1),[Y,X]=(0,e.useState)("delivery"),[J,Z]=(0,e.useState)([]),[ee,ne]=(0,e.useState)(""),[re,oe]=(0,e.useState)(null),[ie,se]=(0,e.useState)(""),[ae,le]=(0,e.useState)(""),[ce,ue]=(0,e.useState)(null),de=(0,e.useRef)({total:0,type:null,tip:0});(0,e.useEffect)(()=>{(async()=>{try{const e=mt.getSelectedStadium()||{};if(!e.id||!e.availablePickupPoints)return;const t=Ch(Cb,"stadiums",e.id,"pickUpPoints"),n=await Rf(t),r=[];n.forEach(e=>{r.push({id:e.id,...e.data()})}),Z(r),console.log("\ud83d\udccd Pickup points fetched:",r)}catch(e){console.error("Error fetching pickup points:",e)}})()},[w]),(0,e.useEffect)(()=>{const e=Lk.getCartItems(),t=new Set;e.forEach(e=>{e.shopId&&t.add(e.shopId),e.shopIds&&Array.isArray(e.shopIds)&&e.shopIds.forEach(e=>t.add(e))});const n={count:t.size,ids:Array.from(t)};console.log("\ud83d\udecd\ufe0f Shop Information:",n)},[]),(0,e.useEffect)(()=>{(async()=>{const e=Lk.getCartItems(),t=Lk.getTotalPrice();c(e=>({...e,floor:"",room:""})),d(t);let n=0,r="ILS",o=null,i=null;try{if(e.length>0){var s;const t=e[0];if(i=t.shopId||(null===(s=t.shopIds)||void 0===s?void 0:s[0]),i){const e=Eh(Cb,"shops",i),t=await Af(e);if(t.exists()){const e=t.data();ue(e);const i=Lk.getTotalItems();n=(e.deliveryFee||0)*i,r=e.deliveryFeeCurrency||"ILS",o=e.stripeConnectedAccountId||null}}}}catch(h){console.warn("\u26a0\ufe0f [ORDER] Failed to fetch shop data:",h),n=0,r="ILS",o=null}b(o||"acct_1S4nuc2zXMaebapc");const a=e.length>0&&e[0].currency||"ILS";let l=0;if("pickup"===Y)console.log("\ud83d\ude97 [ORDER] Pickup mode selected - no delivery fee"),l=0;else if(l=n,console.log(`\ud83d\udcb1 [ORDER] Cart item currency: ${a}, Delivery fee from shop: ${n} ${r}`),r===a)console.log(`\ud83d\udcb1 [ORDER] No conversion needed - delivery fee already in ${a}`);else{const e=(0,gk.convertPrice)(n,r);l=e.convertedPrice,console.log("\ud83d\udcb1 [ORDER] Conversion result:",e),console.log(`\ud83d\udcb1 [ORDER] Converted delivery fee: ${n} ${r} \u2192 ${l} ${a}`)}f(l);const u=localStorage.getItem("selectedTip");if(u){const e=JSON.parse(u);m(e),v(t+l+e.amount)}else v(t+l)})();const e=new URLSearchParams(window.location.search),t={row:e.get("row")||"",seatNo:e.get("seat")||e.get("seatNo")||"",section:e.get("section")||"",sectionId:e.get("sectionId")||"",entrance:e.get("entrance")||e.get("gate")||"",stand:e.get("stand")||"",seatDetails:e.get("details")||e.get("seatDetails")||"",area:e.get("area")||""},n=Object.values(t).some(e=>e&&""!==String(e).trim());console.log("\ud83d\udd0d [ORDER] Has URL data?",n,t),console.log("\ud83d\udd0d [ORDER] Checking sessionStorage...");let r=null;try{const e=sessionStorage.getItem("pending_seat_data");console.log("\ud83d\udd0d [ORDER] Raw sessionStorage data:",e),e?(r=JSON.parse(e),console.log("\u2705 [ORDER] Parsed session data:",r)):console.log("\u26a0\ufe0f [ORDER] No data in sessionStorage")}catch(EC){console.error("\u274c [ORDER] Failed to parse pending seat data:",EC)}if(n)console.log("\u2705 [ORDER] Auto-filling from URL parameters:",t),c(e=>{const n={...e,...t,stand:t.stand||"Main"};return console.log("\ud83d\udcdd [ORDER] Form data updated:",n),n}),sessionStorage.removeItem("pending_seat_data"),console.log("\ud83d\uddd1\ufe0f [ORDER] Cleared sessionStorage");else if(r)console.log("\u2705 [ORDER] Auto-filling from session storage:",r),c(e=>{const t={...e,...r,stand:r.stand||""};return console.log("\ud83d\udcdd [ORDER] Form data updated:",t),t}),sessionStorage.removeItem("pending_seat_data"),console.log("\ud83d\uddd1\ufe0f [ORDER] Cleared sessionStorage");else{console.log("\ud83d\udd0d [ORDER] Checking seatStorage...");const e=ht.getSeatInfo();e?(console.log("\u2705 [ORDER] Auto-filling from seatStorage:",e),c(t=>({...t,row:e.row||t.row,seatNo:e.seatNo||t.seatNo,sectionId:e.sectionId||t.sectionId,section:e.section||t.section,entrance:e.entrance||t.entrance,stand:e.stand||t.stand,seatDetails:e.seatDetails||t.seatDetails,area:e.area||t.area}))):console.log("\u26a0\ufe0f [ORDER] No seat data found anywhere - form will be empty")}try{const e=pt.getUserData();null!==e&&void 0!==e&&e.id&&async function(e){if(!e)return{phone:"",exists:!1};try{const t=Eh(Cb,"customers",e),n=await Af(t);if(!n.exists())return{phone:"",exists:!1};const r=n.data()||{};return{phone:LS(r.phone||r.userPhoneNo||""),exists:!0}}catch(EC){return console.warn("[phoneHelper] fetchCustomerPhone error:",EC),{phone:"",exists:!1}}}(e.id).then(e=>{let{phone:t,exists:n}=e;$(LS(t)),H(!!n&&!!LS(t)),G(!n||!LS(t))})}catch(o){}(async()=>{try{const e=mt.getSelectedStadium();let t=w||(null===e||void 0===e?void 0:e.id);if(console.log("[Sections] Selected stadium from storage:",e),!t)try{const e=await Rf(Ch(Cb,"stadiums"));e.empty||(t=e.docs[0].id,k(t),console.log("[Sections] Using fallback stadium id from collection:",t))}catch(EC){console.warn("[Sections] Failed to load fallback stadium list:",EC)}if(t){const e=Ch(Cb,"stadiums",t,"sections"),n=await Rf(e);console.log("[Sections] Fetched sections count:",n.size,"for stadiumId:",t);try{console.log("[Sections] Raw docs:",n.docs.map(e=>({id:e.id,data:e.data()})))}catch(o){}const r=n.docs.map(e=>{const t=e.data()||{},n="number"===typeof t.sectionNo?t.sectionNo:Number(t.sectionNo),r="number"!==typeof n||Number.isNaN(n)?t.sectionName||t.name||e.id:`Section ${n}`;return{id:e.id,name:r,shops:t.shops||[],no:"number"!==typeof n||Number.isNaN(n)?null:n,isActive:void 0===t.isActive||null===t.isActive||!!t.isActive}}),i=[...r];if(i.sort((e,t)=>null!=e.no&&null!=t.no?e.no-t.no:null!=e.no?-1:null!=t.no?1:String(e.name).localeCompare(String(t.name))),S(i),console.log("[Sections] Options after sort (all):",i),1===i.length&&!l.sectionId){const e=i[0];c(t=>({...t,sectionId:e.id,section:e.name}));try{ht.setSeatInfo({row:l.row,seatNo:l.seatNo,stand:l.stand,sectionId:e.id,section:e.name,entrance:l.entrance})}catch(o){}}}else S([])}catch(EC){console.warn("[OrderConfirm] Failed to load sections:",(null===EC||void 0===EC?void 0:EC.message)||EC),S([])}})(),setTimeout(()=>me(),0)},[w]),(0,e.useEffect)(()=>{(async()=>{if("pickup"===Y)return console.log("\ud83d\ude97 [FEE] Pickup mode - setting delivery fee to 0"),void f(0);if(!ce)return;const e=Lk.getCartItems(),t=e.length>0&&e[0].currency||"ILS";let n=0,r="ILS";if("inside"===re){var o,i;const e=Lk.getTotalItems(),t=(null===(o=ce.insideDelivery)||void 0===o?void 0:o.fee)||0;n=t*e,r=(null===(i=ce.insideDelivery)||void 0===i?void 0:i.currency)||"ILS",console.log(`\ud83c\udfdf\ufe0f [FEE] Using inside delivery fee: ${t} x ${e} items = ${n} ${r}`)}else if("outside"===re){var s,a;n=(null===(s=ce.outsideDelivery)||void 0===s?void 0:s.fee)||0,r=(null===(a=ce.outsideDelivery)||void 0===a?void 0:a.currency)||"ILS",console.log(`\ud83c\udf0d [FEE] Using outside delivery fee (Flat): ${n} ${r}`)}else{const e=Lk.getTotalItems(),t=ce.deliveryFee||0;n=t*e,r=ce.deliveryFeeCurrency||"ILS",console.log(`\ud83d\udce6 [FEE] Using traditional delivery fee: ${t} x ${e} items = ${n} ${r}`)}let l=n;if(r!==t){l=(0,gk.convertPrice)(n,r).convertedPrice,console.log(`\ud83d\udcb1 [FEE] Converted: ${n} ${r} \u2192 ${l} ${t}`)}f(l)})()},[re,ce,Y]),(0,e.useEffect)(()=>{const e=e=>{try{if((null===e||void 0===e?void 0:e.key)===dt.SELECTED_STADIUM){var t;const e=(null===(t=mt.getSelectedStadium())||void 0===t?void 0:t.id)||null;k(e),c(e=>({...e,sectionId:"",section:""}))}}catch(n){}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,e.useEffect)(()=>{try{const t=(l.section||"").toString().trim(),n=!(!l.sectionId||!String(l.sectionId).trim());if(!t||n||0===_.length)return;const r=t.toLowerCase();let o=_.find(e=>(e.name||"").toString().toLowerCase()===r);if(!o){const e=/section\s*(\d+)/i.exec(t);if(e){const t=Number(e[1]);Number.isNaN(t)||(o=_.find(e=>e.no===t)||null)}}if(o){c(e=>({...e,sectionId:o.id,section:o.name}));try{ht.setSeatInfo({row:l.row,seatNo:l.seatNo,entrance:l.entrance,stand:l.stand,section:o.name,sectionId:o.id})}catch(e){}try{Fk(`Section auto-selected: ${o.name}`,"success",1600)}catch(e){}}}catch(EC){console.warn("Auto-select sectionId failed:",EC)}},[_,l.section,l.sectionId]),(0,e.useEffect)(()=>{const e=u+h+(p.amount||0);v(e)},[u,h,p.amount]);const he=()=>{const e=(0,lw.$u)();return console.log(`\ud83d\udcb3 [PAYMENT] User preferred currency: ${e}`),e.toLowerCase()},fe=()=>{const e=Lk.getCartItems(),t=e.length>0&&e[0].currency||"ILS",n=(0,lw.$u)();if(n===t)return g;const r=(0,gk.convertPrice)(g,t);return console.log(`\ud83d\udcb1 [PAYMENT] Converting ${g} ${t} \u2192 ${r.convertedPrice} ${n}`),r.convertedPrice};(0,e.useEffect)(()=>{if(!g||g<=0)return void console.log("[OrderConfirm] Skipping intent creation - invalid amount:",g);let e=!1;return(async()=>{try{var t,n,r,o;const k={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51RyfgTKj6LjssenCRD0rqWZWYdUcE2xtwcU2afFVpJsUREwjPeQT2nSzxNp4nz1qJ0hnajJiu1dDZd7IS4mqeNr500L4qiCfaz",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S4nuc2zXMaebapc"}.REACT_APP_API_BASE&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51RyfgTKj6LjssenCRD0rqWZWYdUcE2xtwcU2afFVpJsUREwjPeQT2nSzxNp4nz1qJ0hnajJiu1dDZd7IS4mqeNr500L4qiCfaz",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S4nuc2zXMaebapc"}.REACT_APP_API_BASE.trim()?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51RyfgTKj6LjssenCRD0rqWZWYdUcE2xtwcU2afFVpJsUREwjPeQT2nSzxNp4nz1qJ0hnajJiu1dDZd7IS4mqeNr500L4qiCfaz",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S4nuc2zXMaebapc"}.REACT_APP_API_BASE.trim():"3000"===window.location.port?"http://localhost:5001":"",_=ce&&(!0===(null===(t=ce.insideDelivery)||void 0===t?void 0:t.enabled)||!0===(null===(n=ce.outsideDelivery)||void 0===n?void 0:n.enabled));if("delivery"===Y&&_&&null===re)return void console.log("[OrderConfirm] Skipping intent creation - waiting for delivery type selection");if("delivery"===Y&&("inside"===re||"outside"===re)&&(!ae||""===String(ae).trim()))return void console.log("[OrderConfirm] Skipping intent creation - waiting for delivery location");const S=he(),C=fe();if(null!==s&&void 0!==s&&s.id&&de.current.total===g&&de.current.type===re&&de.current.tip===p.amount&&de.current.location===ae)return;const E=Lk.getCartItems();console.log("\ud83d\udd0d [DEBUG] Raw cart items from utility:",E);const x=E.map(e=>(console.log(`\ud83d\udd0d [DEBUG] Item: ${e.name}, Price: ${e.price}, COG: ${e.costOfGoods}, hasCOG: ${e.hasCOG}`),{id:e.id,name:e.name,price:e.price||0,costOfGoods:e.costOfGoods||0,hasCOG:e.hasCOG||!1,quantity:e.quantity||1})),I=ce?{"payment-options":ce["payment-options"]||{model:"2-way","platform-fee":0,"vendor-fee":1,"delivery-destination":"platform","tip-destination":"platform","vendor-id":ce.stripeConnectedAccountId||y||null,"hotel-id":null}}:null;console.log(`\n${"=".repeat(60)}`),console.log("\ud83d\udce4 [CLIENT \u2192 SERVER] Sending Payment Intent Request (NEW FORMAT)"),console.log(`${"=".repeat(60)}`),console.log(`\ud83d\udcb0 Amount: ${C} ${S.toUpperCase()}`),console.log(`\ud83d\uded2 Cart Items: ${x.length}`),console.log(`\ud83c\udfea Shop Config Model: ${(null===I||void 0===I||null===(r=I["payment-options"])||void 0===r?void 0:r.model)||"N/A"}`),console.log(`\ud83d\ude9a Delivery Fee: ${h}`),console.log(`\ud83d\udcb5 Tip Amount: ${p.amount||0}`),console.log(`${"=".repeat(60)}\n`);const N=await fetch(`${k}/api/stripe/create-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:C,currency:S,shopConfig:I,cartItems:x,deliveryFee:h,tipAmount:p.amount||0})}),P=await N.text();let T;try{T=JSON.parse(P)}catch(w){}if(!N.ok)return void console.warn("OrderConfirm Pre-create Stripe intent failed:",P);var i,l,c,u,d,f,m,v,b;if(null!==(o=T)&&void 0!==o&&o.paymentBreakdown)console.log("\n"+"=".repeat(40)),console.log("\ud83d\udcb8 [SERVER PAYMENT BREAKDOWN]"),console.log("=".repeat(40)),console.log(`Model:    ${(null===I||void 0===I||null===(i=I["payment-options"])||void 0===i||null===(l=i.model)||void 0===l?void 0:l.toUpperCase())||"UNKNOWN"}`),console.log(`Platform: $${(null===(c=T.paymentBreakdown.platform)||void 0===c?void 0:c.toFixed(2))||"0.00"}`),console.log(`Hotel:    $${(null===(u=T.paymentBreakdown.hotel)||void 0===u?void 0:u.toFixed(2))||"0.00"}`),console.log(`Vendor:   $${(null===(d=T.paymentBreakdown.vendor)||void 0===d?void 0:d.toFixed(2))||"0.00"}`),console.log(`Stripe Fee: $${(null===(f=T.paymentBreakdown.stripeFee)||void 0===f?void 0:f.toFixed(2))||"0.00"}`),console.log("=".repeat(40)+"\n");if(!e)de.current={total:g,type:re,tip:p.amount,location:ae},a({id:null===(m=T)||void 0===m?void 0:m.intentId,clientSecret:null===(v=T)||void 0===v?void 0:v.clientSecret,mode:null===(b=T)||void 0===b?void 0:b.mode})}catch(EC){console.warn("[OrderConfirm] Pre-create intent error:",(null===EC||void 0===EC?void 0:EC.message)||EC)}})(),()=>{e=!0}},[g,h,p.amount,ce,re,Y,ae]);const pe=(e,t)=>{console.log("[INPUT CHANGE]",{field:e,value:t,currentFormData:l}),c(n=>{const r={...n,[e]:t};console.log("[INPUT CHANGE] New form data:",r);try{ht.setSeatInfo({row:"row"===e?t:r.row,seatNo:"seatNo"===e?t:r.seatNo,entrance:"entrance"===e?t:r.entrance,stand:"stand"===e?t:r.stand,section:"section"===e?t:r.section,sectionId:"sectionId"===e?t:r.sectionId,floor:"floor"===e?t:r.floor,room:"room"===e?t:r.room})}catch(EC){console.warn("seatStorage set error",EC)}return r}),setTimeout(()=>me(),0)},me=()=>{let e=V;try{var t;const n=null===(t=i.current)||void 0===t?void 0:t.value;"string"===typeof n&&(e=LS(n),e!==V&&$(e))}catch(f){}const r={};console.log("[VALIDATION] Checking form data:",{row:l.row,seatNo:l.seatNo,entrance:l.entrance,stand:l.stand});const o=mt.getSelectedStadium()||{},s="inside"===re||"outside"===re,a="delivery"===Y&&!!o.availableSeats&&!s,c="delivery"===Y&&!1!==o.availableSections&&!s,u="delivery"===Y&&!!o.availableFloors&&!s,d="delivery"===Y&&!!o.availableRooms&&!s;if("pickup"===Y&&!!o.availablePickupPoints&&(ee||(r.pickupPoint=n("order.err_pickup_point_required")||"Please select a pickup point")),a&&(l.row&&l.row.trim()||(r.row=n("order.err_row_required")),l.seatNo&&l.seatNo.trim()||(r.seatNo=n("order.err_seat_required"))),c&&(l.sectionId&&String(l.sectionId).trim()||(r.section=n("order.err_section_required"))),u){const e="number"===typeof o.floors?o.floors:parseInt(o.floors,10)||0;if(console.log("[VALIDATION] Floor check - requireFloors:",u,"floorsCount:",e,"formData.floor:",l.floor),e>0){const e=String(l.floor||"").trim();console.log("[VALIDATION] Floor value after trim:",e,"isEmpty:",!e),e||(r.floor=n("order.err_floor_required")||"Floor is required")}}if(d){String(l.room||"").trim()||(r.room=n("order.err_room_required")||"Room is required")}if(!q){BS(e)||(r.customerPhone=n("order.err_phone_required"))}console.log("[VALIDATION] Validation result:",{deliveryMode:Y,errors:r,isValid:0===Object.keys(r).length}),I(L?r:{});const h=0===Object.keys(r).length;return O(h),h};(0,e.useEffect)(()=>{me()},[Y,ee]);const ge=async()=>{try{document&&document.activeElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()}catch(w){}await new Promise(e=>setTimeout(e,60));const e=(e,t)=>{try{const r=n(e);return r&&r!==e?r:t}catch(w){return t}};L||B(!0);const t=ht.getSeatInfo()||{},r=(e,t)=>{const n=(null!==e&&void 0!==e?e:"").toString();if(n.trim().length>0)return n;return(null!==t&&void 0!==t?t:"").toString()},o={row:r(l.row,t.row),seatNo:r(l.seatNo,t.seatNo),sectionId:r(l.sectionId,t.sectionId),floor:String(l.floor||"").trim(),room:String(l.room||"").trim()},s=mt.getSelectedStadium()||{},a="inside"===re||"outside"===re,c="delivery"===Y&&!!s.availableSeats&&!a,u="delivery"===Y&&!1!==s.availableSections&&!a,d="delivery"===Y&&!!s.availableFloors&&!a,h="delivery"===Y&&!!s.availableRooms&&!a,f="pickup"===Y&&!!s.availablePickupPoints;let p=V;try{var m;const e=null===(m=i.current)||void 0===m?void 0:m.value;"string"===typeof e&&(p=LS(e),p!==V&&$(p))}catch(w){}const g={};if(c&&(o.row.trim()||(g.row=n("order.err_row_required")),o.seatNo.trim()||(g.seatNo=n("order.err_seat_required"))),u&&(o.sectionId&&String(o.sectionId).trim()||(g.section=n("order.err_section_required"))),d){var v,y;const e="number"===typeof s.floors?s.floors:parseInt(s.floors,10)||0;if(console.log("[VALIDATE_AND_TOAST] Floor check - requireFloors:",d,"floorsCount:",e),console.log("[VALIDATE_AND_TOAST] formData.floor:",l.floor,"type:",typeof l.floor,"length:",null===(v=l.floor)||void 0===v?void 0:v.length),console.log("[VALIDATE_AND_TOAST] effective.floor:",o.floor,"type:",typeof o.floor,"length:",null===(y=o.floor)||void 0===y?void 0:y.length),e>0){const e=String(o.floor||"").trim();console.log("[VALIDATE_AND_TOAST] Floor value after String() and trim():",e,"isEmpty:",!e,"length:",e.length),e?console.log("\u2705 [VALIDATE_AND_TOAST] Floor validation PASSED - value is:",e):(console.log("\u274c [VALIDATE_AND_TOAST] Floor validation FAILED - value is empty"),g.floor=n("order.err_floor_required")||"Floor is required")}}if(h){String(o.room||"").trim()||(g.room=n("order.err_room_required")||"Room is required")}if(f&&(ee||(g.pickupPoint=n("order.err_pickup_point_required")||"Please select a pickup point")),!q){BS(p)||(g.customerPhone=n("order.err_phone_required"))}try{console.log("[VALIDATE WALLET] effective values:",o,"errors:",g)}catch(w){}I(g);const b=0===Object.keys(g).length;if(O(b),!b){const t=[];g.row&&t.push(n("order.row")),g.seatNo&&t.push(n("order.seat")),g.section&&t.push(e("order.section","Section")),g.floor&&t.push(e("order.floor","Floor")),g.room&&t.push(e("order.room","Room")),g.pickupPoint&&t.push(n("order.pickup_point")||"Pickup Point"),g.customerPhone&&t.push(n("auth.phone"));const r=`${n("order.complete_required_fields_prefix")} ${t.join(", ")}`.trim();Fk(r,"error",4e3);try{window&&window.scrollTo&&window.scrollTo({top:0,behavior:"smooth"})}catch(w){}return!1}return!0},ve=e=>{const t=e.target.files[0];if(t){const e=URL.createObjectURL(t);P(e),console.log("\ud83d\udcf7 Ticket image uploaded:",t.name)}},ye=()=>{console.log("\ud83d\udcf8 Camera capture requested")};return(0,Db.jsx)("div",{className:"order-confirm-screen",children:(0,Db.jsxs)("div",{className:"order-confirm-container",children:[C&&(0,Db.jsxs)("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.35)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Db.jsxs)("div",{style:{background:"#fff",padding:20,borderRadius:10,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",display:"flex",alignItems:"center"},children:[(0,Db.jsx)("div",{className:"spinner",style:{width:24,height:24,border:"3px solid #eee",borderTopColor:"#3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",marginInlineEnd:12}}),(0,Db.jsx)("div",{style:{fontSize:14,color:"#374151"},children:n("order.processing_full")})]}),(0,Db.jsx)("style",{children:"@keyframes spin{to{transform:rotate(360deg)}}"})]}),(mt.getSelectedStadium()||{}).availableTickets?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsxs)("div",{className:"order-header-section",children:[(0,Db.jsx)("h2",{className:"order-header-title",children:n("order.upload_ticket_header")}),(0,Db.jsx)("p",{className:"order-header-subtitle",children:n("order.upload_ticket_subheader")})]}),(0,Db.jsx)(M_,{ticketImage:N,onImageUpload:ve,onCameraCapture:ye})]}):null,(mt.getSelectedStadium()||{}).availablePickupPoints?(0,Db.jsxs)("div",{style:{marginBottom:"20px",padding:"0",background:"transparent"},children:[(0,Db.jsx)("h3",{style:{margin:"0 0 12px 0",fontSize:"18px",fontWeight:"700",color:"#3b82f6"},children:n("order.delivery_method")}),(0,Db.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,Db.jsx)("button",{onClick:()=>X("delivery"),style:{flex:1,padding:"12px",border:"delivery"===Y?"2px solid #3b82f6":"1px solid #d1d5db",background:"delivery"===Y?"#eff6ff":"#fff",borderRadius:"8px",cursor:"pointer",fontWeight:"700",color:"delivery"===Y?"#3b82f6":"#334155",fontSize:"15px",minHeight:"48px",transition:"all 0.2s ease",boxShadow:"none"},children:n("order.delivery")}),(0,Db.jsx)("button",{onClick:()=>X("pickup"),style:{flex:1,padding:"12px",border:"pickup"===Y?"2px solid #3b82f6":"1px solid #d1d5db",background:"pickup"===Y?"#eff6ff":"#fff",borderRadius:"8px",cursor:"pointer",fontWeight:"700",color:"pickup"===Y?"#3b82f6":"#334155",fontSize:"15px",minHeight:"48px",transition:"all 0.2s ease",boxShadow:"none"},children:n("order.pickup")})]})]}):null,(mt.getSelectedStadium()||{}).availablePickupPoints&&"pickup"===Y?(0,Db.jsxs)("div",{style:{marginBottom:"20px",padding:"16px",background:"#f9fafb",borderRadius:"8px"},children:[(0,Db.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"Select Pickup Point"}),(0,Db.jsxs)("select",{value:ee,onChange:e=>ne(e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:[(0,Db.jsx)("option",{value:"",children:"-- Choose a pickup point --"}),J.map(e=>(0,Db.jsxs)("option",{value:e.id,children:[e.name||e.id," ",e.address?`(${e.address})`:""]},e.id))]})]}):null,"delivery"===Y&&ce&&((null===(be=ce.insideDelivery)||void 0===be?void 0:be.enabled)||(null===(we=ce.outsideDelivery)||void 0===we?void 0:we.enabled))?(0,Db.jsx)($S,{shopData:ce,selectedType:re,onTypeChange:oe,deliveryNotes:ie,onNotesChange:se,notesError:x.deliveryNotes,deliveryLocation:ae,onLocationChange:le,t:n,cartSubtotal:u,stadiumData:mt.getSelectedStadium()||{},formData:l,errors:x,onInputChange:pe,sectionsOptions:_}):null,((e,t)=>{const n=mt.getSelectedStadium()||{},r="delivery"===Y||!n.availablePickupPoints,o=(null===ce||void 0===ce||null===(e=ce.insideDelivery)||void 0===e?void 0:e.enabled)||(null===ce||void 0===ce||null===(t=ce.outsideDelivery)||void 0===t?void 0:t.enabled);if(!r||o)return null;const i=!!n.availableSeats,s=!1!==n.availableSections,a=!!n.availableFloors,c=!!n.availableRooms,u=!!n.availableStands,d=n.floors||0;return console.log("\ud83c\udfdf\ufe0f [SEATFORM PROPS] showSeats:",i,"availableSeats:",n.availableSeats),console.log("\ud83c\udfdf\ufe0f [SEATFORM PROPS] showSections:",s,"availableSections:",n.availableSections),(0,Db.jsx)(B_,{formData:l,errors:x,onChange:pe,sectionsOptions:_,onScanQr:()=>Q(!0),showSeats:i,showSections:s,showFloors:a,floorsCount:d,showRooms:c,showStands:u})})(),(0,Db.jsxs)("div",{className:"seat-info-section phone-section",children:[(0,Db.jsx)("h2",{className:"section-title",children:n("order.phone_contact_title")||"Delivery Contact Phone"}),(0,Db.jsx)("p",{className:"helper-text",style:{margin:"6px 0 10px",color:"#6b7280",fontSize:14},children:n("order.phone_contact_hint")||"This number will be used by the delivery person if they need help finding you."}),!W&&V?(0,Db.jsxs)("div",{className:"phone-row",children:[(0,Db.jsx)("div",{style:{fontSize:16,fontWeight:600},children:V}),(0,Db.jsx)("button",{type:"button",onClick:()=>G(!0),style:{background:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:6,padding:"6px 10px",cursor:"pointer"},children:n("common.edit")||"Edit"})]}):(0,Db.jsxs)("div",{style:{maxWidth:360},children:[(0,Db.jsx)("input",{type:"tel",inputMode:"tel",placeholder:n("order.phone_input_ph")||"+972501234567",className:"field-input "+(x.customerPhone?"error":""),value:V,onChange:e=>(e=>{try{const t=LS(e);$(t)}catch(t){$(e)}setTimeout(()=>me(),0)})(e.target.value),ref:i,style:{width:"100%"}}),x.customerPhone&&(0,Db.jsx)("div",{className:"error-text",style:{color:"#dc2626",fontSize:12,marginTop:6},children:x.customerPhone})]})]}),(0,Db.jsx)(F_,{orderTotal:u,deliveryFee:h,tipData:p,finalTotal:g,deliveryType:re}),(0,Db.jsx)(DS,{ref:o,intentId:null===s||void 0===s?void 0:s.id,clientSecret:null===s||void 0===s?void 0:s.clientSecret,mode:null===s||void 0===s?void 0:s.mode,showConfirmButton:!1,totalAmount:fe(),currency:(0,lw.$u)().toLowerCase(),isFormValid:D,onWalletPaymentSuccess:async()=>{E(!0);try{const o=ht.getSeatInfo()||{},s=(e,t)=>{const n=(null!==e&&void 0!==e?e:"").toString().trim();return n.length>0?n:(null!==t&&void 0!==t?t:"").toString().trim()},a={row:s(l.row,o.row),seatNo:s(l.seatNo,o.seatNo),entrance:s(l.entrance,o.entrance),stand:s(l.stand,o.stand),section:s(l.section,o.section),sectionId:s(l.sectionId,o.sectionId),seatDetails:s(l.seatDetails,o.seatDetails),area:s(l.area,o.area)};I({}),O(!0);let u=V;try{var e;const t=null===(e=i.current)||void 0===e?void 0:e.value;"string"===typeof t&&(u=LS(t),u!==V&&$(u))}catch(n){}try{const e=await OS({formData:a,tipData:p,ticketImage:N,customerLocation:null,finalTotal:g,notifyDelivery:!1,strictShopAvailability:!0,customerPhone:u||void 0,deliveryMethod:Y,pickupPointId:ee||null,deliveryType:re,deliveryLocation:ae,deliveryNotes:ie});try{const e=pt.getUserData();null!==e&&void 0!==e&&e.id&&!q&&BS(u)&&(await MS(e.id,u),H(!0))}catch(n){}try{ht.clearSeatInfo&&ht.clearSeatInfo()}catch(n){}c({row:"",seatNo:"",section:"",sectionId:"",seatDetails:"",area:"",entrance:"",stand:""}),I({}),B(!1),O(!1),P(null),G(!1);try{gt.clearCart(),console.log("\ud83d\uded2 Cart cleared after successful order (Apple/Google Pay)")}catch(EC){console.warn("Failed to clear cart:",EC)}Fk(`${"Order placed successfully!"} Order ID: ${e.orderId}`,"success",4e3),setTimeout(()=>t(`/order/${e.id}`,{replace:!0}),1200)}catch(r){r.message&&r.message.includes("Shops are closed today")?Fk("Shops are closed today. Please try again later.","error",5e3):Fk(r.message||"Order failed. Please try again.","error",4e3),console.error("[Wallet] Order placement failed:",r)}}finally{E(!1)}},validateBeforeWalletPay:ge,disabled:!1}),(0,Db.jsx)(U_,{loading:C,finalTotal:fe(),onPlaceOrder:async()=>{if(await ge()){E(!0);try{var e;const b={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51RyfgTKj6LjssenCRD0rqWZWYdUcE2xtwcU2afFVpJsUREwjPeQT2nSzxNp4nz1qJ0hnajJiu1dDZd7IS4mqeNr500L4qiCfaz",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S4nuc2zXMaebapc"}.REACT_APP_API_BASE&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51RyfgTKj6LjssenCRD0rqWZWYdUcE2xtwcU2afFVpJsUREwjPeQT2nSzxNp4nz1qJ0hnajJiu1dDZd7IS4mqeNr500L4qiCfaz",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S4nuc2zXMaebapc"}.REACT_APP_API_BASE.trim()?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51RyfgTKj6LjssenCRD0rqWZWYdUcE2xtwcU2afFVpJsUREwjPeQT2nSzxNp4nz1qJ0hnajJiu1dDZd7IS4mqeNr500L4qiCfaz",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S4nuc2zXMaebapc"}.REACT_APP_API_BASE.trim():"3000"===window.location.port?"http://localhost:5001":"";if(null===s||void 0===s||!s.id||null===s||void 0===s||!s.clientSecret){var r,u,d,f;const e=(0,lw.$u)(),t=he(),n=fe();console.log(`\ud83d\udcb3 [PAYMENT INTENT] User selected default currency: ${e.toUpperCase()}`),console.log(`\ud83d\udcb3 [PAYMENT INTENT] Creating payment intent: ${n} ${t.toUpperCase()}`);const o=await fetch(`${b}/api/stripe/create-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:n,currency:t,vendorConnectedAccountId:"acct_1S4nuc2zXMaebapc",deliveryFee:h,tipAmount:p.amount||0})}),i=await o.text();let s;try{s=JSON.parse(i)}catch(y){}if(!o.ok)throw new Error(s&&(s.error||s.message)||i||"Create Stripe intent failed");console.log("\u2705 [PAYMENT INTENT] Payment intent created successfully!"),console.log(`\ud83c\udd94 [PAYMENT INTENT] Intent ID: ${null===(r=s)||void 0===r?void 0:r.intentId}`),console.log(`\ud83d\udcb0 [PAYMENT INTENT] Amount: ${n} ${t.toUpperCase()}`),a({id:null===(u=s)||void 0===u?void 0:u.intentId,clientSecret:null===(d=s)||void 0===d?void 0:d.clientSecret,mode:null===(f=s)||void 0===f?void 0:f.mode}),Fk("\u2705 Stripe payment intent ready. Processing your order...","success",2e3)}if(null!==(e=o.current)&&void 0!==e&&e.confirm){let e=0;const t=15;for(;(!o.current.isReady||!o.current.isReady())&&e<t;)await new Promise(e=>setTimeout(e,200)),e+=1;if(!o.current.isReady||!o.current.isReady())throw new Error("Stripe card element not ready");const n=await o.current.confirm();var m;if(null===n||void 0===n||!n.ok)throw new Error((null===n||void 0===n||null===(m=n.error)||void 0===m?void 0:m.message)||"Stripe card confirmation failed")}const w=pt.getUserData(),k=mt.getSelectedStadium(),_=Lk.getCartItems();if(console.log("[ORDER DEBUG] userData:",!!w,"stadiumData:",!!k,"cartItems:",_.length),console.log("[ORDER DEBUG] stadiumData details:",k),!w){Fk("Please sign in to complete your order","error",3e3);try{localStorage.setItem("postLoginNext","/order/confirm")}catch(y){}return void t("/auth?next=%2Forder%2Fconfirm")}if(!k)return Fk("Please select a stadium first","error",3e3),void t("/stadium-selection");if(0===_.length)return Fk("Cart is empty","error",3e3),void t("/home");if("delivery"===Y&&("outside"===re||"inside"===re)&&(!ae||""===String(ae).trim())){Fk("Please select a location so we can know where to deliver","error",3e3);const e=document.getElementById("delivery-location-select");return e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.style.borderColor="red",setTimeout(()=>e.style.borderColor="",2e3)),void a(null)}const S=ht.getSeatInfo()||{},C=(e,t)=>{const n=(null!==e&&void 0!==e?e:"").toString().trim();return n.length>0?n:(null!==t&&void 0!==t?t:"").toString().trim()},E={row:C(l.row,S.row),seatNo:C(l.seatNo,S.seatNo),entrance:C(l.entrance,S.entrance),stand:C(l.stand,S.stand),section:C(l.section,S.section),sectionId:C(l.sectionId,S.sectionId),floor:C(l.floor,S.floor),room:C(l.room,S.room),seatDetails:C(l.seatDetails,S.seatDetails),area:C(l.area,S.area)};console.log("\ud83d\udd0d [ORDER DEBUG] formData:",l),console.log("\ud83d\udd0d [ORDER DEBUG] savedSeatForCard:",S),console.log("\ud83d\udd0d [ORDER DEBUG] effectiveFormForCard:",E);let x=V;try{var v;const e=null===(v=i.current)||void 0===v?void 0:v.value;"string"===typeof e&&(x=LS(e),x!==V&&$(x))}catch(y){}const A=await OS({formData:E,tipData:p,ticketImage:N,customerLocation:T,finalTotal:g,notifyDelivery:!1,strictShopAvailability:!0,customerPhone:x||void 0,deliveryMethod:Y,pickupPointId:ee||null,deliveryType:re,deliveryLocation:ae,deliveryNotes:ie});try{const e=pt.getUserData();null!==e&&void 0!==e&&e.id&&!q&&BS(x)&&(await MS(e.id,x),H(!0))}catch(y){}try{ht.clearSeatInfo&&ht.clearSeatInfo()}catch(y){}c({row:"",seatNo:"",section:"",sectionId:"",seatDetails:"",area:"",entrance:"",stand:""}),I({}),B(!1),O(!1),P(null),G(!1);const j=n("order.order_placed");Fk(`${j} ${n("order.order_id")}: ${A.orderId}`,"success",4e3);try{gt.clearCart(),console.log("\ud83d\uded2 Cart cleared after successful order")}catch(EC){console.warn("Failed to clear cart:",EC)}console.log("Order Doc ID:",A.id),setTimeout(()=>t(`/order/${A.id}`,{replace:!0}),1200)}catch(b){console.error("\u274c Payment/Order creation failed:",b);const e=b.message||n("order.payment_failed_generic");Fk(e,"error",5e3)}finally{E(!1)}}},disabled:!D}),(0,Db.jsx)(zS,{visible:K,onScanSuccess:e=>{try{c(t=>({...t,row:e.row||t.row,seatNo:e.seatNo||t.seatNo,section:e.section||t.section,sectionId:e.sectionId||t.sectionId,floor:e.floor||t.floor,room:e.room||t.room,entrance:e.entrance||t.entrance,stand:e.stand||t.stand||"Main",seatDetails:e.seatDetails||t.seatDetails,area:e.area||t.area}));try{ht.setSeatInfo({row:e.row||l.row,seatNo:e.seatNo||l.seatNo,section:e.section||l.section,sectionId:e.sectionId||l.sectionId,floor:e.floor||l.floor,room:e.room||l.room,entrance:e.entrance||l.entrance,stand:e.stand||l.stand||"Main",seatDetails:e.seatDetails||l.seatDetails,area:e.area||l.area})}catch(t){}Q(!1),setTimeout(()=>me(),100)}catch(n){console.error("Failed to process QR scan data:",n),Fk("Failed to process QR code data","error",3e3)}},onClose:()=>Q(!1)})]})});var be,we};var HS=n(245);const WS=new class{constructor(){this.fcmToken=null,this.isInitialized=!1}async init(){try{if(this.isInitialized)return;if(this.fcmToken=await Tb(),this.fcmToken){console.log("\u2705 Notification service initialized with token:",this.fcmToken);const e=sk.getCurrentUser();return e&&await sk.saveFCMToken(e.uid,this.fcmToken),this.listenForMessages(),this.isInitialized=!0,!0}return console.warn("\u26a0\ufe0f Failed to get FCM token"),!1}catch(e){return console.error("\u274c Notification service initialization failed:",e),!1}}listenForMessages(){new Promise((e,t)=>{const n=Pb();if(!n)return console.warn("Firebase Messaging not available"),void t(new Error("Messaging not supported"));try{bb(n,t=>{console.log("Message received in foreground:",t),e(t)})}catch(r){console.warn("Error setting up message listener:",r),t(r)}}).then(e=>{var t,n;console.log("\ud83d\udcf1 Received foreground message:",e),this.showBrowserNotification((null===(t=e.notification)||void 0===t?void 0:t.title)||"Food Munch",(null===(n=e.notification)||void 0===n?void 0:n.body)||"You have a new notification",e.data)}).catch(e=>{console.error("\u274c Error listening for messages:",e)})}showBrowserNotification(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("Notification"in window){if("granted"===Notification.permission){const r=new Notification(e,{body:t,icon:"/favicon.ico",badge:"/favicon.ico",tag:n.type||"general",data:n});r.onclick=e=>{e.preventDefault(),window.focus(),this.handleNotificationClick(n)},setTimeout(()=>{r.close()},5e3)}}else console.warn("This browser does not support notifications")}handleNotificationClick(e){switch(e.type){case"order_confirmed":case"order_status_update":e.orderId&&(window.location.href=`/orders/${e.orderId}`);break;case"new_menu_item":window.location.href="/menu";break;default:window.location.href="/"}}getFCMToken(){return this.fcmToken}async updateTokenForUser(){try{const e=sk.getCurrentUser();return!(!e||!this.fcmToken)&&(await sk.saveFCMToken(e.uid,this.fcmToken),console.log("\u2705 FCM token updated for user"),!0)}catch(e){return console.error("\u274c Failed to update FCM token:",e),!1}}async subscribeToTopic(e){try{const t=sk.getCurrentUser();if(!t)throw new Error("User must be logged in to subscribe to topics");const n=await sk.getIdToken();if(!n)throw new Error("Failed to get authentication token");const r=await fetch("http://localhost:5002/api/notifications/subscribe-topic",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({userId:t.uid,topic:e})}),o=await r.json();return o.success?(console.log(`\u2705 Subscribed to topic: ${e}`),!0):(console.error(`\u274c Failed to subscribe to topic: ${o.error}`),!1)}catch(t){return console.error("\u274c Topic subscription error:",t),!1}}async getNotificationHistory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{if(!sk.getCurrentUser())throw new Error("User must be logged in");const n=await sk.getIdToken();if(!n)throw new Error("Failed to get authentication token");const r=await fetch(`http://localhost:5002/api/notifications/history?limit=${e}&offset=${t}`,{method:"GET",headers:{Authorization:`Bearer ${n}`}}),o=await r.json();return o.success?o.notifications:(console.error("\u274c Failed to get notification history:",o.error),[])}catch(n){return console.error("\u274c Get notification history error:",n),[]}}},GS=WS,KS=[{key:Tk.PENDING,labelKey:"track.order_received"},{key:Tk.PREPARING,labelKey:"track.preparing"},{key:Tk.DELIVERING,labelKey:"track.on_the_way"},{key:Tk.DELIVERED,labelKey:"track.delivered"}];function QS(){const{orderId:t}=ne(),n=te(),{t:r,lang:o}=rw(),i="he"===o,[s,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(!0),[u,d]=(0,e.useState)(""),[h,f]=(0,e.useState)(null),[p,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(null),y=(0,e.useRef)();(0,e.useEffect)(()=>{try{window&&window.scrollTo&&window.scrollTo({top:0,behavior:"auto"})}catch(e){}"Notification"in window&&"default"===Notification.permission&&GS.init().catch(console.error)},[t]);const b=(0,e.useCallback)(()=>{try{gt.clearCart(),console.log("\ud83d\uded2 Cart cleared after order completion")}catch(EC){console.warn("Failed to clear cart:",EC)}n("/home",{replace:!0})},[n]);(0,e.useEffect)(()=>{const e=e=>{e.preventDefault(),b()};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[b]),(0,e.useEffect)(()=>{if(!t)return;c(!0);const e=Bf(Eh(Cb,"orders",t),e=>{if(!e.exists())return d("Order not found"),a(null),void c(!1);d("");const t={id:e.id,...e.data()};if(void 0!==y.current&&y.current!==t.status){const e=w(t);GS.showBrowserNotification(r("track.order_status_update"),`${r("track.order_is_now")} ${e}`,{type:"order_status_update",orderId:t.id})}y.current=t.status,a(t),c(!1),console.log("Order status:",t.status,"DELIVERING constant:",Tk.DELIVERING),console.log("DeliveryUserId:",t.deliveryUserId),t.status===Tk.DELIVERING&&t.deliveryUserId?k(t.deliveryUserId):f(null)},e=>{d((null===e||void 0===e?void 0:e.message)||"Failed to load order"),c(!1)});return()=>e()},[t]),(0,e.useEffect)(()=>{(async()=>{if("pickup"===(null===s||void 0===s?void 0:s.deliveryMethod)&&null!==s&&void 0!==s&&s.stadiumId&&null!==s&&void 0!==s&&s.pickupPointId)try{const e=Eh(Cb,"stadiums",s.stadiumId,"pickUpPoints",s.pickupPointId),t=await Af(e);t.exists()?v({id:t.id,...t.data()}):console.warn("Pickup point not found:",s.pickupPointId)}catch(EC){console.error("Error fetching pickup point:",EC)}else v(null)})()},[null===s||void 0===s?void 0:s.deliveryMethod,null===s||void 0===s?void 0:s.stadiumId,null===s||void 0===s?void 0:s.pickupPointId]);const w=e=>{const{status:t,deliveryMethod:n}=e;if("pickup"===n){if(t===Tk.DELIVERING)return r("track.ready_to_pick_up");if(t===Tk.DELIVERED)return r("track.picked_up")}switch(t){case Tk.PENDING:return r("track.order_received");case Tk.PREPARING:return r("track.preparing");case Tk.DELIVERING:return r("track.on_the_way");case Tk.DELIVERED:return r("track.delivered");default:return r("track.order_received")}},k=async e=>{if(e){m(!0);try{const t=Eh(Cb,"deliveryUsers",e),n=await Af(t);if(n.exists()){const e={id:n.id,...n.data()};console.log("Delivery user data:",e),f(e)}else console.warn("Delivery user not found:",e),f(null)}catch(u){console.error("Error fetching delivery user:",u),f(null)}finally{m(!1)}}},_=e=>{switch(e){case Tk.PENDING:return(0,Db.jsx)(Kw,{});case Tk.PREPARING:return(0,Db.jsx)(Yw,{});case Tk.DELIVERING:return(0,Db.jsx)(Qw,{});case Tk.DELIVERED:return(0,Db.jsx)(Sw,{});default:return(0,Db.jsx)(Kw,{})}},S=KS.map(e=>{let t=e.labelKey;return"pickup"===(null===s||void 0===s?void 0:s.deliveryMethod)&&(e.key===Tk.DELIVERING&&(t="track.ready_to_pick_up"),e.key===Tk.DELIVERED&&(t="track.picked_up")),{...e,label:r(t),icon:_(e.key)}}),C=s?S.findIndex(e=>e.key===s.status):-1,E=(null===s||void 0===s?void 0:s.orderCode)||(null===s||void 0===s?void 0:s.orderId)||(null===s||void 0===s?void 0:s.id)||"";return(0,Db.jsxs)("div",{className:"order-track-screen",dir:i?"rtl":"ltr",children:[(0,Db.jsxs)("div",{className:"hero",children:[(0,Db.jsx)("button",{className:"back-btn","aria-label":r("common.back"),onClick:b,children:i?(0,Db.jsx)(Zw,{}):(0,Db.jsx)(Jw,{})}),(0,Db.jsx)("div",{className:"hero-title",children:r("track.order")}),(0,Db.jsxs)("div",{className:"order-code",children:["#",(null===s||void 0===s?void 0:s.orderId)||(null===s||void 0===s?void 0:s.id)]})]}),(0,Db.jsx)("div",{className:"content",children:l?(0,Db.jsx)("div",{className:"loading",children:r("track.loading")}):u?(0,Db.jsx)("div",{className:"error",children:u}):(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsxs)("div",{className:"qr-card",children:[E?(0,Db.jsx)("div",{className:"qr-wrap",children:(0,Db.jsx)(HS.Ay,{value:String(E),size:140})}):(0,Db.jsx)("div",{className:"qr-placeholder",children:r("track.no_code")}),(0,Db.jsx)("div",{className:"qr-hint",children:(0,Db.jsx)("strong",{children:r("track.present_qr")})})]}),(0,Db.jsx)("div",{className:"timeline",children:S.map((e,t)=>{var n;const r=t<=C||-1===C&&0===t,o=t===C||-1===C&&0===t,i=t<C,a=t<S.length-1;return(0,Db.jsxs)("div",{className:`timeline-item ${r?"active":""} ${o?"current":""} ${i?"done":""} ${a?"has-next":""}`,children:[(0,Db.jsx)("div",{className:"dot"}),(0,Db.jsx)("div",{className:"step-card",children:(0,Db.jsxs)("div",{className:"step-row",children:[(0,Db.jsx)("span",{className:`step-icon ${r?"on":""} ${o?"glow":""}`,children:e.icon}),(0,Db.jsxs)("div",{className:"step-text",children:[(0,Db.jsx)("div",{className:"step-title",children:e.label}),(0,Db.jsx)("div",{className:"step-sub",children:null!==s&&void 0!==s&&null!==(n=s.createdAt)&&void 0!==n&&n.toDate?s.createdAt.toDate().toLocaleString():""})]})]})})]},e.key)})}),"pickup"===(null===s||void 0===s?void 0:s.deliveryMethod)&&g&&(0,Db.jsxs)("div",{className:"pickup-point-section",children:[(0,Db.jsxs)("div",{className:"pickup-point-title",children:[(0,Db.jsx)("span",{className:"icon",children:"\ud83d\udccd"}),r("track.pick_spot")]}),(0,Db.jsxs)("div",{className:"pickup-point-card",children:[(0,Db.jsx)("div",{className:"pickup-name",children:g.name}),g.location&&(0,Db.jsx)("div",{className:"pickup-location",children:g.location}),g.description&&(0,Db.jsx)("div",{className:"pickup-description",children:g.description}),g.area&&(0,Db.jsx)("div",{className:"pickup-area",children:g.area})]})]}),(null===s||void 0===s?void 0:s.status)===Tk.DELIVERING&&(0,Db.jsxs)("div",{className:"delivery-contact-section",children:[(0,Db.jsxs)("div",{className:"delivery-contact-title",children:[(0,Db.jsx)(zw,{className:"phone-icon"}),r("track.delivery_contact")]}),p?(0,Db.jsx)("div",{className:"delivery-contact-loading",children:r("track.loading_contact")}):(console.log("Delivery user in render:",h,"Phone:",null===h||void 0===h?void 0:h.phone),null!==h&&void 0!==h&&h.phone?(0,Db.jsx)("div",{className:"delivery-contact-card",children:(0,Db.jsxs)("div",{className:"delivery-contact-info",children:[(0,Db.jsx)("div",{className:"delivery-person-name",children:h.name||r("track.delivery_person")}),(0,Db.jsxs)("a",{href:`tel:${h.phone}`,className:"delivery-phone-link",children:[(0,Db.jsx)(zw,{className:"phone-icon-small"}),h.phone]})]})}):null!==s&&void 0!==s&&s.deliveryUserId?(0,Db.jsx)("div",{className:"delivery-contact-unavailable",children:r("track.contact_unavailable")}):null)]}),(0,Db.jsxs)("div",{className:"items-section",children:[(0,Db.jsx)("div",{className:"items-title",children:r("track.items")}),Array.isArray(null===s||void 0===s?void 0:s.cart)&&s.cart.length>0?s.cart.map((e,t)=>(0,Db.jsxs)("div",{className:"item-card modern",children:[(0,Db.jsxs)("div",{className:"item-main",children:[(0,Db.jsxs)("div",{className:"item-top",children:[(0,Db.jsxs)("span",{className:"qty-pill",children:[r("track.qty")," ",e.quantity||1]}),(0,Db.jsx)("div",{className:"name",children:e.name||r("track.item")})]}),(0,Db.jsx)("div",{className:"desc clamp-2",children:e.description||""}),(0,Db.jsx)("div",{className:"price ils",children:(0,gk.formatPriceWithCurrency)(e.price,e.currency||"ILS")})]}),(0,Db.jsx)("div",{className:"item-media",children:Array.isArray(e.images)&&e.images.length>0?(0,Db.jsx)("img",{src:e.images[0],alt:e.name||"item",onError:e=>{e.currentTarget.style.display="none"}}):(0,Db.jsx)("div",{className:"thumb","aria-hidden":!0,children:"\ud83e\udd64"})})]},t)):(0,Db.jsx)("div",{className:"empty-items",children:r("track.no_items")})]})]})}),s&&s.status===Tk.DELIVERING&&(0,Db.jsx)("div",{className:"footer-cta",children:(0,Db.jsx)("button",{className:"cta-button",type:"button",children:"Show this screen to the delivery person"})})]})}const YS=e=>`https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=${encodeURIComponent(e)}`,XS={width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:8,outline:"none",fontSize:14},JS={fontWeight:600,marginBottom:6,fontSize:14},ZS=(e,t)=>(0,Db.jsx)("div",{style:{marginBottom:14},children:e},t);function eC(){const{t:t}=rw(),[n,r]=(0,e.useState)(()=>"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:3000":"https://www.fanmunch.com"),[o,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(!1),[h,f]=(0,e.useState)([{id:1,rowNumber:"1",seatStart:"1",seatEnd:"10"}]),[p,m]=(0,e.useState)([]);(0,e.useEffect)(()=>{g()},[]);const g=async()=>{try{d(!0);const e=mt.getSelectedStadium();let t=null===e||void 0===e?void 0:e.id;if(!t){const e=await Rf(Ch(Cb,"stadiums"));e.empty||(t=e.docs[0].id,console.log("[QR Generator] Using first stadium:",t))}if(t){const e=Ch(Cb,"stadiums",t,"sections"),n=(await Rf(e)).docs.map(e=>{const t=e.data()||{},n="number"===typeof t.sectionNo?t.sectionNo:Number(t.sectionNo),r="number"!==typeof n||Number.isNaN(n)?t.sectionName||t.name||e.id:`Section ${n}`;return{id:e.id,name:r,no:"number"!==typeof n||Number.isNaN(n)?null:n}});if(n.sort((e,t)=>null!=e.no&&null!=t.no?e.no-t.no:null!=e.no?-1:null!=t.no?1:String(e.name).localeCompare(String(t.name))),c(n),n.length>0&&!s){const e=n[0];a(e.id),i(e.name)}Fk(`Loaded ${n.length} sections`,"success",1500)}else Fk("No stadium found. Please select a stadium first.","error",3e3)}catch(e){console.error("Failed to load sections:",e),Fk("Failed to load sections from Firebase","error",3e3)}finally{d(!1)}},v=(e,t,n)=>{f(h.map(r=>r.id===e?{...r,[t]:n}:r))};return(0,Db.jsxs)("div",{style:{maxWidth:1100,margin:"20px auto",padding:"0 16px",direction:"ltr"},children:[(0,Db.jsx)("h1",{style:{marginBottom:6,textAlign:"left"},children:"Fanmunch QR Code Generator"}),(0,Db.jsx)("p",{style:{color:"#6b7280",marginBottom:18,textAlign:"left"},children:"Generate deep-link URLs and QR codes for multiple rows and seat ranges. Each QR code will prefill the Order Confirmation form with seat information."}),(0,Db.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(260px, 1fr))",gap:16,marginBottom:16},children:[ZS((0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("div",{style:JS,children:"Base URL"}),(0,Db.jsx)("input",{style:XS,value:n,onChange:e=>r(e.target.value),placeholder:"https://www.fanmunch.com"}),(0,Db.jsx)("div",{style:{color:"#6b7280",fontSize:12,marginTop:6},children:"Production: https://www.fanmunch.com | Development: http://localhost:3000"})]}),"base"),ZS((0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("div",{style:JS,children:"Section"}),u?(0,Db.jsx)("div",{style:{...XS,display:"flex",alignItems:"center",color:"#6b7280"},children:"Loading sections..."}):l.length>0?(0,Db.jsxs)("select",{style:XS,value:s,onChange:e=>(e=>{a(e);const t=l.find(t=>t.id===e);t&&i(t.name)})(e.target.value),children:[(0,Db.jsx)("option",{value:"",children:"Select a section"}),l.map(e=>(0,Db.jsx)("option",{value:e.id,children:e.name},e.id))]}):(0,Db.jsxs)("div",{style:{...XS,display:"flex",alignItems:"center",justifyContent:"space-between",color:"#6b7280"},children:[(0,Db.jsx)("span",{children:"No sections found"}),(0,Db.jsx)("button",{onClick:g,style:{padding:"4px 8px",background:"#3b82f6",color:"white",border:"none",borderRadius:4,fontSize:12,cursor:"pointer"},children:"Retry"})]}),(0,Db.jsx)("div",{style:{color:"#6b7280",fontSize:12,marginTop:6},children:"Sections are loaded from the selected stadium in Firebase"})]}),"section")]}),(0,Db.jsxs)("div",{style:{marginBottom:16},children:[(0,Db.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,Db.jsx)("h3",{style:{margin:0,fontSize:16,fontWeight:600},children:"Rows & Seat Ranges"}),(0,Db.jsx)("button",{onClick:()=>{const e=Math.max(...h.map(e=>e.id),0)+1;f([...h,{id:e,rowNumber:"",seatStart:"1",seatEnd:"10"}])},style:{padding:"8px 16px",background:"#10b981",color:"white",border:"none",borderRadius:8,fontSize:14,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:"+ Add Row"})]}),h.map((e,t)=>(0,Db.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr auto",gap:12,marginBottom:12,padding:12,background:"#f9fafb",borderRadius:8,border:"1px solid #e5e7eb"},children:[(0,Db.jsxs)("div",{children:[(0,Db.jsx)("div",{style:{...JS,fontSize:12},children:"Row Number"}),(0,Db.jsx)("input",{style:XS,value:e.rowNumber,onChange:t=>v(e.id,"rowNumber",t.target.value),placeholder:"1"})]}),(0,Db.jsxs)("div",{children:[(0,Db.jsx)("div",{style:{...JS,fontSize:12},children:"Seat Start"}),(0,Db.jsx)("input",{style:XS,value:e.seatStart,onChange:t=>v(e.id,"seatStart",t.target.value),placeholder:"1",type:"number",min:"1"})]}),(0,Db.jsxs)("div",{children:[(0,Db.jsx)("div",{style:{...JS,fontSize:12},children:"Seat End"}),(0,Db.jsx)("input",{style:XS,value:e.seatEnd,onChange:t=>v(e.id,"seatEnd",t.target.value),placeholder:"10",type:"number",min:"1"})]}),(0,Db.jsx)("div",{style:{display:"flex",alignItems:"flex-end"},children:h.length>1&&(0,Db.jsx)("button",{onClick:()=>{return t=e.id,void(h.length>1&&f(h.filter(e=>e.id!==t)));var t},style:{padding:"10px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:8,fontSize:14,cursor:"pointer",height:"42px"},title:"Remove row",children:"\ud83d\uddd1\ufe0f"})})]},e.id)),(0,Db.jsx)("div",{style:{color:"#6b7280",fontSize:12,marginTop:6},children:"Each row will generate QR codes for seats from Start to End (e.g., Row 1: Seats 1-10 generates 10 QR codes)"})]}),(0,Db.jsxs)("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap"},children:[(0,Db.jsx)("button",{onClick:()=>{try{if(!n||!n.startsWith("http"))return void Fk("Base URL must start with http.","error",2500);if(!s||!o.trim())return void Fk("Please select a section.","error",2500);const e=[];for(const t of h){if(!t.rowNumber||!`${t.rowNumber}`.trim())return void Fk("Row number is required for all rows.","error",2500);const r=parseInt(t.seatStart,10),i=parseInt(t.seatEnd,10);if(Number.isNaN(r)||Number.isNaN(i)||r<=0||i<=0)return void Fk(`Invalid seat range for row ${t.rowNumber}`,"error",2500);if(r>i)return void Fk(`Seat start must be less than or equal to seat end for row ${t.rowNumber}`,"error",2500);for(let a=r;a<=i;a++){const r=new URLSearchParams;r.set("row",`${t.rowNumber}`),r.set("seat",`${a}`),r.set("section",o),s&&s.trim()&&r.set("sectionId",s.trim());const i=`${n}?${r.toString()}`;e.push({row:`${t.rowNumber}`,seat:`${a}`,sectionName:o,sectionId:s,url:i})}}m(e),Fk(`Generated ${e.length} QR codes`,"success",2e3)}catch(EC){Fk((null===EC||void 0===EC?void 0:EC.message)||"Failed to generate links","error",3e3)}},style:{padding:"10px 14px",borderRadius:8,border:"1px solid #e5e7eb",background:"#111827",color:"#fff",cursor:"pointer",fontWeight:600},children:"Generate QR Codes"}),(0,Db.jsx)("button",{onClick:()=>{try{const e=window.open("","_blank"),t=`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>QR Codes - ${o}</title>\n          <style>\n            @media print {\n              @page { margin: 0.5cm; }\n              body { margin: 0; }\n            }\n            body {\n              font-family: Arial, sans-serif;\n              padding: 10mm;\n              background: white;\n            }\n            .header {\n              text-align: center;\n              margin-bottom: 15px;\n              page-break-after: avoid;\n            }\n            .header h1 {\n              margin: 0 0 5px 0;\n              font-size: 24px;\n            }\n            .header p {\n              margin: 0;\n              color: #666;\n              font-size: 14px;\n            }\n            .grid {\n              display: grid;\n              grid-template-columns: repeat(2, 1fr);\n              gap: 15mm;\n              page-break-inside: avoid;\n            }\n            .qr-item {\n              border: 2px solid #ddd;\n              border-radius: 12px;\n              padding: 15px;\n              text-align: center;\n              background: white;\n              page-break-inside: avoid;\n              box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n            }\n            .qr-item img {\n              width: 100%;\n              max-width: 140mm;\n              height: auto;\n              border-radius: 8px;\n              border: 1px solid #eee;\n            }\n            .qr-label {\n              margin-top: 10px;\n              font-size: 14px;\n              line-height: 1.4;\n              font-weight: bold;\n              color: #111;\n            }\n            .print-button {\n              position: fixed;\n              top: 20px;\n              right: 20px;\n              padding: 12px 24px;\n              background: #3b82f6;\n              color: white;\n              border: none;\n              border-radius: 8px;\n              font-size: 16px;\n              font-weight: 600;\n              cursor: pointer;\n              box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n            }\n            .print-button:hover {\n              background: #2563eb;\n            }\n            @media print {\n              .print-button { display: none; }\n            }\n          </style>\n        </head>\n        <body>\n          <button class="print-button" onclick="window.print()">\ud83d\udda8\ufe0f Print</button>\n          <div class="header">\n            <h1>QR Codes</h1>\n            <p>${o} \u2022 ${p.length} codes</p>\n          </div>\n          <div class="grid">\n            ${p.map(e=>`\n              <div class="qr-item">\n                <img src="${YS(e.url)}" alt="QR ${e.row}-${e.seat}" />\n                <div class="qr-label">Row ${e.row} \u2022 Seat ${e.seat} \u2022 ${e.sectionName}</div>\n              </div>\n            `).join("")}\n          </div>\n        </body>\n        </html>\n      `;e.document.write(t),e.document.close(),Fk("Print preview opened","success",1500)}catch(EC){Fk("Failed to generate print view","error",2e3)}},disabled:0===p.length,style:{padding:"10px 14px",borderRadius:8,border:"1px solid #e5e7eb",background:p.length?"#10b981":"#f9fafb",color:p.length?"#fff":"#9ca3af",cursor:p.length?"pointer":"not-allowed",fontWeight:600},children:"\ud83d\udcc4 Download Printable PDF"}),(0,Db.jsx)("button",{onClick:async()=>{try{const e=p.map(e=>e.url).join("\n");await navigator.clipboard.writeText(e),Fk("All links copied","success",1500)}catch(e){Fk("Copy failed","error",2e3)}},disabled:0===p.length,style:{padding:"10px 14px",borderRadius:8,border:"1px solid #e5e7eb",background:p.length?"#f3f4f6":"#f9fafb",color:"#111827",cursor:p.length?"pointer":"not-allowed"},children:"Copy all links"})]}),p.length>0&&(0,Db.jsx)("div",{style:{overflowX:"auto"},children:(0,Db.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Db.jsx)("thead",{children:(0,Db.jsxs)("tr",{style:{textAlign:"left",borderBottom:"1px solid #e5e7eb"},children:[(0,Db.jsx)("th",{style:{padding:"8px 6px"},children:"Row"}),(0,Db.jsx)("th",{style:{padding:"8px 6px"},children:"Seat"}),(0,Db.jsx)("th",{style:{padding:"8px 6px"},children:"Section"}),(0,Db.jsx)("th",{style:{padding:"8px 6px"},children:"Link"}),(0,Db.jsx)("th",{style:{padding:"8px 6px"},children:"QR"})]})}),(0,Db.jsx)("tbody",{children:p.map(e=>(0,Db.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[(0,Db.jsx)("td",{style:{padding:"10px 6px"},children:e.row}),(0,Db.jsx)("td",{style:{padding:"10px 6px"},children:e.seat}),(0,Db.jsxs)("td",{style:{padding:"10px 6px"},children:[e.sectionName,e.sectionId?` (${e.sectionId})`:""]}),(0,Db.jsx)("td",{style:{padding:"10px 6px"},children:(0,Db.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",style:{color:"#2563eb"},children:e.url})}),(0,Db.jsx)("td",{style:{padding:"10px 6px"},children:(0,Db.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:8},children:[(0,Db.jsx)("img",{src:YS(e.url),alt:`QR ${e.row}-${e.seat}`,width:110,height:110,style:{borderRadius:8,border:"1px solid #e5e7eb"}}),(0,Db.jsxs)("div",{style:{textAlign:"center",fontSize:11,fontWeight:600,color:"#111827"},children:["Row ",e.row," \u2022 Seat ",e.seat," \u2022 ",e.sectionName]})]})})]},`${e.row}-${e.seat}`))})]})})]})}const tC=()=>{const t=te(),n=J(),{t:r}=rw(),[o,i]=(0,e.useState)(0),[s,a]=(0,e.useState)(0);(0,e.useEffect)(()=>{l(),c();const e=e=>{var t;const n=(null===(t=e.detail)||void 0===t?void 0:t.totalItems)||0;i(n)},t=()=>{console.log("\ud83d\udd14 Order update event received, refreshing badge..."),c()},n=setInterval(()=>{c()},3e4);return window.addEventListener("cartUpdated",e),window.addEventListener("orderUpdated",t),()=>{window.removeEventListener("cartUpdated",e),window.removeEventListener("orderUpdated",t),clearInterval(n)}},[]);const l=()=>{const e=Lk.getTotalItems();i(e)},c=async()=>{try{const e=pt.getUserData();if(!e||!e.id)return void a(0);const t=(await Rk.fetchOrdersForUser(e.id)).filter(e=>[Tk.PENDING,Tk.PREPARING,Tk.DELIVERING].includes(e.status));a(t.length),console.log("\ud83d\udd14 Active orders count updated:",t.length)}catch(e){console.error("\u274c Error fetching active orders count:",e),a(0)}},u=(0,e.useMemo)(()=>[{id:"home",icon:Nw,activeIcon:Nw,label:r("nav.home"),path:"/home"},{id:"orders",icon:Aw,activeIcon:Aw,label:r("nav.orders"),path:"/orders"},{id:"cart",icon:Rw,activeIcon:Rw,label:r("nav.cart"),path:"/cart"},{id:"profile",icon:nk,activeIcon:nk,label:r("nav.profile"),path:"/profile"}],[r]),d=e=>n.pathname===e,h=["/auth","/onboarding","/stadium-selection","/food"].some(e=>n.pathname.startsWith(e)),f=pt.getUserData(),p=f&&null!==f?u:u.filter(e=>["home","profile"].includes(e.id));return h?null:(0,Db.jsx)("div",{className:"bottom-navigation",children:(0,Db.jsx)("div",{className:"nav-container",children:p.map(n=>(0,Db.jsxs)("button",{className:"nav-item "+(d(n.path)?"active":""),onClick:()=>{return e=n.path,void t(e);var e},children:[(0,Db.jsxs)("div",{className:"nav-icon",children:[e.createElement(d(n.path)?n.activeIcon:n.icon,{className:"icon "+(d(n.path)?"active":"")}),"cart"===n.id&&o>0&&(0,Db.jsx)("span",{className:"cart-badge",children:o>99?"99+":o}),"orders"===n.id&&s>0&&(0,Db.jsx)("span",{className:"orders-badge",children:s>99?"99+":s})]}),(0,Db.jsx)("span",{className:"nav-label",children:n.label})]},n.id))})})};function nC(e){return kw({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(e)}function rC(e){return kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function oC(e){return kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M325.3 234.3L104.6 13l280.8 161.2-60.1 60.1zM47 0C34 6.8 25.3 19.2 25.3 35.3v441.3c0 16.1 8.7 28.5 21.7 35.3l256.6-256L47 0zm425.2 225.6l-58.9-34.1-65.7 64.5 65.7 64.5 60.1-34.1c18-14.3 18-46.5-1.2-60.8zM104.6 499l280.8-161.2-60.1-60.1L104.6 499z"},child:[]}]})(e)}function iC(e){return kw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function sC(e){return kw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function aC(e){return kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}const lC=()=>(0,Db.jsx)("footer",{className:"app-footer",children:(0,Db.jsxs)("div",{className:"footer-container",children:[(0,Db.jsxs)("div",{className:"app-badges",children:[(0,Db.jsxs)("a",{href:"https://play.google.com/store/apps/details?id=com.fansfood",target:"_blank",rel:"noopener noreferrer",className:"app-badge",children:[(0,Db.jsx)(oC,{className:"badge-icon"}),(0,Db.jsxs)("div",{className:"badge-text",children:[(0,Db.jsx)("span",{className:"badge-small",children:"GET IT ON"}),(0,Db.jsx)("span",{className:"badge-large",children:"Google Play"})]})]}),(0,Db.jsxs)("a",{href:"https://apps.apple.com/pk/app/fan-munch/id6748237417",target:"_blank",rel:"noopener noreferrer",className:"app-badge",children:[(0,Db.jsx)(nC,{className:"badge-icon"}),(0,Db.jsxs)("div",{className:"badge-text",children:[(0,Db.jsx)("span",{className:"badge-small",children:"Download on the"}),(0,Db.jsx)("span",{className:"badge-large",children:"App Store"})]})]})]}),(0,Db.jsxs)("nav",{className:"footer-nav",children:[(0,Db.jsx)(ot,{to:"/home",className:"footer-link",children:"Home"}),(0,Db.jsx)(ot,{to:"/settings/feedback",className:"footer-link",children:"Contact Us"}),(0,Db.jsx)(ot,{to:"/settings/team",className:"footer-link",children:"Team"}),(0,Db.jsx)(ot,{to:"/settings/help",className:"footer-link",children:"Help"}),(0,Db.jsx)(ot,{to:"/settings/about",className:"footer-link",children:"About"})]}),(0,Db.jsxs)("p",{className:"copyright",children:["Fans Munch. All rights reserved ",(new Date).getFullYear()," \xa9"]}),(0,Db.jsxs)("div",{className:"footer-bottom-links",children:[(0,Db.jsx)(ot,{to:"/settings/privacy",className:"bottom-link",children:"Privacy Policy"}),(0,Db.jsx)("span",{className:"separator",children:"\u2022"}),(0,Db.jsx)(ot,{to:"/settings/terms",className:"bottom-link",children:"Terms of Service"})]})]})}),cC=()=>{var t;const[n,r]=(0,e.useState)(!1),[o,i]=(0,e.useState)(null),[s,a]=(0,e.useState)(!0),[l,c]=(0,e.useState)(!0),u=te(),{lang:d}=rw();(0,e.useEffect)(()=>{h()},[]);const h=async()=>{try{a(!0);const t=ff(Ch(Cb,"promotions"),wf(1)),n=await Rf(t);if(n.empty)console.log("No promotion data found in Firebase");else{var e;const t=n.docs[0].data();console.log("Promotion data fetched:",t),console.log("Image URL from Firebase:",null===(e=t.images)||void 0===e?void 0:e[0]),i(t)}}catch(t){console.error("Error fetching promotion:",t)}finally{a(!1)}};(0,e.useEffect)(()=>{if(!localStorage.getItem("hasSeenPromotion")&&!s&&o){const e=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(e)}},[o,s]);const f=()=>{r(!1),localStorage.setItem("hasSeenPromotion","true")};return n?(0,Db.jsx)("div",{className:"promotion-overlay",children:(0,Db.jsxs)("div",{className:"promotion-banner",children:[(0,Db.jsx)("button",{className:"promotion-close-btn",onClick:f,"aria-label":"Close promotion",children:"\xd7"}),(0,Db.jsxs)("div",{className:"promotion-content",children:[(0,Db.jsxs)("div",{className:"promotion-image",children:[l&&(0,Db.jsx)("div",{className:"promotion-image-loading",children:(0,Db.jsx)("div",{className:"loading-spinner"})}),(0,Db.jsx)("img",{src:(null===o||void 0===o||null===(t=o.images)||void 0===t?void 0:t[0])||"/assets/images/on-boarding-1.png",alt:"Special Promotion",onError:e=>{var t;console.log("Promotion image failed to load, using fallback"),console.log("Failed image URL:",null===o||void 0===o||null===(t=o.images)||void 0===t?void 0:t[0]),console.log("Error details:",e),c(!1),e.target.src="/assets/images/on-boarding-1.png"},onLoad:()=>{var e;console.log("Promotion banner loaded successfully"),console.log("Loaded image URL:",null===o||void 0===o||null===(e=o.images)||void 0===e?void 0:e[0]),c(!1)},onLoadStart:()=>{var e;console.log("Starting to load image:",null===o||void 0===o||null===(e=o.images)||void 0===e?void 0:e[0])},style:{display:l?"none":"block"}})]}),(0,Db.jsxs)("div",{className:"promotion-text",children:[(0,Db.jsx)("h2",{className:"promotion-title",children:"he"===d?"\ud83c\udf89 \u05de\u05d1\u05e6\u05e2 \u05de\u05d9\u05d5\u05d7\u05d3!":"\ud83c\udf89 Special Offer!"}),(0,Db.jsx)("p",{className:"promotion-description",children:"he"===d?"\u05e2\u05e1\u05e7\u05d0\u05d5\u05ea \u05de\u05d3\u05d4\u05d9\u05de\u05d5\u05ea \u05e2\u05dc \u05d4\u05e7\u05d5\u05de\u05d1\u05d5 \u05d4\u05de\u05d5\u05e2\u05d3\u05e3 \u05e2\u05dc\u05d9\u05da!":"Amazing deals on your favorite combos!"})]}),(0,Db.jsx)("div",{className:"promotion-actions",children:(0,Db.jsx)("button",{className:"promotion-detail-btn",onClick:()=>{u("/menu"),f()},children:"he"===d?"\u05e6\u05e4\u05d4 \u05d1\u05e4\u05e8\u05d8\u05d9\u05dd":"View Details"})})]})]})}):null},uC=["/assets/images/on-boarding-1.png","/assets/images/on-boarding-2.png","/assets/images/on-boarding-3.png"];function dC(e){const t=String(e||"food");let n=0;for(let o=0;o<t.length;o++)n=(n<<5)-n+t.charCodeAt(o),n|=0;const r=Math.abs(n)%uC.length;return uC[r]}function hC(){const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)(!0),[i,s]=(0,e.useState)(null),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(null),d=te(),h=J(),{fetchComboItems:f,getCachedComboItems:p}=Lb(),{title:m,shopId:g}=(0,e.useMemo)(()=>{const e=new URLSearchParams(h.search);return{title:e.get("shopName")||"\u05db\u05dc \u05d4\u05ea\u05e4\u05e8\u05d9\u05d8",shopId:e.get("shopId")||null}},[h.search]);(0,e.useEffect)(()=>{(async()=>{try{const e=ff(Ch(Cb,"promotions"),wf(1)),t=await Rf(e);if(!t.empty){const e=t.docs[0].data();e.images&&e.images[0]&&u(e.images[0])}}catch(i){console.error("Error fetching promotion image:",i)}})()},[]),(0,e.useEffect)(()=>{(async()=>{try{o(!0),s(null);const e=mt.getSelectedStadium();let t;if(t=e&&e.id?await Rb.getStadiumMenu(e.id,200):await Rb.getAllMenuItems(),t.success){let e=t.foods||[];g&&(e=e.filter(e=>Array.isArray(e.shopIds)&&e.shopIds.includes(g))),n(e)}else s(t.error||"Failed to load menu items"),n([])}catch(EC){s("Failed to load menu items"),n([])}finally{o(!1)}})()},[g]),(0,e.useEffect)(()=>{t.filter(e=>e.isCombo&&e.comboItemIds&&e.comboItemIds.length>0).forEach(e=>{f(e.id,e.comboItemIds)})},[t,f]);const v=(0,e.useMemo)(()=>{let e=t;if(a.trim()){const n=a.toLowerCase();e=t.filter(e=>{var t,r,o;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(n))||(null===(o=e.category)||void 0===o?void 0:o.toLowerCase().includes(n))})}return e.sort((e,t)=>e.isCombo&&!t.isCombo?-1:!e.isCombo&&t.isCombo?1:0)},[t,a]),y=(0,e.useMemo)(()=>a.trim()?`${m} (${v.length})`:m,[m,a,v.length]);return(0,Db.jsxs)("div",{className:"menu-page fade-in",children:[(0,Db.jsx)(cC,{}),(0,Db.jsxs)("div",{className:"menu-page-header",children:[(0,Db.jsx)("button",{className:"back-btn",onClick:()=>d(-1),"aria-label":"Back",children:(0,Db.jsx)(ek,{size:22})}),(0,Db.jsx)("h1",{className:"menu-page-title",children:y}),(0,Db.jsx)("div",{className:"header-spacer"})]}),(0,Db.jsx)("div",{className:"menu-page-search",children:(0,Db.jsx)("input",{className:"menu-search-input",type:"search",value:a,onChange:e=>l(e.target.value),placeholder:"\u05d7\u05e4\u05e9 \u05d1\u05db\u05dc \u05d4\u05ea\u05e4\u05e8\u05d9\u05d8..."})}),r&&(0,Db.jsx)("div",{className:"menu-page-status",children:"Loading..."}),i&&(0,Db.jsx)("div",{className:"menu-page-status error",children:i}),!r&&!i&&(0,Db.jsx)("div",{className:"menu-grid",children:v.map(e=>(0,Db.jsxs)("div",{className:"menu-grid-item "+(e.isCombo?"combo-card":""),onClick:()=>(e=>{d(`/food/${e.id}`)})(e),children:[(0,Db.jsx)("div",{className:"menu-grid-image",children:e.isCombo?(0,Db.jsxs)("div",{className:"combo-images",children:[(()=>{const t=p(e.comboItemIds);return e.getComboImages(t).map((t,n)=>(0,Db.jsx)("img",{src:t||dC(e.id||e.name),alt:`${e.name} - Item ${n+1}`,className:"combo-image",onError:n=>{console.log("Combo image failed, using fallback. Image URL:",t),n.currentTarget.src=dC(e.id||e.name)}},n))})(),(0,Db.jsx)("div",{className:"combo-badge",children:"COMBO"})]}):(0,Db.jsx)("img",{src:e.getPrimaryImage()||dC(e.id||e.name),alt:e.name,onError:t=>{t.currentTarget.src=dC(e.id||e.name)}})}),(0,Db.jsxs)("div",{className:"menu-grid-content",children:[(0,Db.jsx)("h3",{className:"menu-grid-name",children:e.name}),(0,Db.jsx)("p",{className:"menu-grid-price",children:(0,gk.formatPriceWithCurrency)(e.price,e.currency)})]})]},e.id))})]})}const fC=()=>{const e=[{icon:(0,Db.jsx)(Yw,{}),title:"Browse Menu",description:"Explore food and drinks from stadium vendors"},{icon:(0,Db.jsx)(Rw,{}),title:"Add to Cart",description:"Select your favorite items and customize your order"},{icon:(0,Db.jsx)(Tw,{}),title:"Secure Payment",description:"Pay safely with Stripe or Airwallex"},{icon:(0,Db.jsx)(Qw,{}),title:"Delivery to Seat",description:"Track your order in real-time as it comes to you"},{icon:(0,Db.jsx)(Sw,{}),title:"Enjoy!",description:"Receive your food without missing the action"}];return(0,Db.jsxs)("div",{className:"about-screen",children:[(0,Db.jsxs)("div",{className:"about-hero",children:[(0,Db.jsx)("div",{className:"app-icon",children:(0,Db.jsx)("span",{className:"icon-emoji",children:"\ud83c\udf54"})}),(0,Db.jsx)("h1",{className:"app-title",children:"Fans Munch"}),(0,Db.jsx)("p",{className:"app-tagline",children:"Order Food & Drinks to Your Seat"}),(0,Db.jsx)("div",{className:"version-info",children:(0,Db.jsx)("span",{className:"version-badge",children:"Version 1.0.0"})})]}),(0,Db.jsxs)("div",{className:"about-section",children:[(0,Db.jsx)("h2",{className:"section-title",children:"Our Mission"}),(0,Db.jsx)("p",{className:"section-text",children:"Fans Munch revolutionizes the stadium experience by bringing food and drinks directly to your seat. Never miss a moment of the game while waiting in long concession lines. We focus on speed, simplicity, and reliability to enhance your stadium experience."})]}),(0,Db.jsxs)("div",{className:"about-section",children:[(0,Db.jsx)("h2",{className:"section-title",children:"How It Works"}),(0,Db.jsx)("div",{className:"workflow-steps",children:e.map((e,t)=>(0,Db.jsxs)("div",{className:"workflow-step",children:[(0,Db.jsx)("div",{className:"step-number",children:t+1}),(0,Db.jsx)("div",{className:"step-icon",children:e.icon}),(0,Db.jsx)("h3",{className:"step-title",children:e.title}),(0,Db.jsx)("p",{className:"step-description",children:e.description})]},t))})]}),(0,Db.jsxs)("div",{className:"about-section",children:[(0,Db.jsx)("h2",{className:"section-title",children:"Key Features"}),(0,Db.jsxs)("div",{className:"features-grid",children:[(0,Db.jsxs)("div",{className:"feature-card",children:[(0,Db.jsx)("div",{className:"feature-icon",children:"\ud83d\udcf1"}),(0,Db.jsx)("h3",{className:"feature-title",children:"QR Code Scanning"}),(0,Db.jsx)("p",{className:"feature-text",children:"Scan your ticket to auto-fill seat information"})]}),(0,Db.jsxs)("div",{className:"feature-card",children:[(0,Db.jsx)("div",{className:"feature-icon",children:"\ud83d\udd14"}),(0,Db.jsx)("h3",{className:"feature-title",children:"Real-Time Tracking"}),(0,Db.jsx)("p",{className:"feature-text",children:"Track your order from kitchen to seat"})]}),(0,Db.jsxs)("div",{className:"feature-card",children:[(0,Db.jsx)("div",{className:"feature-icon",children:"\ud83d\udcb3"}),(0,Db.jsx)("h3",{className:"feature-title",children:"Secure Payments"}),(0,Db.jsx)("p",{className:"feature-text",children:"Multiple payment options with encryption"})]}),(0,Db.jsxs)("div",{className:"feature-card",children:[(0,Db.jsx)("div",{className:"feature-icon",children:"\ud83c\udf10"}),(0,Db.jsx)("h3",{className:"feature-title",children:"Multi-Language"}),(0,Db.jsx)("p",{className:"feature-text",children:"Available in English and Hebrew"})]})]})]})]})},pC=()=>(0,Db.jsxs)("div",{className:"screen static-screen",children:[(0,Db.jsx)("h1",{children:"Terms and Conditions"}),(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:"1. Introduction"}),(0,Db.jsx)("p",{children:"By using Fans Munch, you agree to these terms. Please read them carefully."})]}),(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:"2. Orders and Payments"}),(0,Db.jsxs)("ul",{children:[(0,Db.jsx)("li",{children:"All orders are subject to availability and acceptance."}),(0,Db.jsx)("li",{children:"Payments are processed securely by our partners."}),(0,Db.jsx)("li",{children:"Prices and fees may vary by venue."})]})]}),(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:"3. Delivery"}),(0,Db.jsx)("p",{children:"Delivery times depend on venue operations and event conditions."})]}),(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:"4. Refunds"}),(0,Db.jsx)("p",{children:"Issues with your order? Contact support from within the app."})]}),(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:"5. Responsible Use"}),(0,Db.jsx)("p",{children:"Do not misuse the service or attempt to disrupt the platform."})]})]}),mC=()=>(0,Db.jsxs)("div",{className:"screen static-screen",children:[(0,Db.jsx)("h1",{children:"Privacy Policy"}),(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:"Data We Collect"}),(0,Db.jsxs)("ul",{children:[(0,Db.jsx)("li",{children:"Account info (name, email)"}),(0,Db.jsx)("li",{children:"Order and payment metadata"}),(0,Db.jsx)("li",{children:"Device and usage data to improve reliability"})]})]}),(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:"How We Use Data"}),(0,Db.jsx)("p",{children:"To process orders, provide support, and improve the app experience."})]}),(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:"Sharing"}),(0,Db.jsx)("p",{children:"We do not sell your data. Limited sharing with payment and delivery partners is required to fulfill your order."})]}),(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:"Your Rights"}),(0,Db.jsx)("p",{children:"You can request deletion or export of your data by contacting support."})]}),(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:"Contact"}),(0,Db.jsx)("p",{children:"Email: support@fansmunch.example"})]})]}),gC=()=>{const[t,n]=(0,e.useState)({name:"",email:"",phone:"",subject:"",message:""}),[r,o]=(0,e.useState)(!1),[i,s]=(0,e.useState)(!1),a=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))};return(0,Db.jsxs)("div",{className:"contact-screen",children:[(0,Db.jsx)("div",{className:"contact-hero",children:(0,Db.jsxs)("div",{className:"hero-content",children:[(0,Db.jsx)("h1",{className:"hero-title",children:"Get In Touch"}),(0,Db.jsx)("p",{className:"hero-subtitle",children:"We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})}),(0,Db.jsxs)("div",{className:"contact-container",children:[(0,Db.jsxs)("div",{className:"contact-form-section",children:[(0,Db.jsx)("h2",{className:"section-title",children:"Send Us a Message"}),i?(0,Db.jsxs)("div",{className:"success-card",children:[(0,Db.jsx)(Sw,{className:"success-icon"}),(0,Db.jsx)("h3",{children:"Thank You!"}),(0,Db.jsx)("p",{children:"Your message has been received. We'll get back to you within 24 hours."})]}):(0,Db.jsxs)("form",{className:"contact-form",onSubmit:async e=>{if(e.preventDefault(),!t.name||!t.email||!t.message)return void Fk("Please fill in all required fields","error",3e3);if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){o(!0);try{const e=pt.getUserData();await Lf(Ch(Cb,"contactMessages"),{name:t.name,email:t.email,phone:t.phone||null,subject:t.subject||"General Inquiry",message:t.message,userId:(null===e||void 0===e?void 0:e.id)||null,userPhone:(null===e||void 0===e?void 0:e.phone)||null,status:"pending",createdAt:Uf(),timestamp:(new Date).toISOString()}),s(!0),Fk("Message sent successfully! We'll get back to you soon.","success",4e3),n({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>{s(!1)},5e3)}catch(r){console.error("Error submitting contact form:",r),Fk("Failed to send message. Please try again.","error",4e3)}finally{o(!1)}}else Fk("Please enter a valid email address","error",3e3)},children:[(0,Db.jsxs)("div",{className:"form-row",children:[(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsxs)("label",{className:"form-label",children:[(0,Db.jsx)(nk,{className:"label-icon"}),"Full Name *"]}),(0,Db.jsx)("input",{type:"text",name:"name",value:t.name,onChange:a,placeholder:"John Doe",className:"form-input",required:!0})]}),(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsxs)("label",{className:"form-label",children:[(0,Db.jsx)(Mw,{className:"label-icon"}),"Email Address *"]}),(0,Db.jsx)("input",{type:"email",name:"email",value:t.email,onChange:a,placeholder:"john@example.com",className:"form-input",required:!0})]})]}),(0,Db.jsxs)("div",{className:"form-row",children:[(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsxs)("label",{className:"form-label",children:[(0,Db.jsx)(zw,{className:"label-icon"}),"Phone Number (Optional)"]}),(0,Db.jsx)("input",{type:"tel",name:"phone",value:t.phone,onChange:a,placeholder:"+972 12 345 6789",className:"form-input"})]}),(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsxs)("label",{className:"form-label",children:[(0,Db.jsx)(Uw,{className:"label-icon"}),"Subject"]}),(0,Db.jsx)("input",{type:"text",name:"subject",value:t.subject,onChange:a,placeholder:"How can we help?",className:"form-input"})]})]}),(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsxs)("label",{className:"form-label",children:[(0,Db.jsx)(Uw,{className:"label-icon"}),"Message *"]}),(0,Db.jsx)("textarea",{name:"message",value:t.message,onChange:a,placeholder:"Tell us what's on your mind...",className:"form-textarea",rows:"6",required:!0})]}),(0,Db.jsx)("button",{type:"submit",className:"submit-button",disabled:r,children:r?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("span",{className:"spinner"}),"Sending..."]}):(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(qw,{className:"button-icon"}),"Send Message"]})})]})]}),(0,Db.jsx)("div",{className:"contact-info-sidebar",children:(0,Db.jsxs)("div",{className:"info-card",children:[(0,Db.jsx)("h3",{className:"info-title",children:"Contact Information"}),(0,Db.jsx)("p",{className:"info-description",children:"Fill out the form and our team will get back to you within 24 hours."}),(0,Db.jsxs)("div",{className:"info-items",children:[(0,Db.jsxs)("div",{className:"info-item",children:[(0,Db.jsx)("div",{className:"info-icon",children:(0,Db.jsx)(Mw,{})}),(0,Db.jsxs)("div",{className:"info-content",children:[(0,Db.jsx)("h4",{children:"Email"}),(0,Db.jsx)("a",{href:"mailto:support@fanmunch.com",children:"support@fanmunch.com"})]})]}),(0,Db.jsxs)("div",{className:"info-item",children:[(0,Db.jsx)("div",{className:"info-icon",children:(0,Db.jsx)(zw,{})}),(0,Db.jsxs)("div",{className:"info-content",children:[(0,Db.jsx)("h4",{children:"Phone"}),(0,Db.jsx)("a",{href:"tel:+972123456789",children:"+972 12 345 6789"})]})]}),(0,Db.jsxs)("div",{className:"info-item",children:[(0,Db.jsx)("div",{className:"info-icon",children:(0,Db.jsx)(Fw,{})}),(0,Db.jsxs)("div",{className:"info-content",children:[(0,Db.jsx)("h4",{children:"Office"}),(0,Db.jsx)("p",{children:"Tel Aviv, Israel"})]})]})]}),(0,Db.jsxs)("div",{className:"social-links",children:[(0,Db.jsx)("h4",{className:"social-title",children:"Follow Us"}),(0,Db.jsxs)("div",{className:"social-icons",children:[(0,Db.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"social-icon",children:(0,Db.jsx)(rC,{})}),(0,Db.jsx)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"social-icon",children:(0,Db.jsx)(aC,{})}),(0,Db.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"social-icon",children:(0,Db.jsx)(iC,{})}),(0,Db.jsx)("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"social-icon",children:(0,Db.jsx)(sC,{})})]})]})]})})]})]})},vC=()=>{const[t,n]=(0,e.useState)(""),[r,o]=(0,e.useState)(!1);return(0,Db.jsxs)("div",{className:"screen form-screen",children:[(0,Db.jsx)("h1",{children:"Report a Problem"}),r?(0,Db.jsx)("div",{className:"section-card",children:(0,Db.jsx)("p",{children:"Thanks, we received your report. Our team will investigate."})}):(0,Db.jsx)("form",{onSubmit:e=>{e.preventDefault(),o(!0)},className:"simple-form",children:(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:"What went wrong?"}),(0,Db.jsx)("label",{className:"helper",htmlFor:"rp-steps",children:"Steps to reproduce (optional)"}),(0,Db.jsx)("textarea",{id:"rp-steps",value:t,onChange:e=>n(e.target.value),placeholder:"Describe the issue",rows:6}),(0,Db.jsx)("button",{type:"submit",children:"Submit"})]})})]})},yC=()=>{const{t:t,lang:n,setLang:r}=rw(),[o,i]=(0,e.useState)(n),s=e=>{r(e),i(e),yt.setLanguagePreference(e);const t="he"===e?"rtl":"ltr";document.documentElement.setAttribute("dir",t),window.dispatchEvent(new CustomEvent("language-changed",{detail:e}));const n="he"===e?"ILS":"USD";(0,lw.FV)(n),console.log(`\ud83c\udf10 [LANGUAGE SETTINGS] Language: ${e} \u2192 Default currency: ${n}`)};return(0,Db.jsxs)("div",{className:"screen static-screen",children:[(0,Db.jsx)("h1",{children:"Settings"}),(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:"App Language"}),(0,Db.jsxs)("div",{className:"lang-options",children:[(0,Db.jsx)("button",{className:"lang-btn "+("en"===n?"active":""),onClick:()=>s("en"),children:"English"}),(0,Db.jsx)("button",{className:"lang-btn "+("he"===n?"active":""),onClick:()=>s("he"),children:"he"===n?"\u05e2\u05d1\u05e8\u05d9\u05ea":"Hebrew"})]}),(0,Db.jsx)("p",{className:"helper",children:"The interface direction will switch automatically for Hebrew (RTL)."}),(0,Db.jsxs)("p",{children:["Current: ","en"===n?"English":"Hebrew"]})]})]})},bC=()=>{var t;const[n,r]=(0,e.useState)(null),[o,i]=(0,e.useState)(null),{t:s}=rw();(0,e.useEffect)(()=>{const e=(0,lw.$u)();r(e);const t=(0,sw.AJ)();i(t),console.log("\ud83d\udcb1 [CURRENCY SETTINGS] Current preference:",e),console.log("\ud83d\udcb1 [CURRENCY SETTINGS] Available rates:",t)},[]);const a=(0,lw.zN)();return(0,Db.jsxs)("div",{className:"screen static-screen",children:[(0,Db.jsx)("h1",{children:s("settings.select_currency")||"Select Currency"}),(0,Db.jsxs)("div",{className:"section-card",children:[(0,Db.jsx)("h2",{children:s("settings.app_currency")||"App Currency"}),(0,Db.jsx)("p",{className:"helper-text",children:s("settings.currency_description")||"Choose your preferred currency for displaying prices"}),(0,Db.jsx)("div",{className:"currency-options",children:a.map(e=>{const t=n===e.code,i=o?o[e.code]:null;return(0,Db.jsxs)("button",{className:"currency-option "+(t?"active":""),onClick:()=>{return t=e.code,(0,lw.FV)(t),void r(t);var t},children:[(0,Db.jsxs)("div",{className:"currency-header",children:[(0,Db.jsx)("span",{className:"currency-symbol",children:e.symbol}),(0,Db.jsxs)("div",{className:"currency-info",children:[(0,Db.jsx)("span",{className:"currency-code",children:e.code}),(0,Db.jsx)("span",{className:"currency-name",children:e.name})]})]}),i&&(0,Db.jsxs)("div",{className:"currency-rate",children:[(0,Db.jsx)("span",{className:"rate-label",children:"Rate:"}),(0,Db.jsxs)("span",{className:"rate-value",children:["1 USD = ",i.toFixed(2)," ",e.code]})]}),t&&(0,Db.jsx)("div",{className:"currency-check",children:"\u2713"})]},e.code)})}),(0,Db.jsx)("div",{className:"current-selection",children:(0,Db.jsxs)("p",{children:[(0,Db.jsxs)("strong",{children:[s("settings.current")||"Current",":"]})," "," ",n&&(null===(t=(0,lw.So)(n))||void 0===t?void 0:t.name)]})})]}),(0,Db.jsx)("div",{className:"info-box",children:(0,Db.jsxs)("p",{children:["\ud83d\udca1 ",s("settings.currency_info")||"Your selected currency will be used to display all prices in the app. Exchange rates are updated every 8 hours."]})})]})},wC=()=>{const[t,n]=(0,e.useState)({email:"",subject:"",message:""}),[r,o]=(0,e.useState)(!1),[i,s]=(0,e.useState)(!1),a=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))};return(0,Db.jsxs)("div",{className:"help-screen",children:[(0,Db.jsxs)("div",{className:"help-hero",children:[(0,Db.jsx)("div",{className:"hero-icon",children:(0,Db.jsx)(Iw,{})}),(0,Db.jsx)("h1",{className:"hero-title",children:"How Can We Help?"}),(0,Db.jsx)("p",{className:"hero-subtitle",children:"Get support or send us your feedback"})]}),(0,Db.jsxs)("div",{className:"help-section",children:[(0,Db.jsx)("h2",{className:"section-title",children:"Frequently Asked Questions"}),(0,Db.jsx)("div",{className:"faq-list",children:[{question:"How do I place an order?",answer:"Browse the menu, add items to cart, enter your seat details, and complete payment."},{question:"How long does delivery take?",answer:"Typically 15-20 minutes depending on stadium location and order volume."},{question:"Can I cancel my order?",answer:"Orders can be cancelled within 2 minutes of placement. Contact support for assistance."},{question:"What payment methods are accepted?",answer:"We accept credit/debit cards via Stripe and Airwallex payment gateways."},{question:"How do I track my order?",answer:"After placing an order, you'll see a tracking screen showing real-time status updates."}].map((e,t)=>(0,Db.jsxs)("div",{className:"faq-item",children:[(0,Db.jsx)("h3",{className:"faq-question",children:e.question}),(0,Db.jsx)("p",{className:"faq-answer",children:e.answer})]},t))})]}),(0,Db.jsxs)("div",{className:"help-section contact-section",children:[(0,Db.jsx)("h2",{className:"section-title",children:"Send Us a Message"}),(0,Db.jsx)("p",{className:"section-subtitle",children:"Have a complaint or suggestion? We'd love to hear from you!"}),i?(0,Db.jsxs)("div",{className:"success-message",children:[(0,Db.jsx)(Sw,{className:"success-icon"}),(0,Db.jsx)("h3",{children:"Thank You!"}),(0,Db.jsx)("p",{children:"Your message has been received. We'll get back to you soon."})]}):(0,Db.jsxs)("form",{className:"contact-form",onSubmit:async e=>{if(e.preventDefault(),!t.email||!t.subject||!t.message)return void Fk("Please fill in all fields","error",3e3);if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){o(!0);try{const e=pt.getUserData();await Lf(Ch(Cb,"complaints"),{email:t.email,subject:t.subject,message:t.message,userId:(null===e||void 0===e?void 0:e.id)||null,userName:e?`${e.firstName||""} ${e.lastName||""}`.trim():"Guest",userPhone:(null===e||void 0===e?void 0:e.phone)||null,status:"pending",createdAt:Uf(),timestamp:(new Date).toISOString()}),s(!0),Fk("Your message has been sent successfully!","success",4e3),n({email:"",subject:"",message:""}),setTimeout(()=>{s(!1)},5e3)}catch(r){console.error("Error submitting complaint:",r),Fk("Failed to send message. Please try again.","error",4e3)}finally{o(!1)}}else Fk("Please enter a valid email address","error",3e3)},children:[(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsxs)("label",{className:"form-label",children:[(0,Db.jsx)(Mw,{className:"label-icon"}),"Email Address"]}),(0,Db.jsx)("input",{type:"email",name:"email",value:t.email,onChange:a,placeholder:"your.email@example.com",className:"form-input",required:!0})]}),(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsxs)("label",{className:"form-label",children:[(0,Db.jsx)(Uw,{className:"label-icon"}),"Subject"]}),(0,Db.jsx)("input",{type:"text",name:"subject",value:t.subject,onChange:a,placeholder:"What is this about?",className:"form-input",required:!0})]}),(0,Db.jsxs)("div",{className:"form-group",children:[(0,Db.jsxs)("label",{className:"form-label",children:[(0,Db.jsx)(Uw,{className:"label-icon"}),"Message"]}),(0,Db.jsx)("textarea",{name:"message",value:t.message,onChange:a,placeholder:"Tell us more about your issue or feedback...",className:"form-textarea",rows:"6",required:!0})]}),(0,Db.jsx)("button",{type:"submit",className:"submit-button",disabled:r,children:r?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("span",{className:"spinner"}),"Sending..."]}):(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(qw,{className:"button-icon"}),"Send Message"]})})]})]}),(0,Db.jsxs)("div",{className:"help-section contact-info-section",children:[(0,Db.jsx)("h2",{className:"section-title",children:"Other Ways to Reach Us"}),(0,Db.jsx)("div",{className:"contact-methods",children:(0,Db.jsxs)("div",{className:"contact-method",children:[(0,Db.jsx)(Mw,{className:"method-icon"}),(0,Db.jsxs)("div",{className:"method-details",children:[(0,Db.jsx)("h3",{className:"method-title",children:"Email"}),(0,Db.jsx)("a",{href:"mailto:support@fanmunch.com",className:"method-link",children:"support@fanmunch.com"})]})]})})]})]})},kC=()=>{const e=J();return["/","/onboarding","/auth","/forgot-password","/splash"].includes(e.pathname)?null:(0,Db.jsx)(lC,{})},_C=()=>{const e=window.location.search,t=localStorage.getItem("userToken"),n=localStorage.getItem("hasSeenOnboarding");return console.log("\ud83d\udd00 [REDIRECT] window.location.search:",e),console.log("\ud83d\udd00 [REDIRECT] isLoggedIn:",!!t),console.log("\ud83d\udd00 [REDIRECT] hasSeenOnboarding:",!!n),t?(console.log("\ud83d\udd00 [REDIRECT] Logged in, redirecting to:",`/home${e}`),(0,Db.jsx)(be,{to:`/home${e}`,replace:!0})):n?(console.log("\ud83d\udd00 [REDIRECT] Not logged in but seen onboarding, redirecting to home"),(0,Db.jsx)(be,{to:`/home${e}`,replace:!0})):(0,Db.jsx)(be,{to:`/onboarding${e}`,replace:!0})};try{iw().init("cvlyge/fanmunch"),console.log("\ud83d\udcca [LogRocket] Successfully initialized"),console.log("\ud83d\udcca [LogRocket] Environment:","production"),console.log("\ud83d\udcca [LogRocket] Hostname:",window.location.hostname)}catch(xC){console.error("\ud83d\udcca [LogRocket] Failed to initialize:",xC)}const SC=function(){return(0,e.useEffect)(()=>{console.log("\ud83d\ude80 [APP] Initializing app..."),(0,sw.Jn)();const e=(0,sw.D3)();e&&console.log("\ud83d\udcca [APP] Cache status:",e.message)},[]),(0,e.useEffect)(()=>{try{const e=new URLSearchParams(window.location.search);if(e&&Array.from(e.keys()).length>0){const t={row:e.get("row")||"",seatNo:e.get("seat")||e.get("seatNo")||"",section:e.get("section")||"",sectionId:e.get("sectionId")||"",seatDetails:e.get("details")||e.get("seatDetails")||"",area:e.get("area")||"",entrance:e.get("entrance")||e.get("gate")||"",stand:e.get("stand")||"",ticketImage:e.get("ticketImage")||""};Object.values(t).some(e=>e&&""!==String(e).trim())&&(ht.setSeatInfo(t),console.log("\ud83c\udfab QR parameters parsed and saved:",t))}}catch(EC){console.log("QR param parse skipped:",null===EC||void 0===EC?void 0:EC.message)}},[]),(0,e.useEffect)(()=>{try{const e=pt.getUserData();e&&e.id&&(iw().identify(e.id,{name:`${e.firstName||""} ${e.lastName||""}`.trim()||"Unknown",email:e.email||"",phone:e.phone||""}),console.log("\ud83d\udcca [LogRocket] User identified:",e.id))}catch(xC){console.error("\ud83d\udcca [LogRocket] Failed to identify user:",xC)}},[]),(0,Db.jsx)(nw,{children:(0,Db.jsx)(Yb,{children:(0,Db.jsx)(Bb,{children:(0,Db.jsx)(nt,{children:(0,Db.jsxs)("div",{className:"app",children:[(0,Db.jsxs)(_e,{children:[(0,Db.jsx)(we,{path:"/",element:(0,Db.jsx)(_C,{})}),(0,Db.jsx)(we,{path:"/splash",element:(0,Db.jsx)(aw,{})}),(0,Db.jsx)(we,{path:"/onboarding",element:(0,Db.jsx)(cw,{})}),(0,Db.jsx)(we,{path:"/auth",element:(0,Db.jsx)(ik,{})}),(0,Db.jsx)(we,{path:"/forgot-password",element:(0,Db.jsx)(ak,{})}),(0,Db.jsx)(we,{path:"/stadium-selection",element:(0,Db.jsx)(hk,{})}),(0,Db.jsx)(we,{path:"/home",element:(0,Db.jsx)(Pk,{})}),(0,Db.jsx)(we,{path:"/menu",element:(0,Db.jsx)(hC,{})}),(0,Db.jsx)(we,{path:"/orders",element:(0,Db.jsx)(Dk,{})}),(0,Db.jsx)(we,{path:"/cart",element:(0,Db.jsx)(l_,{})}),(0,Db.jsx)(we,{path:"/precart",element:(0,Db.jsx)(c_,{})}),(0,Db.jsx)(we,{path:"/profile",element:(0,Db.jsx)(b_,{})}),(0,Db.jsx)(we,{path:"/settings/about",element:(0,Db.jsx)(fC,{})}),(0,Db.jsx)(we,{path:"/settings/terms",element:(0,Db.jsx)(pC,{})}),(0,Db.jsx)(we,{path:"/settings/privacy",element:(0,Db.jsx)(mC,{})}),(0,Db.jsx)(we,{path:"/settings/feedback",element:(0,Db.jsx)(gC,{})}),(0,Db.jsx)(we,{path:"/settings/report",element:(0,Db.jsx)(vC,{})}),(0,Db.jsx)(we,{path:"/settings/language",element:(0,Db.jsx)(yC,{})}),(0,Db.jsx)(we,{path:"/settings/currency",element:(0,Db.jsx)(bC,{})}),(0,Db.jsx)(we,{path:"/settings/help",element:(0,Db.jsx)(wC,{})}),(0,Db.jsx)(we,{path:"/food/:foodId",element:(0,Db.jsx)(P_,{})}),(0,Db.jsx)(we,{path:"/shop-menu/:shopId",element:(0,Db.jsx)(L_,{})}),(0,Db.jsx)(we,{path:"/tip",element:(0,Db.jsx)(O_,{})}),(0,Db.jsx)(we,{path:"/order/confirm",element:(0,Db.jsx)(qS,{})}),(0,Db.jsx)(we,{path:"/order/:orderId",element:(0,Db.jsx)(QS,{})}),(0,Db.jsx)(we,{path:"/tools/fanmunch-qr",element:(0,Db.jsx)(eC,{})}),(0,Db.jsx)(we,{path:"*",element:(0,Db.jsx)(be,{to:"/",replace:!0})})]}),(0,Db.jsx)(tC,{}),(0,Db.jsx)(kC,{}),(0,Db.jsx)(Uk,{})]})})})})})},CC=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:s}=t;n(e),r(e),o(e),i(e),s(e)})};t.createRoot(document.getElementById("root")).render((0,Db.jsx)(e.StrictMode,{children:(0,Db.jsx)(nw,{children:(0,Db.jsx)(SC,{})})})),CC()})()})();
//# sourceMappingURL=main.90b76d67.js.map