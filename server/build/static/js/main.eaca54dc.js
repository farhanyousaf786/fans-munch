/*! For license information please see main.eaca54dc.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),o=n(43),i=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope");var x=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case C:return"SuspenseList";case x:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case k:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var D=Array.isArray,B=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},j=[],M=-1;function F(e){return{current:e}}function U(e){0>M||(e.current=j[M],j[M]=null,M--)}function z(e,t){M++,j[M]=e.current,e.current=t}var V=F(null),$=F(null),q=F(null),H=F(null);function W(e,t){switch(z(q,t),z($,e),z(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),z(V,e)}function K(){U(V),U($),U(q)}function G(e){null!==e.memoizedState&&z(H,e);var t=V.current,n=id(t,e.type);t!==n&&(z($,e),z(V,n))}function Q(e){$.current===e&&(U(V),U($)),H.current===e&&(U(H),Gd._currentValue=O)}var Y=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,se=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~i)?o=ve(r):0!==(s&=a)?o=ve(s):n||0!==(n=a&~e)&&(o=ve(n)):0!==(a=r&~i)?o=ve(a):0!==s?o=ve(s):n||0!==(n=r&~e)&&(o=ve(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:o}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ce(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function xe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ae,De="__reactProps$"+Ae,Be="__reactContainer$"+Ae,Le="__reactEvents$"+Ae,Oe="__reactListeners$"+Ae,je="__reactHandles$"+Ae,Me="__reactResources$"+Ae,Fe="__reactMarker$"+Ae;function Ue(e){delete e[Re],delete e[De],delete e[Le],delete e[Oe],delete e[je]}function ze(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[Re]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[Re])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Re]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function qe(e){var t=e[Me];return t||(t=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Fe]=!0}var We=new Set,Ke={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(o=t,Y.call(et,o)||!Y.call(Ze,o)&&(Je.test(o)?et[o]=!0:(Ze[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],a=i[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return ot("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,o,i,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function yt(e,t,n,r,o,i,s,a){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(D(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Ct(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&Ct(e,i,t[i])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Dt=null;function Bt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[De]||null;if(!o)throw Error(s(90));gt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Ot(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Rt||null!==Dt)&&(zc(),Rt&&(t=Rt,e=Dt,Dt=Rt=null,Bt(t),e)))for(t=0;t<e.length;t++)Bt(e[t])}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[De]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Mt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Dh){Ft=!1}var zt=null,Vt=null,$t=null;function qt(){if($t)return $t;var e,t,n=Vt,r=n.length,o="value"in zt?zt.value:zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return $t=o.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Wt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Qt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Gt(nn),on=Gt(h({},nn,{dataTransfer:0})),sn=Gt(h({},en,{relatedTarget:0})),an=Gt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Gt(h({},Jt,{newState:0,oldState:0})),kn=[9,13,27,32],_n=Mt&&"CompositionEvent"in window,Sn=null;Mt&&"documentMode"in document&&(Sn=document.documentMode);var Cn=Mt&&"TextEvent"in window&&!Sn,En=Mt&&(!_n||Sn&&8<Sn&&11>=Sn),In=String.fromCharCode(32),xn=!1;function Tn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Dn(e,t,n,r){Rt?Dt?Dt.push(r):Dt=[r]:Rt=r,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bn=null,Ln=null;function On(e){Ou(e,0)}function jn(e){if(ht($e(e)))return e}function Mn(e,t){if("change"===e)return t}var Fn=!1;if(Mt){var Un;if(Mt){var zn="oninput"in document;if(!zn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),zn="function"===typeof Vn.oninput}Un=zn}else Un=!1;Fn=Un&&(!document.documentMode||9<document.documentMode)}function $n(){Bn&&(Bn.detachEvent("onpropertychange",qn),Ln=Bn=null)}function qn(e){if("value"===e.propertyName&&jn(Ln)){var t=[];Dn(t,Ln,e,At(e)),Ot(On,t)}}function Hn(e,t,n){"focusin"===e?($n(),Ln=n,(Bn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&$n()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jn(Ln)}function Kn(e,t){if("click"===e)return jn(t)}function Gn(e,t){if("input"===e||"change"===e)return jn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Y.call(t,o)||!Qn(e[o],t[o]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Mt&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ir=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=qu(or,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Mt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),wr=hr("transitionend"),br=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){br.set(e,t),Ge(t,[e])}kr.push("scrollEnd");var Sr=new WeakMap;function Cr(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Er=[],Ir=0,xr=0;function Tr(){for(var e=Ir,t=xr=Ir=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var o=Er[t];Er[t++]=null;var i=Er[t];if(Er[t++]=null,null!==r&&null!==o){var s=r.pending;null===s?o.next=o:(o.next=s.next,s.next=o),r.pending=o}0!==i&&Rr(n,o,i)}}function Nr(e,t,n,r){Er[Ir++]=e,Er[Ir++]=t,Er[Ir++]=n,Er[Ir++]=r,xr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Nr(e,t,n,r),Dr(e)}function Ar(e,t){return Nr(e,null,null,t),Dr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-fe(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Dr(e){if(50<Rc)throw Rc=0,Dc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Br={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,n,r){return new Lr(e,t,n,r)}function jr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mr(e,t){var n=e.alternate;return null===n?((n=Or(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,o,i){var a=0;if(r=e,"function"===typeof e)jr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case x:return(e=Or(31,n,t,o)).elementType=x,e.lanes=i,e;case g:return zr(n.children,o,i,t);case y:a=8,o|=24;break;case v:return(e=Or(12,n,t,2|o)).elementType=v,e.lanes=i,e;case S:return(e=Or(13,n,t,o)).elementType=S,e.lanes=i,e;case C:return(e=Or(19,n,t,o)).elementType=C,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:case k:a=10;break e;case b:a=9;break e;case _:a=11;break e;case E:a=14;break e;case I:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Or(a,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function zr(e,t,n,r){return(e=Or(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Or(6,e,null,t)).lanes=n,e}function $r(e,t,n){return(t=Or(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Hr=0,Wr=null,Kr=0,Gr=[],Qr=0,Yr=null,Xr=1,Jr="";function Zr(e,t){qr[Hr++]=Kr,qr[Hr++]=Wr,Wr=e,Kr=t}function eo(e,t,n){Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Yr=e;var r=Xr;e=Jr;var o=32-fe(r)-1;r&=~(1<<o),n+=1;var i=32-fe(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Xr=1<<32-fe(t)+o|n<<o|r,Jr=i+e}else Xr=1<<i|n<<o|r,Jr=e}function to(e){null!==e.return&&(Zr(e,1),eo(e,1,0))}function no(e){for(;e===Wr;)Wr=qr[--Hr],qr[Hr]=null,Kr=qr[--Hr],qr[Hr]=null;for(;e===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null}var ro=null,oo=null,io=!1,so=null,ao=!1,lo=Error(s(519));function co(e){throw go(Cr(Error(s(418,"")),e)),lo}function uo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Re]=e,t[De]=r,n){case"dialog":ju("cancel",t),ju("close",t);break;case"iframe":case"object":case"embed":ju("load",t);break;case"video":case"audio":for(n=0;n<Bu.length;n++)ju(Bu[n],t);break;case"source":ju("error",t);break;case"img":case"image":case"link":ju("error",t),ju("load",t);break;case"details":ju("toggle",t);break;case"input":ju("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":ju("invalid",t);break;case"textarea":ju("invalid",t),kt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(ju("beforetoggle",t),ju("toggle",t)),null!=r.onScroll&&ju("scroll",t),null!=r.onScrollEnd&&ju("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||co(e)}function ho(e){for(ro=e.return;ro;)switch(ro.tag){case 5:case 13:return void(ao=!1);case 27:case 3:return void(ao=!0);default:ro=ro.return}}function fo(e){if(e!==ro)return!1;if(!io)return ho(e),io=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&oo&&co(e),ho(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oo=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oo=null}}else 27===n?(n=oo,fd(e.type)?(e=vd,vd=null,oo=e):oo=n):oo=ro?yd(e.stateNode.nextSibling):null;return!0}function po(){oo=ro=null,io=!1}function mo(){var e=so;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),so=null),e}function go(e){null===so?so=[e]:so.push(e)}var yo=F(null),vo=null,wo=null;function bo(e,t,n){z(yo,t._currentValue),t._currentValue=n}function ko(e){e._currentValue=yo.current,U(yo)}function _o(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function So(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var a=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),_o(i.return,n,e),r||(a=null);break e}i=l.next}}else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(i=a.alternate)&&(i.lanes|=n),_o(a,n,e),a=null}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}}function Co(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var a=o.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=o.type;Qn(o.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(o===H.current){if(null===(a=o.alternate))throw Error(s(387));a.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}o=o.return}null!==e&&So(t,e,n,r),t.flags|=262144}function Eo(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Io(e){vo=e,wo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function xo(e){return No(vo,e)}function To(e,t){return null===vo&&Io(e),No(e,t)}function No(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===wo){if(null===e)throw Error(s(308));wo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wo=wo.next=t;return n}var Po="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ao=r.unstable_scheduleCallback,Ro=r.unstable_NormalPriority,Do={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bo(){return{controller:new Po,data:new Map,refCount:0}}function Lo(e){e.refCount--,0===e.refCount&&Ao(Ro,function(){e.controller.abort()})}var Oo=null,jo=0,Mo=0,Fo=null;function Uo(){if(0===--jo&&null!==Oo){null!==Fo&&(Fo.status="fulfilled");var e=Oo;Oo=null,Mo=0,Fo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zo=B.S;B.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Oo){var n=Oo=[];jo=0,Mo=Nu(),Fo={status:"pending",value:void 0,then:function(e){n.push(e)}}}jo++,t.then(Uo,Uo)}(0,t),null!==zo&&zo(e,t)};var Vo=F(null);function $o(){var e=Vo.current;return null!==e?e:rc.pooledCache}function qo(e,t){z(Vo,null===t?Vo.current:t.pool)}function Ho(){var e=$o();return null===e?null:{parent:Do._currentValue,pool:e}}var Wo=Error(s(460)),Ko=Error(s(474)),Go=Error(s(542)),Qo={then:function(){}};function Yo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xo(){}function Jo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xo,Xo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xo,Xo);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e}throw Zo=t,Wo}}var Zo=null;function ei(){if(null===Zo)throw Error(s(459));var e=Zo;return Zo=null,e}function ti(e){if(e===Wo||e===Go)throw Error(s(483))}var ni=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Dr(e),Rr(e,null,n),t}return Nr(e,r,t,n),Dr(e)}function ai(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xe(e,n)}}function li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ci=!1;function ui(){if(ci){if(null!==Fo)throw Fo}}function di(e,t,n,r){ci=!1;var o=e.updateQueue;ni=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(ic&f)===f:(r&f)===f){0!==f&&f===Mo&&(ci=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ni=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=o.callbacks)?o.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(p=a).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=d}}function hi(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function fi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hi(n[e],t)}var pi=F(null),mi=F(0);function gi(e,t){z(mi,e=dc),z(pi,t),dc=e|t.baseLanes}function yi(){z(mi,dc),z(pi,pi.current)}function vi(){dc=mi.current,U(pi),U(mi)}var wi=0,bi=null,ki=null,_i=null,Si=!1,Ci=!1,Ei=!1,Ii=0,xi=0,Ti=null,Ni=0;function Pi(){throw Error(s(321))}function Ai(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ri(e,t,n,r,o,i){return wi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=null===e||null===e.memoizedState?Ws:Ks,Ei=!1,i=n(r,o),Ei=!1,Ci&&(i=Bi(t,n,r,o)),Di(e),i}function Di(e){B.H=Hs;var t=null!==ki&&null!==ki.next;if(wi=0,_i=ki=bi=null,Si=!1,xi=0,Ti=null,t)throw Error(s(300));null===e||xa||null!==(e=e.dependencies)&&Eo(e)&&(xa=!0)}function Bi(e,t,n,r){bi=e;var o=0;do{if(Ci&&(Ti=null),xi=0,Ci=!1,25<=o)throw Error(s(301));if(o+=1,_i=ki=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}B.H=Gs,i=t(n,r)}while(Ci);return i}function Li(){var e=B.H,t=e.useState()[0];return t="function"===typeof t.then?zi(t):t,e=e.useState()[0],(null!==ki?ki.memoizedState:null)!==e&&(bi.flags|=1024),t}function Oi(){var e=0!==Ii;return Ii=0,e}function ji(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mi(e){if(Si){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Si=!1}wi=0,_i=ki=bi=null,Ci=!1,xi=Ii=0,Ti=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_i?bi.memoizedState=_i=e:_i=_i.next=e,_i}function Ui(){if(null===ki){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=ki.next;var t=null===_i?bi.memoizedState:_i.next;if(null!==t)_i=t,ki=e;else{if(null===e){if(null===bi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(ki=e).memoizedState,baseState:ki.baseState,baseQueue:ki.baseQueue,queue:ki.queue,next:null},null===_i?bi.memoizedState=_i=e:_i=_i.next=e}return _i}function zi(e){var t=xi;return xi+=1,null===Ti&&(Ti=[]),e=Jo(Ti,e,t),t=bi,null===(null===_i?t.memoizedState:_i.next)&&(t=t.alternate,B.H=null===t||null===t.memoizedState?Ws:Ks),e}function Vi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return zi(e);if(e.$$typeof===k)return xo(e)}throw Error(s(438,String(e)))}function $i(e){var t=null,n=bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function qi(e,t){return"function"===typeof t?t(e):t}function Hi(e){return Wi(Ui(),ki,e)}function Wi(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=a=null,c=null,u=t=o.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(wi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Mo&&(d=!0);else{if((wi&f)===f){u=u.next,f===Mo&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=i):c=c.next=h,bi.lanes|=f,fc|=f}h=u.action,Ei&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=i):c=c.next=f,bi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=i:c.next=l,!Qn(i,e.memoizedState)&&(xa=!0,d&&null!==(n=Fo)))throw n;e.memoizedState=i,e.baseState=a,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ki(e){var t=Ui(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);Qn(i,t.memoizedState)||(xa=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gi(e,t,n){var r=bi,o=Ui(),i=io;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Qn((ki||o).memoizedState,n);if(a&&(o.memoizedState=n,xa=!0),o=o.queue,ys(2048,8,Xi.bind(null,r,o,e),[e]),o.getSnapshot!==t||a||null!==_i&&1&_i.memoizedState.tag){if(r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,o,n,t),null),null===rc)throw Error(s(349));i||0!==(124&wi)||Qi(r,t,n)}return n}function Qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,r){t.value=n,t.getSnapshot=r,Ji(t)&&Zi(e)}function Xi(e,t,n){return n(function(){Ji(t)&&Zi(e)})}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Zi(e){var t=Ar(e,2);null!==t&&Oc(t,e,2)}function es(e){var t=Fi();if("function"===typeof e){var n=e;if(e=n(),Ei){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,Wi(e,ki,"function"===typeof r?r:qi)}function ns(e,t,n,r,o){if(Vs(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==B.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,rs(t,i)):(i.next=n.next,t.pending=n.next=i)}}function rs(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=B.T,s={};B.T=s;try{var a=n(o,r),l=B.S;null!==l&&l(s,a),os(e,t,a)}catch(c){ss(e,t,c)}finally{B.T=i}}else try{os(e,t,i=n(o,r))}catch(u){ss(e,t,u)}}function os(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){is(e,t,n)},function(n){return ss(e,t,n)}):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==r)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(io){var n=rc.formState;if(null!==n){e:{var r=bi;if(io){if(oo){t:{for(var o=oo,i=ao;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=yd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){oo=yd(o.nextSibling),r="F!"===o.data;break e}}co(r)}r=!1}r&&(t=n[0])}}return(n=Fi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=Fs.bind(null,bi,r),r.dispatch=n,r=es(!1),i=zs.bind(null,bi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=Fi()).queue=o,n=ns.bind(null,bi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function us(e){return ds(Ui(),ki,e)}function ds(e,t,n){if(t=Wi(e,t,ls)[0],e=Hi(qi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=zi(t)}catch(s){if(s===Wo)throw Go;throw s}else r=t;var o=(t=Ui()).queue,i=o.dispatch;return n!==t.memoizedState&&(bi.flags|=2048,ps(9,{destroy:void 0,resource:void 0},hs.bind(null,o,n),null)),[r,i,e]}function hs(e,t){e.action=t}function fs(e){var t=Ui(),n=ki;if(null!==n)return ds(t,n,e);Ui(),t=t.memoizedState;var r=(n=Ui()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return Ui().memoizedState}function gs(e,t,n,r){var o=Fi();r=void 0===r?null:r,bi.flags|=e,o.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function ys(e,t,n,r){var o=Ui();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==ki&&null!==r&&Ai(r,ki.memoizedState.deps)?o.memoizedState=ps(t,i,n,r):(bi.flags|=e,o.memoizedState=ps(1|t,i,n,r))}function vs(e,t){gs(8390656,8,e,t)}function ws(e,t){ys(2048,8,e,t)}function bs(e,t){return ys(4,2,e,t)}function ks(e,t){return ys(4,4,e,t)}function _s(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ss(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ys(4,4,_s.bind(null,t,e),n)}function Cs(){}function Es(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ai(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Is(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ai(t,r[1]))return r[0];if(r=e(),Ei){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function xs(e,t,n){return void 0===n||0!==(1073741824&wi)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),bi.lanes|=e,fc|=e,n)}function Ts(e,t,n,r){return Qn(n,t)?n:null!==pi.current?(e=xs(e,n,r),Qn(e,t)||(xa=!0),e):0===(42&wi)?(xa=!0,e.memoizedState=n):(e=Lc(),bi.lanes|=e,fc|=e,t)}function Ns(e,t,n,r,o){var i=L.p;L.p=0!==i&&8>i?i:8;var s=B.T,a={};B.T=a,zs(e,!1,t,n);try{var l=o(),c=B.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Bc());else Us(e,t,r,Bc())}catch(u){Us(e,t,{then:function(){},status:"rejected",reason:u},Bc())}finally{L.p=i,B.T=s}}function Ps(){}function As(e,t,n,r){if(5!==e.tag)throw Error(s(476));var o=Rs(e).queue;Ns(e,o,t,O,null===n?Ps:function(){return Ds(e),n(r)})}function Rs(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ds(e){Us(e,Rs(e).next.queue,{},Bc())}function Bs(){return xo(Gd)}function Ls(){return Ui().memoizedState}function Os(){return Ui().memoizedState}function js(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Bc(),r=si(t,e=ii(n),n);return null!==r&&(Oc(r,t,n),ai(r,t,n)),t={cache:Bo()},void(e.payload=t)}t=t.return}}function Ms(e,t,n){var r=Bc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vs(e)?$s(t,n):null!==(n=Pr(e,t,n,r))&&(Oc(n,e,r),qs(n,t,r))}function Fs(e,t,n){Us(e,t,n,Bc())}function Us(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vs(e))$s(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Qn(a,s))return Nr(e,t,o,0),null===rc&&Tr(),!1}catch(l){}if(null!==(n=Pr(e,t,o,r)))return Oc(n,e,r),qs(n,t,r),!0}return!1}function zs(e,t,n,r){if(r={lane:2,revertLane:Nu(),action:r,hasEagerState:!1,eagerState:null,next:null},Vs(e)){if(t)throw Error(s(479))}else null!==(t=Pr(e,n,r,2))&&Oc(t,e,2)}function Vs(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function $s(e,t){Ci=Si=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xe(e,n)}}var Hs={readContext:xo,use:Vi,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useLayoutEffect:Pi,useInsertionEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useSyncExternalStore:Pi,useId:Pi,useHostTransitionStatus:Pi,useFormState:Pi,useActionState:Pi,useOptimistic:Pi,useMemoCache:Pi,useCacheRefresh:Pi},Ws={readContext:xo,use:Vi,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:xo,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4194308,4,_s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=Fi();t=void 0===t?null:t;var r=e();if(Ei){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fi();if(void 0!==n){var o=n(t);if(Ei){he(!0);try{n(t)}finally{he(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Ms.bind(null,bi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=Fs.bind(null,bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Cs,useDeferredValue:function(e,t){return xs(Fi(),e,t)},useTransition:function(){var e=es(!1);return e=Ns.bind(null,bi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bi,o=Fi();if(io){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ic)||Qi(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,vs(Xi.bind(null,r,i,e),[e]),r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,i,n,t),null),n},useId:function(){var e=Fi(),t=rc.identifierPrefix;if(io){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=Ii++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ni++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Bs,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=zs.bind(null,bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:$i,useCacheRefresh:function(){return Fi().memoizedState=js.bind(null,bi)}},Ks={readContext:xo,use:Vi,useCallback:Es,useContext:xo,useEffect:ws,useImperativeHandle:Ss,useInsertionEffect:bs,useLayoutEffect:ks,useMemo:Is,useReducer:Hi,useRef:ms,useState:function(){return Hi(qi)},useDebugValue:Cs,useDeferredValue:function(e,t){return Ts(Ui(),ki.memoizedState,e,t)},useTransition:function(){var e=Hi(qi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Gi,useId:Ls,useHostTransitionStatus:Bs,useFormState:us,useActionState:us,useOptimistic:function(e,t){return ts(Ui(),0,e,t)},useMemoCache:$i,useCacheRefresh:Os},Gs={readContext:xo,use:Vi,useCallback:Es,useContext:xo,useEffect:ws,useImperativeHandle:Ss,useInsertionEffect:bs,useLayoutEffect:ks,useMemo:Is,useReducer:Ki,useRef:ms,useState:function(){return Ki(qi)},useDebugValue:Cs,useDeferredValue:function(e,t){var n=Ui();return null===ki?xs(n,e,t):Ts(n,ki.memoizedState,e,t)},useTransition:function(){var e=Ki(qi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Gi,useId:Ls,useHostTransitionStatus:Bs,useFormState:fs,useActionState:fs,useOptimistic:function(e,t){var n=Ui();return null!==ki?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$i,useCacheRefresh:Os},Qs=null,Ys=0;function Xs(e){var t=Ys;return Ys+=1,null===Qs&&(Qs=[]),Jo(Qs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Mr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===I&&ea(i)===t.type)?(Js(t=o(t,n.props),n),t.return=e,t):(Js(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=zr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Js(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=$r(t,e.mode,n)).return=e,t;case I:return h(e,t=(0,t._init)(t._payload),n)}if(D(t)||P(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xs(t),n);if(t.$$typeof===k)return h(e,To(e,t),n);Zs(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===o?c(e,t,n,r):null;case m:return n.key===o?u(e,t,n,r):null;case I:return f(e,t,n=(o=n._init)(n._payload),r)}if(D(n)||P(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Xs(n),r);if(n.$$typeof===k)return f(e,t,To(e,n),r);Zs(e,n)}return null}function y(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case I:return y(e,t,n,r=(0,r._init)(r._payload),o)}if(D(r)||P(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return y(e,t,n,Xs(r),o);if(r.$$typeof===k)return y(e,t,n,To(t,r),o);Zs(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var w=u.key;null!==c;){if(c.key===w){if((w=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=o(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===I&&ea(w)===c.type){n(l,c.sibling),Js(d=o(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=zr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Js(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case m:e:{for(w=u.key;null!==c;){if(c.key===w){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=o(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=$r(u,l.mode,d)).return=l,l=d}return a(l);case I:return v(l,c,u=(w=u._init)(u._payload),d)}if(D(u))return function(o,s,a,l){for(var c=null,u=null,d=s,p=s=0,m=null;null!==d&&p<a.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(o,d,a[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(o,d),s=i(g,s,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===a.length)return n(o,d),io&&Zr(o,p),c;if(null===d){for(;p<a.length;p++)null!==(d=h(o,a[p],l))&&(s=i(d,s,p),null===u?c=d:u.sibling=d,u=d);return io&&Zr(o,p),c}for(d=r(d);p<a.length;p++)null!==(m=y(d,o,p,a[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=i(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(o,e)}),io&&Zr(o,p),c}(l,c,u,d);if(P(u)){if("function"!==typeof(w=P(u)))throw Error(s(150));return function(o,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=a,m=a=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var w=f(o,p,v.value,c);if(null===w){null===p&&(p=g);break}e&&p&&null===w.alternate&&t(o,p),a=i(w,a,m),null===d?u=w:d.sibling=w,d=w,p=g}if(v.done)return n(o,p),io&&Zr(o,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(o,v.value,c))&&(a=i(v,a,m),null===d?u=v:d.sibling=v,d=v);return io&&Zr(o,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,o,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),a=i(v,a,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(o,e)}),io&&Zr(o,m),u}(l,c,u=w.call(u),d)}if("function"===typeof u.then)return v(l,c,Xs(u),d);if(u.$$typeof===k)return v(l,c,To(l,u),d);Zs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=o(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{Ys=0;var o=v(e,t,n,r);return Qs=null,o}catch(s){if(s===Wo||s===Go)throw s;var i=Or(29,s,null,e.mode);return i.lanes=r,i.return=e,i}}}var na=ta(!0),ra=ta(!1),oa=F(null),ia=null;function sa(e){var t=e.alternate;z(ua,1&ua.current),z(oa,e),null===ia&&(null===t||null!==pi.current||null!==t.memoizedState)&&(ia=e)}function aa(e){if(22===e.tag){if(z(ua,ua.current),z(oa,e),null===ia){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ia=e)}}else la()}function la(){z(ua,ua.current),z(oa,oa.current)}function ca(e){U(oa),ia===e&&(ia=null),U(ua)}var ua=F(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bc(),o=ii(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=si(e,o,r))&&(Oc(t,e,r),ai(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bc(),o=ii(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=si(e,o,r))&&(Oc(t,e,r),ai(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bc(),r=ii(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=si(e,r,n))&&(Oc(t,e,n),ai(t,e,n))}};function pa(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(o,i))}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=h({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var ya="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function va(e){ya(e)}function wa(e){console.error(e)}function ba(e){ya(e)}function ka(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function _a(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Sa(e,t,n){return(n=ii(n)).tag=3,n.payload={element:null},n.callback=function(){ka(e,t)},n}function Ca(e){return(e=ii(e)).tag=3,e}function Ea(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){_a(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){_a(t,n,r),"function"!==typeof o&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ia=Error(s(461)),xa=!1;function Ta(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Na(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Io(t),r=Ri(e,t,n,s,i,o),a=Oi(),null===e||xa?(io&&a&&to(t),t.flags|=1,Ta(e,t,r,o),t.child):(ji(e,t,o),Qa(e,t,o))}function Pa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||jr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Aa(e,t,i,r,o))}if(i=e.child,!Ya(e,o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return Qa(e,t,o)}return t.flags|=1,(e=Mr(i,r)).ref=t.ref,e.return=t,t.child=e}function Aa(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(xa=!1,t.pendingProps=r=i,!Ya(e,o))return t.lanes=e.lanes,Qa(e,t,o);0!==(131072&e.flags)&&(xa=!0)}}return La(e,t,n,r,o)}function Ra(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Da(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Da(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qo(0,null!==i?i.cachePool:null),null!==i?gi(t,i):yi(),aa(t)}else null!==i?(qo(0,i.cachePool),gi(t,i),la(),t.memoizedState=null):(null!==e&&qo(0,null),yi(),la());return Ta(e,t,o,n),t.child}function Da(e,t,n,r){var o=$o();return o=null===o?null:{parent:Do._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&qo(0,null),yi(),aa(t),null!==e&&Co(e,t,r,!0),null}function Ba(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function La(e,t,n,r,o){return Io(t),n=Ri(e,t,n,r,void 0,o),r=Oi(),null===e||xa?(io&&r&&to(t),t.flags|=1,Ta(e,t,n,o),t.child):(ji(e,t,o),Qa(e,t,o))}function Oa(e,t,n,r,o,i){return Io(t),t.updateQueue=null,n=Bi(t,r,n,o),Di(e),r=Oi(),null===e||xa?(io&&r&&to(t),t.flags|=1,Ta(e,t,n,i),t.child):(ji(e,t,i),Qa(e,t,i))}function ja(e,t,n,r,o){if(Io(t),null===t.stateNode){var i=Br,s=n.contextType;"object"===typeof s&&null!==s&&(i=xo(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ri(t),s=n.contextType,i.context="object"===typeof s&&null!==s?xo(s):Br,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ha(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&fa.enqueueReplaceState(i,i.state,null),di(t,r,i,o),ui(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var a=t.memoizedProps,l=ga(n,a);i.props=l;var c=i.context,u=n.contextType;s=Br,"object"===typeof u&&null!==u&&(s=xo(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a||c!==s)&&ma(t,i,r,s),ni=!1;var h=t.memoizedState;i.state=h,di(t,r,i,o),ui(),c=t.memoizedState,a||h!==c||ni?("function"===typeof d&&(ha(t,n,d,r),c=t.memoizedState),(l=ni||pa(t,n,l,r,h,c,s))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,oi(e,t),u=ga(n,s=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Br,"object"===typeof c&&null!==c&&(l=xo(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==l)&&ma(t,i,r,l),ni=!1,h=t.memoizedState,i.state=h,di(t,r,i,o),ui();var f=t.memoizedState;s!==d||h!==f||ni||null!==e&&null!==e.dependencies&&Eo(e.dependencies)?("function"===typeof a&&(ha(t,n,a,r),f=t.memoizedState),(u=ni||pa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Eo(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ba(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,o),t.child=na(t,null,n,o)):Ta(e,t,n,o),t.memoizedState=i.state,e=t.child):e=Qa(e,t,o),e}function Ma(e,t,n,r){return po(),t.flags|=256,Ta(e,t,n,r),t.child}var Fa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ua(e){return{baseLanes:e,cachePool:Ho()}}function za(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Va(e,t,n){var r,o=t.pendingProps,i=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(io){if(i?sa(t):la(),io){var l,c=oo;if(l=c){e:{for(l=c,c=ao;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Or(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ro=t,oo=null,l=!0):l=!1}l||co(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=o.children,o=o.fallback,i?(la(),c=qa({mode:"hidden",children:c},i=t.mode),o=zr(o,i,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(i=t.child).memoizedState=Ua(n),i.childLanes=za(e,r,n),t.memoizedState=Fa,o):(sa(t),$a(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Ha(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),i=o.fallback,c=t.mode,o=qa({mode:"visible",children:o.children},c),(i=zr(i,c,n,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,na(t,e.child,null,n),(o=t.child).memoizedState=Ua(n),o.childLanes=za(e,r,n),t.memoizedState=Fa,t=i);else if(sa(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(s(419))).stack="",o.digest=r,go({value:o,source:null,stack:null}),t=Ha(e,t,n)}else if(xa||Co(e,t,n,!1),r=0!==(n&e.childLanes),xa||r){if(null!==(r=rc)&&(0!==(o=0!==((o=0!==(42&(o=n&-n))?1:Te(o))&(r.suspendedLanes|n))?0:o)&&o!==l.retryLane))throw l.retryLane=o,Ar(e,o),Oc(r,e,o),Ia;"$?"===c.data||Kc(),t=Ha(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,oo=yd(c.nextSibling),ro=t,io=!0,so=null,ao=!1,null!==e&&(Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Xr=e.id,Jr=e.overflow,Yr=t),(t=$a(t,o.children)).flags|=4096);return t}return i?(la(),i=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=Mr(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Mr(u,i):(i=zr(i,c,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,null===(c=e.child.memoizedState)?c=Ua(n):(null!==(l=c.cachePool)?(u=Do._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ho(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=za(e,r,n),t.memoizedState=Fa,o):(sa(t),e=(n=e.child).sibling,(n=Mr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $a(e,t){return(t=qa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qa(e,t){return(e=Or(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ha(e,t,n){return na(t,e.child,null,n),(e=$a(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_o(e.return,t,n)}function Ka(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ga(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ta(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n,t);else if(19===e.tag)Wa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(ua,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ka(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===da(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ka(t,!0,n,null,i);break;case"together":Ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Co(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Eo(e))}function Xa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)xa=!0;else{if(!Ya(e,n)&&0===(128&t.flags))return xa=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),bo(0,Do,e.memoizedState.cache),po();break;case 27:case 5:G(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:bo(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Va(e,t,n):(sa(t),null!==(e=Qa(e,t,n))?e.sibling:null);sa(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Co(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return Ga(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),z(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ra(e,t,n);case 24:bo(0,Do,e.memoizedState.cache)}return Qa(e,t,n)}(e,t,n);xa=0!==(131072&e.flags)}else xa=!1,io&&0!==(1048576&t.flags)&&eo(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===_){t.tag=11,t=Na(null,t,r,e,n);break e}if(o===E){t.tag=14,t=Pa(null,t,r,e,n);break e}}throw t=R(r)||r,Error(s(306,t,""))}jr(r)?(e=ga(r,e),t.tag=1,t=ja(null,t,r,e,n)):(t.tag=0,t=La(null,t,r,e,n))}return t;case 0:return La(e,t,t.type,t.pendingProps,n);case 1:return ja(e,t,r=t.type,o=ga(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,oi(e,t),di(t,r,null,n);var a=t.memoizedState;if(r=a.cache,bo(0,Do,r),r!==i.cache&&So(t,[Do],n,!0),ui(),r=a.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ma(e,t,r,n);break e}if(r!==o){go(o=Cr(Error(s(424)),t)),t=Ma(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oo=yd(e.firstChild),ro=t,io=!0,so=null,ao=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===o){t=Qa(e,t,n);break e}Ta(e,t,r,n)}t=t.child}return t;case 26:return Ba(e,t),null===e?(n=Td(t.type,null,t.pendingProps,null))?t.memoizedState=n:io||(n=t.type,e=t.pendingProps,(r=rd(q.current).createElement(n))[Re]=t,r[De]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=Td(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&io&&(r=t.stateNode=bd(t.type,t.pendingProps,q.current),ro=t,ao=!0,o=oo,fd(t.type)?(vd=o,oo=yd(r.firstChild)):oo=o),Ta(e,t,t.pendingProps.children,n),Ba(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&io&&((o=r=oo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ao))?(t.stateNode=r,ro=t,oo=yd(r.firstChild),ao=!1,o=!0):o=!1),o||co(t)),G(t),o=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,r=i.children,sd(o,i)?r=null:null!==a&&sd(o,a)&&(t.flags|=32),null!==t.memoizedState&&(o=Ri(e,t,Li,null,null,n),Gd._currentValue=o),Ba(e,t),Ta(e,t,r,n),t.child;case 6:return null===e&&io&&((e=n=oo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,ao))?(t.stateNode=n,ro=t,oo=null,e=!0):e=!1),e||co(t)),null;case 13:return Va(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):Ta(e,t,r,n),t.child;case 11:return Na(e,t,t.type,t.pendingProps,n);case 7:return Ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ta(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bo(0,t.type,r.value),Ta(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Io(t),r=r(o=xo(o)),t.flags|=1,Ta(e,t,r,n),t.child;case 14:return Pa(e,t,t.type,t.pendingProps,n);case 15:return Aa(e,t,t.type,t.pendingProps,n);case 19:return Ga(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qa(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Mr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ra(e,t,n);case 24:return Io(t),r=xo(Do),null===e?(null===(o=$o())&&(o=rc,i=Bo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},ri(t),bo(0,Do,o)):(0!==(e.lanes&n)&&(oi(e,t),di(t,null,null,n),ui()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),bo(0,Do,r)):(r=i.cache,bo(0,Do,r),r!==o.cache&&So(t,[Do],n,!0))),Ta(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ja(e){e.flags|=4}function Za(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zd(t)){if(null!==(t=oa.current)&&((4194048&ic)===ic?null!==ia:(62914560&ic)!==ic&&0===(536870912&ic)||t!==ia))throw Zo=Qo,Ko;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ko(Do),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fo(t)?Ja(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mo())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Ja(t),null!==n?(nl(t),Za(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ja(t),nl(t),Za(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ja(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=q.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=V.current,fo(t)?uo(t):(e=bd(o,r,n),t.stateNode=e,Ja(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=V.current,fo(t))uo(t);else{switch(o=rd(q.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[Re]=t,e[De]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ja(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=q.current,fo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=ro))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||co(t)}else(e=rd(e).createTextNode(r))[Re]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[Re]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),o=!1}else o=mo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return ko(t.type),nl(t),null;case 19:if(U(ua),null===(o=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=o.rendering))if(r)tl(o,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=da(e))){for(t.flags|=128,tl(o,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return z(ua,1&ua.current|2),t.child}e=e.sibling}null!==o.tail&&te()>_c&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=da(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!io)return nl(t),null}else 2*te()-o.renderingStartTime>_c&&536870912!==n&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,e=ua.current,z(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),vi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Vo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ko(Do),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ol(e,t){switch(no(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ko(Do),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(ua),null;case 4:return K(),null;case 10:return ko(t.type),null;case 22:case 23:return ca(t),vi(),null!==e&&U(Vo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ko(Do),null;default:return null}}function il(e,t){switch(no(t),t.tag){case 3:ko(Do),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:ca(t);break;case 19:U(ua);break;case 10:ko(t.type);break;case 22:case 23:ca(t),vi(),null!==e&&U(Vo);break;case 24:ko(Do)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==o)}}catch(a){uu(t,t.return,a)}}function al(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,o=t;var l=n,c=a;try{c()}catch(u){uu(o,l,u)}}}r=r.next}while(r!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fi(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){uu(e,t,o)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){uu(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){uu(e,e.return,o)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":o=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Ju(e,t,f,p,r,h)}}return void gt(e,a,l,c,u,d,i,o);case"select":for(i in p=a=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Ju(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":a=i;default:i!==c&&Ju(e,t,o,i,r,c)}return t=l,n=a,r=p,void(null!=f?wt(e,!!n,f,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,o)}for(a in r)if(o=r[a],i=n[a],r.hasOwnProperty(a)&&(null!=o||null!=i))switch(a){case"value":f=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:o!==i&&Ju(e,t,a,o,r,i)}return void bt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(It(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Ju(e,t,h,f,r,p)}(r,e.type,n,t),r[De]=t}catch(o){uu(e,e.return,o)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ed(t,r,n),t[Re]=e,t[De]=n}catch(i){uu(e,e.return,i)}}var wl=!1,bl=!1,kl=!1,_l="function"===typeof WeakSet?WeakSet:Set,Sl=null;function Cl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:jl(e,n),4&r&&sl(5,n);break;case 1:if(jl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var o=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(jl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fi(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:jl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:jl(e,n);break;case 13:jl(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||bl,o=wl;var i=bl;wl=r,(bl=t)&&!i?Fl(e,n,0!==(8772&n.subtreeFlags)):jl(e,n),wl=o,bl=i}break;case 30:break;default:jl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Il=null,xl=!1;function Tl(e,t,n){for(n=n.child;null!==n;)Nl(e,t,n),n=n.sibling}function Nl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:bl||dl(n,t),Tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||dl(n,t);var r=Il,o=xl;fd(n.type)&&(Il=n.stateNode,xl=!1),Tl(e,t,n),kd(n.stateNode),Il=r,xl=o;break;case 5:bl||dl(n,t);case 6:if(r=Il,o=xl,Il=null,Tl(e,t,n),xl=o,null!==(Il=r))if(xl)try{(9===Il.nodeType?Il.body:"HTML"===Il.nodeName?Il.ownerDocument.body:Il).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Il.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Il&&(xl?(pd(9===(e=Il).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),xh(e)):pd(Il,n.stateNode));break;case 4:r=Il,o=xl,Il=n.stateNode.containerInfo,xl=!0,Tl(e,t,n),Il=r,xl=o;break;case 0:case 11:case 14:case 15:bl||al(2,n,t),bl||al(4,n,t),Tl(e,t,n);break;case 1:bl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Tl(e,t,n);break;case 21:Tl(e,t,n);break;case 22:bl=(r=bl)||null!==n.memoizedState,Tl(e,t,n),bl=r;break;default:Tl(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{xh(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _l),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _l),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Rl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Il=l.stateNode,xl=!1;break e}break;case 5:Il=l.stateNode,xl=!1;break e;case 3:case 4:Il=l.stateNode.containerInfo,xl=!0;break e}l=l.return}if(null===Il)throw Error(s(160));Nl(i,a,o),Il=null,xl=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Bl(t,e),t=t.sibling}var Dl=null;function Bl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),Ll(e),4&r&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:Rl(t,e),Ll(e),512&r&&(bl||null===n||dl(n,n.return)),64&r&&wl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Dl;if(Rl(t,e),Ll(e),512&r&&(bl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[Fe]||i[Re]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),ed(i,r,n),i[Re]=e,He(i),r=i;break e;case"link":var a=Fd("link","href",o).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((i=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(a=Fd("meta","content",o).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((i=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(s(468,r))}i[Re]=e,He(i),r=i}e.stateNode=r}else Ud(o,e.type,e.stateNode);else e.stateNode=Bd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Ud(o,e.type,e.stateNode):Bd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rl(t,e),Ll(e),512&r&&(bl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rl(t,e),Ll(e),512&r&&(bl||null===n||dl(n,n.return)),32&e.flags){o=e.stateNode;try{_t(o,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(kl=!0);break;case 6:if(Rl(t,e),Ll(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Md=null,o=Dl,Dl=Cd(t.containerInfo),Rl(t,e),Dl=o,Ll(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{xh(t.containerInfo)}catch(p){uu(e,e.return,p)}kl&&(kl=!1,Ol(e));break;case 4:r=Dl,Dl=Cd(e.stateNode.containerInfo),Rl(t,e),Ll(e),Dl=r;break;case 12:default:Rl(t,e),Ll(e);break;case 13:Rl(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(kc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,d=bl;if(wl=u||o,bl=d||c,Rl(t,e),bl=d,wl=u,Ll(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||wl||bl||Ml(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,o)"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:Rl(t,e),Ll(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode;yl(e,ml(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(_t(i,""),n.flags&=-33),yl(e,ml(e),i);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,ml(e),a);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ol(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ol(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function jl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function Ml(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),Ml(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ml(t);break;case 27:kd(t.stateNode);case 26:case 5:dl(t,t.return),Ml(t);break;case 22:null===t.memoizedState&&Ml(t);break;default:Ml(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Fl(o,i,n),sl(4,i);break;case 1:if(Fl(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(o=(r=i).updateQueue)){var a=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)hi(l[o],a)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(i),ul(i,i.return);break;case 27:vl(i);case 26:case 5:Fl(o,i,n),n&&null===r&&4&s&&hl(i),ul(i,i.return);break;case 12:Fl(o,i,n);break;case 13:Fl(o,i,n),n&&4&s&&Pl(o,i);break;case 22:null===i.memoizedState&&Fl(o,i,n),ul(i,i.return);break;case 30:break;default:Fl(o,i,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Lo(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Lo(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,n,r),t=t.sibling}function $l(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&o&&sl(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Lo(e)));break;case 12:if(2048&o){Vl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,a=i.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?Vl(e,t,n,r):Hl(e,t):2&i._visibility?Vl(e,t,n,r):(i._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&Ul(s,t);break;case 24:Vl(e,t,n,r),2048&o&&zl(t.alternate,t)}}function ql(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:ql(i,s,a,l,o),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?ql(i,s,a,l,o):Hl(i,s):(u._visibility|=2,ql(i,s,a,l,o)),o&&2048&c&&Ul(s.alternate,s);break;case 24:ql(i,s,a,l,o),o&&2048&c&&zl(s.alternate,s);break;default:ql(i,s,a,l,o)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Hl(n,r),2048&o&&Ul(r.alternate,r);break;case 24:Hl(n,r),2048&o&&zl(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Wl=8192;function Kl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Kl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(s(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=Nd(n.href),i=e.querySelector(Pd(o));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void He(i);i=e.ownerDocument||e,n=Ad(n),(o=_d.get(o))&&Od(n,o),He(i=i.createElement("link"));var a=i;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Dl;Dl=Cd(e.stateNode.containerInfo),Kl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Kl(e),Wl=t):Kl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Lo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var o=(r=Sl).sibling,i=r.return;if(El(r),r===n){Sl=null;break e}if(null!==o){o.return=i,Sl=o;break e}Sl=i}}}var ec={getCacheForType:function(e){var t=xo(Do),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,oc=null,ic=0,sc=0,ac=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,wc=null,bc=!1,kc=0,_c=1/0,Sc=null,Cc=null,Ec=0,Ic=null,xc=null,Tc=0,Nc=0,Pc=null,Ac=null,Rc=0,Dc=null;function Bc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==B.T){return 0!==Mo?Mo:Nu()}return Pe()}function Lc(){0===gc&&(gc=0===(536870912&ic)||io?_e():536870912);var e=oa.current;return null!==e&&(e.flags|=32),gc}function Oc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||($c(e,0),Uc(e,ic,gc,!1)),Ee(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&Uc(e,ic,gc,!1)),_u(e))}function jc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),o=r?function(e,t){var n=nc;nc|=2;var r=Hc(),o=Wc();rc!==e||ic!==t?(Sc=null,_c=te()+500,$c(e,t)):cc=be(e,t);e:for(;;)try{if(0!==sc&&null!==oc){t=oc;var i=ac;t:switch(sc){case 1:sc=0,ac=null,Zc(e,t,i,1);break;case 2:case 9:if(Yo(i)){sc=0,ac=null,Jc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),_u(e)},i.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Yo(i)?(sc=0,ac=null,Jc(t)):(sc=0,ac=null,Zc(e,t,i,7));break;case 5:var a=null;switch(oc.tag){case 26:a=oc.memoizedState;case 5:case 27:var l=oc;if(!a||zd(a)){sc=0,ac=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,eu(u)):oc=null}break t}}sc=0,ac=null,Zc(e,t,i,5);break;case 6:sc=0,ac=null,Zc(e,t,i,6);break;case 8:Vc(),hc=6;break e;default:throw Error(s(462))}}Yc();break}catch(d){qc(e,d)}return wo=vo=null,B.H=r,B.A=o,nc=n,null!==oc?0:(rc=null,ic=0,Tr(),hc)}(e,t):Gc(e,t,!0),i=r;;){if(0===o){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!i||Fc(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;o=vc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,a).flags|=256),2!==(a=Gc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,o=4;break e}i=wc,wc=o,null!==i&&(null===wc?wc=i:wc.push.apply(wc,i))}o=a}if(i=!1,2!==o)continue}}if(1===o){$c(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!lc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(o=kc+300-te())){if(Uc(r,t,gc,!lc),0!==we(r,0,!0))break e;r.timeoutHandle=ld(Mc.bind(null,r,n,wc,Sc,bc,t,gc,pc,yc,lc,i,2,-0,0),o)}else Mc(r,n,wc,Sc,bc,t,gc,pc,yc,lc,i,0,-0,0)}break}o=Gc(e,t,!1),i=!1}_u(e)}function Mc(e,t,n,r,o,i,a,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vd={stylesheets:null,count:0,unsuspend:$d},Gl(t),null!==(h=function(){if(null===Vd)throw Error(s(475));var e=Vd;return e.stylesheets&&0===e.count&&Wd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,o,a,l,c,d,1,f,p)),void Uc(e,i,a,!u);nu(e,t,i,n,r,o,a,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Qn(i(),o))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-fe(o),s=1<<i;r[i]=-1,o&=~s}0!==n&&Ie(e,n,t)}function zc(){return 0!==(6&nc)||(Su(0,!1),!1)}function Vc(){if(null!==oc){if(0===sc)var e=oc.return;else wo=vo=null,Mi(e=oc),Qs=null,Ys=0,e=oc;for(;null!==e;)il(e.alternate,e),e=e.return;oc=null}}function $c(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,oc=n=Mr(e.current,null),ic=t,sc=0,ac=null,lc=!1,cc=be(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,wc=vc=null,bc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-fe(r),i=1<<o;t|=e[o],r&=~i}return dc=t,Tr(),n}function qc(e,t){bi=null,B.H=Hs,t===Wo||t===Go?(t=ei(),sc=3):t===Ko?(t=ei(),sc=4):sc=t===Ia?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===oc&&(hc=1,ka(e,Cr(t,e.current)))}function Hc(){var e=B.H;return B.H=Hs,null===e?Hs:e}function Wc(){var e=B.A;return B.A=ec,e}function Kc(){hc=4,lc||(4194048&ic)!==ic&&null!==oa.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Uc(rc,ic,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var o=Hc(),i=Wc();rc===e&&ic===t||(Sc=null,$c(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==oc){var a=oc,l=ac;switch(sc){case 8:Vc(),s=6;break e;case 3:case 2:case 9:case 6:null===oa.current&&(t=!0);var c=sc;if(sc=0,ac=null,Zc(e,a,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,ac=null,Zc(e,a,l,c)}}Qc(),s=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,wo=vo=null,nc=r,B.H=o,B.A=i,null===oc&&(rc=null,ic=0,Tr()),s}function Qc(){for(;null!==oc;)Xc(oc)}function Yc(){for(;null!==oc&&!Z();)Xc(oc)}function Xc(e){var t=Xa(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Oa(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Oa(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Mi(t);default:il(n,t),t=Xa(n,t=oc=Fr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Zc(e,t,n,r){wo=vo=null,Mi(t),Qs=null,Ys=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Co(t,n,o,!0),null!==(n=oa.current)){switch(n.tag){case 13:return null===ia?Kc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Qo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,o)),!1;case 22:return n.flags|=65536,r===Qo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,o)),!1}throw Error(s(435,n.tag))}return du(e,r,o),Kc(),!1}if(io)return null!==(t=oa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==lo&&go(Cr(e=Error(s(422),{cause:r}),n))):(r!==lo&&go(Cr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Cr(r,n),li(e,o=Sa(e.stateNode,r,o)),4!==hc&&(hc=2)),!1;var i=Error(s(520),{cause:r});if(i=Cr(i,n),null===vc?vc=[i]:vc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Cr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,li(n,e=Sa(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Cc||!Cc.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Ea(o=Ca(o),e,n,r),li(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,ic))return hc=1,ka(e,Cr(n,e.current)),void(oc=null)}catch(i){if(null!==o)throw oc=o,i;return hc=1,ka(e,Cr(n,e.current)),void(oc=null)}32768&t.flags?(io||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=oa.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);hc=6,oc=null}function nu(e,t,n,r,o,i,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==Ec);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ie(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i|=xr,a,l,c),e===rc&&(oc=rc=null,ic=0),xc=t,Ic=e,Tc=n,Nc=i,Pc=o,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=B.T,B.T=null,o=L.p,L.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==i||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(l=a),f===i&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(i=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=ga(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=a,L.p=o,B.T=r}}Ec=1,ru(),ou(),iu()}}function ru(){if(1===Ec){Ec=0;var e=Ic,t=xc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=B.T,B.T=null;var r=L.p;L.p=2;var o=nc;nc|=4;try{Bl(t,e);var i=nd,s=er(e.containerInfo),a=i.focusedElem,l=i.selectionRange;if(s!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=Jn(a,m),v=Jn(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var w=d.createRange();w.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(w),f.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),f.addRange(w))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var b=d[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nh=!!td,nd=td=null}finally{nc=o,L.p=r,B.T=n}}e.current=t,Ec=2}}function ou(){if(2===Ec){Ec=0;var e=Ic,t=xc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=B.T,B.T=null;var r=L.p;L.p=2;var o=nc;nc|=4;try{Cl(e,t.alternate,t)}finally{nc=o,L.p=r,B.T=n}}Ec=3}}function iu(){if(4===Ec||3===Ec){Ec=0,ee();var e=Ic,t=xc,n=Tc,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,xc=Ic=null,su(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Cc=null),Ne(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=B.T,o=L.p,L.p=2,B.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];i(a.value,{componentStack:a.stack})}}finally{B.T=t,L.p=o}}0!==(3&Tc)&&au(),_u(e),o=e.pendingLanes,0!==(4194090&n)&&0!==(42&o)?e===Dc?Rc++:(Rc=0,Dc=e):Rc=0,Su(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Lo(t)))}function au(e){return ru(),ou(),iu(),lu()}function lu(){if(5!==Ec)return!1;var e=Ic,t=Nc;Nc=0;var n=Ne(Tc),r=B.T,o=L.p;try{L.p=32>n?32:n,B.T=null,n=Pc,Pc=null;var i=Ic,a=Tc;if(Ec=0,xc=Ic=null,Tc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Xl(i.current),$l(i,i.current,a,n),nc=l,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{L.p=o,B.T=r,su(e,t)}}function cu(e,t,n){t=Cr(n,t),null!==(e=si(e,t=Sa(e.stateNode,t,2),2))&&(Ee(e,2),_u(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Cc||!Cc.has(r))){e=Cr(n,e),null!==(r=si(t,n=Ca(2),2))&&(Ea(n,r,t,e),Ee(r,2),_u(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(uc=!0,o.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-kc?0===(2&nc)&&$c(e,0):mc|=n,yc===ic&&(yc=0)),_u(e)}function fu(e,t){0===t&&(t=Se()),null!==(e=Ar(e,t))&&(Ee(e,t),_u(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,wu=!1,bu=!1,ku=0;function _u(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),wu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?X(re,Cu):Eu()}))}function Su(e,t){if(!bu&&wu){bu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var s=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=o&~(s&~a))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Tu(r,i))}else i=ic,0===(3&(i=we(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||be(r,i)||(n=!0,Tu(r,i));r=r.next}}while(n);bu=!1}}function Cu(){Eu()}function Eu(){wu=vu=!1;var e=0;0!==ku&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=ku),ku=0);for(var t=te(),n=null,r=gu;null!==r;){var o=r.next,i=Iu(r,t);0===i?(r.next=null,null===n?gu=o:n.next=o,null===o&&(yu=n)):(n=r,(0!==e||0!==(3&i))&&(wu=!0)),r=o}Su(e,!1)}function Iu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-fe(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=ke(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}if(n=ic,n=we(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ne(n)){case 2:case 8:n=oe;break;case 32:default:n=ie;break;case 268435456:n=ae}return r=xu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function xu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=we(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(jc(e,r,t),Iu(e,te()),null!=e.callbackNode&&e.callbackNode===n?xu.bind(null,e):null)}function Tu(e,t){if(au())return null;jc(e,t,!0)}function Nu(){return 0===ku&&(ku=_e()),ku}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ru=0;Ru<kr.length;Ru++){var Du=kr[Ru];_r(Du.toLowerCase(),"on"+(Du[0].toUpperCase()+Du.slice(1)))}_r(fr,"onAnimationEnd"),_r(pr,"onAnimationIteration"),_r(mr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(gr,"onTransitionRun"),_r(yr,"onTransitionStart"),_r(vr,"onTransitionCancel"),_r(wr,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function Ou(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=c;try{i(o)}catch(u){ya(u)}o.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=c;try{i(o)}catch(u){ya(u)}o.currentTarget=null,i=l}}}}function ju(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function Mu(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Fu]){e[Fu]=!0,We.forEach(function(t){"selectionchange"!==t&&(Lu.has(t)||Mu(t,!1,e),Mu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,Mu("selectionchange",!1,t))}}function zu(e,t,n,r){switch(ch(t)){case 2:var o=rh;break;case 8:o=oh;break;default:o=ih}n=o.bind(null,t,n,e),o=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===o)return;s=s.return}for(;null!==a;){if(null===(s=ze(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=i=s;continue e}a=a.parentNode}}r=r.return}Ot(function(){var r=i,o=At(n),s=[];e:{var a=br.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=an;break;case wr:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=bn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=jt(m,f))&&d.push($u(m,g,p)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,o),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[Be])&&(c||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?a:$e(c),p=null==u?a:$e(u),(a=new d(g,m+"leave",c,n,o)).target=h,a.relatedTarget=p,g=null,ze(o)===r&&((d=new d(f,m+"enter",u,n,o)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Hu(p))m++;for(p=0,g=f;g;g=Hu(g))p++;for(;0<m-p;)d=Hu(d),m--;for(;0<p-m;)f=Hu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Hu(d),f=Hu(f)}d=null}else d=null;null!==c&&Wu(s,a,c,d,!1),null!==u&&null!==h&&Wu(s,h,u,d,!0)}if("select"===(c=(a=r?$e(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=Mn;else if(Rn(a))if(Fn)y=Gn;else{y=Wn;var v=Hn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&It(r.elementType)&&(y=Mn):y=Kn;switch(y&&(y=y(e,r))?Dn(s,y,n,o):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&vt(a,"number",a.value)),v=r?$e(r):window,e){case"focusin":(Rn(v)||"true"===v.contentEditable)&&(rr=v,or=r,ir=null);break;case"focusout":ir=or=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,o)}var w;if(_n)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Pn?Tn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(En&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Pn&&(w=qt()):(Vt="value"in(zt=o)?zt.value:zt.textContent,Pn=!0)),0<(v=qu(r,b)).length&&(b=new cn(b,e,null,n,o),s.push({event:b,listeners:v}),w?b.data=w:null!==(w=Nn(n))&&(b.data=w))),(w=Cn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(xn=!0,In);case"textInput":return(e=t.data)===In&&xn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!_n&&Tn(e,t)?(e=qt(),$t=Vt=zt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=qu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,o),s.push({event:v,listeners:b}),v.data=w)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Pu((o[De]||null).action),s=r.submitter;s&&null!==(t=(t=s[De]||null)?Pu(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var a=new Zt("action","action",null,r,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ku){var e=s?Au(o,s):new FormData(o);As(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(a.preventDefault(),e=s?Au(o,s):new FormData(o),As(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(s,e,r,n,o)}Ou(s,t)})}function $u(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=jt(e,n))&&r.unshift($u(e,o,i)),null!=(o=jt(e,t))&&r.push($u(e,o,i))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,o?null!=(c=jt(n,i))&&s.unshift($u(n,c,l)):o||null!=(c=jt(n,i))&&s.push($u(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ku=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Ku,"\n").replace(Gu,"")}function Yu(e,t){return t=Qu(t),Qu(e)===t}function Xu(){}function Ju(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Ju(e,t,"name",o.name,o,null),Ju(e,t,"formEncType",o.formEncType,o,null),Ju(e,t,"formMethod",o.formMethod,o,null),Ju(e,t,"formTarget",o.formTarget,o,null)):(Ju(e,t,"encType",o.encType,o,null),Ju(e,t,"method",o.method,o,null),Ju(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&ju("scroll",e);break;case"onScrollEnd":null!=r&&ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ju("beforetoggle",e),ju("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=xt.get(n)||n,r)}}function Zu(e,t,n,r,o,i){switch(n){case"style":Et(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&ju("scroll",e);break;case"onScrollEnd":null!=r&&ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[De]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ju("error",e),ju("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,r,a,n,null)}}return i&&Ju(e,t,"srcSet",n.srcSet,n,null),void(o&&Ju(e,t,"src",n.src,n,null));case"input":ju("invalid",e);var l=r=a=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Ju(e,t,o,d,n,null)}}return yt(e,r,l,c,u,a,i,!1),void dt(e);case"select":for(i in ju("invalid",e),o=a=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":o=l;default:Ju(e,t,i,l,n,null)}return t=r,n=a,e.multiple=!!o,void(null!=t?wt(e,!!o,t,!1):null!=n&&wt(e,!!o,n,!0));case"textarea":for(a in ju("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ju(e,t,a,l,n,null)}return kt(e,o,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Ju(e,t,c,o,n,null);return;case"dialog":ju("beforetoggle",e),ju("toggle",e),ju("cancel",e),ju("close",e);break;case"iframe":case"object":ju("load",e);break;case"video":case"audio":for(o=0;o<Bu.length;o++)ju(Bu[o],e);break;case"image":ju("error",e),ju("load",e);break;case"details":ju("toggle",e);break;case"embed":case"source":case"link":ju("error",e),ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,u,o,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Zu(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&Ju(e,t,l,o,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&kd(s.documentElement),2&n&&kd(s.body),4&n)for(kd(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===o)return e.removeChild(i),void xh(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);xh(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function kd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var _d=new Map,Sd=new Set;function Cd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=L.d;L.d={f:function(){var e=Ed.f(),t=zc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Ds(t):Ed.r(e)},D:function(e){Ed.D(e),xd("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),xd("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=Id;if(r&&e&&t){var o='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+mt(n.imageSizes)+'"]')):o+='[href="'+mt(e)+'"]';var i=o;switch(t){case"style":i=Nd(e);break;case"script":i=Rd(e)}_d.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),_d.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Pd(i))||"script"===t&&r.querySelector(Dd(i))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=Id;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Rd(e)}if(!_d.has(i)&&(e=h({rel:"modulepreload",href:e},t),_d.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dd(i)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=Id;if(n&&e){var r=qe(n).hoistableScripts,o=Rd(e),i=r.get(o);i||((i=n.querySelector(Dd(o)))||(e=h({src:e,async:!0},t),(t=_d.get(o))&&jd(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Ed.S(e,t,n);var r=Id;if(r&&e){var o=qe(r).hoistableStyles,i=Nd(e);t=t||"default";var s=o.get(i);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Pd(i)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_d.get(i))&&Od(e,n);var l=s=r.createElement("link");He(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Ld(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},o.set(i,s)}}},M:function(e,t){Ed.M(e,t);var n=Id;if(n&&e){var r=qe(n).hoistableScripts,o=Rd(e),i=r.get(o);i||((i=n.querySelector(Dd(o)))||(e=h({src:e,async:!0,type:"module"},t),(t=_d.get(o))&&jd(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Id="undefined"===typeof document?null:document;function xd(e,t,n){var r=Id;if(r&&"string"===typeof t&&t){var o=mt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Sd.has(o)||(Sd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Td(e,t,n,r){var o,i,a,l,c=(c=q.current)?Cd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Nd(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Nd(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),_d.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_d.set(e,n),u||(o=c,i=e,a=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=o.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",a),He(i),o.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Rd(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Nd(e){return'href="'+mt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Rd(e){return'[src="'+mt(e)+'"]'}function Dd(e){return"script[async]"+e}function Bd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var o=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",o),Ld(r,n.precedence,e),t.instance=r;case"stylesheet":o=Nd(n.href);var i=e.querySelector(Pd(o));if(i)return t.state.loading|=4,t.instance=i,He(i),i;r=Ad(n),(o=_d.get(o))&&Od(r,o),He(i=(e.ownerDocument||e).createElement("link"));var a=i;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(i,"link",r),t.state.loading|=4,Ld(i,n.precedence,e),t.instance=i;case"script":return i=Rd(n.src),(o=e.querySelector(Dd(i)))?(t.instance=o,He(o),o):(r=n,(o=_d.get(i))&&jd(r=h({},n),o),He(o=(e=e.ownerDocument||e).createElement("script")),ed(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ld(r,n.precedence,e));return t.instance}function Ld(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)i=a;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Od(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Md=null;function Fd(e,t,n){if(null===Md){var r=new Map,o=Md=new Map;o.set(n,r)}else(r=(o=Md).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Fe]||i[Re]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(i):r.set(s,[i])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function $d(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Wd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Kd,e),Hd=null,qd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var s=o[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(o=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,o),n.set(s,o),this.count++,r=qd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:k,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Qd(e,t,n,r,o,i,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Yd(e,t,n,r,o,i,s,a,l,c,u,d){return e=new Qd(e,t,n,s,a,l,c,d),t=1,!0===i&&(t|=24),i=Or(3,null,null,t),e.current=i,i.stateNode=e,(t=Bo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ri(i),e}function Xd(e){return e?e=Br:Br}function Jd(e,t,n,r,o,i){o=Xd(o),null===r.context?r.context=o:r.pendingContext=o,(r=ii(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=si(e,r,t))&&(Oc(n,0,t),ai(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Oc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var o=B.T;B.T=null;var i=L.p;try{L.p=2,ih(e,t,n,r)}finally{L.p=i,B.T=o}}function oh(e,t,n,r){var o=B.T;B.T=null;var i=L.p;try{L.p=8,ih(e,t,n,r)}finally{L.p=i,B.T=o}}function ih(e,t,n,r){if(nh){var o=sh(r);if(null===o)Vu(e,t,r,ah,n),vh(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return dh=wh(dh,e,t,n,r,o),!0;case"dragenter":return hh=wh(hh,e,t,n,r,o),!0;case"mouseover":return fh=wh(fh,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ph.set(i,wh(ph.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,mh.set(i,wh(mh.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==o;){var i=Ve(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ve(i.pendingLanes);if(0!==s){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-fe(s);a.entanglements[1]|=l,s&=~l}_u(i),0===(6&nc)&&(_c=te()+500,Su(0,!1))}}break;case 13:null!==(a=Ar(i,2))&&Oc(a,0,2),zc(),eh(i,2)}if(null===(i=sh(r))&&Vu(e,t,r,ah,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function sh(e){return lh(e=At(e))}var ah=null;function lh(e){if(ah=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ah=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case oe:return 8;case ie:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function wh(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Ve(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function bh(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,function(){if(13===n.tag){var e=Bc();e=Te(e);var t=Ar(n,e);null!==t&&Oc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function _h(e,t,n){kh(e)&&n.delete(t)}function Sh(){uh=!1,null!==dh&&kh(dh)&&(dh=null),null!==hh&&kh(hh)&&(hh=null),null!==fh&&kh(fh)&&(fh=null),ph.forEach(_h),mh.forEach(_h)}function Ch(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sh)))}var Eh=null;function Ih(e){Eh!==e&&(Eh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=Ve(n);null!==i&&(e.splice(t,3),t-=3,As(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function xh(e){function t(t){return Ch(t,e)}null!==dh&&Ch(dh,e),null!==hh&&Ch(hh,e),null!==fh&&Ch(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)bh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],s=o[De]||null;if("function"===typeof i)s||Ih(n);else if(s){var a=null;if(i&&i.hasAttribute("formAction")){if(o=i,s=i[De]||null)a=s.formAction;else if(null!==lh(o))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Ih(n)}}}function Th(e){this._internalRoot=e}function Nh(e){this._internalRoot=e}Nh.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jd(t.current,Bc(),e,t,null,null)},Nh.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),zc(),t[Be]=null}},Nh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&bh(e)}};var Ph=o.version;if("19.1.1"!==Ph)throw Error(s(527,Ph,"19.1.1"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return u(o),e;if(i===r)return u(o),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{ue=Rh.inject(Ah),de=Rh}catch(Bh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",o=va,i=wa,l=ba;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,o,i,l,0,null),e[Be]=t.current,Uu(e),new Th(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,o="",i=va,l=wa,c=ba,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,o,i,l,c,0,u)).context=Xd(null),n=t.current,(o=ii(r=Te(r=Bc()))).callback=null,si(n,o,r),n=r,t.current.lanes=n,Ee(t,n),_u(t),e[Be]=t.current,Uu(e),new Nh(t)},t.version="19.1.1"},43:(e,t,n)=>{"use strict";e.exports=n(288)},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},245:(e,t,n)=>{"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(173)),i=u(n(742)),s=u(n(612)),a=n(43),l=u(a),c=u(n(686));function u(e){return e&&e.__esModule?e:{default:e}}var d={bgColor:o.default.oneOfType([o.default.object,o.default.string]),fgColor:o.default.oneOfType([o.default.object,o.default.string]),level:o.default.string,size:o.default.number,value:o.default.string.isRequired},h=(0,a.forwardRef)(function(e,t){var n=e.bgColor,o=void 0===n?"#FFFFFF":n,a=e.fgColor,u=void 0===a?"#000000":a,d=e.level,h=void 0===d?"L":d,f=e.size,p=void 0===f?256:f,m=e.value,g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["bgColor","fgColor","level","size","value"]),y=new s.default(-1,i.default[h]);y.addData(m),y.make();var v=y.modules;return l.default.createElement(c.default,r({},g,{bgColor:o,bgD:v.map(function(e,t){return e.map(function(e,n){return e?"":"M "+n+" "+t+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:u,fgD:v.map(function(e,t){return e.map(function(e,n){return e?"M "+n+" "+t+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:p,viewBoxSize:v.length}))});h.displayName="QRCode",h.propTypes=d,t.Ay=h},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var k=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function C(e,t,r,o,i,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(){}function N(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return N((u=e._init)(e._payload),t,o,i,s)}}if(u)return s=s(e),u=""===i?"."+x(e,0):i,k(s)?(o="",null!=u&&(o=u.replace(I,"$&/")+"/"),N(s,t,o,"",function(e){return e})):null!=s&&(E(s)&&(l=s,c=o+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+u,s=C(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===i?".":i+":";if(k(e))for(var m=0;m<e.length;m++)u+=N(i=e[m],t,o,a=p+x(i,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=N(i=i.value,t,o,a=p+x(i,m++),s);else if("object"===a){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],o=0;return N(e,r,"","",function(e){return t.call(n,e,o++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=s,t.PureComponent=w,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),a=0;a<i;a++)s[a]=arguments[a+2];r.children=s}return C(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return C(e,i,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),o=_.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(D,R)}catch(i){R(i)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.1"},343:(e,t,n)=>{var r=n(957);function o(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}o.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=o},361:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.width=t,this.height=e.length/t,this.data=e}return e.createEmpty=function(t,n){return new e(new Uint8ClampedArray(t*n),t)},e.prototype.get=function(e,t){return!(e<0||e>=this.width||t<0||t>=this.height)&&!!this.data[t*this.width+e]},e.prototype.set=function(e,t,n){this.data[t*this.width+e]=n?1:0},e.prototype.setRegion=function(e,t,n,r,o){for(var i=t;i<t+r;i++)for(var s=e;s<e+n;s++)this.set(s,i,!!o)},e}();t.BitMatrix=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.addOrSubtractGF=function(e,t){return e^t};var o=function(){function e(e,t,n){this.primitive=e,this.size=t,this.generatorBase=n,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var o=1,i=0;i<this.size;i++)this.expTable[i]=o,(o*=2)>=this.size&&(o=(o^this.primitive)&this.size-1);for(i=0;i<this.size-1;i++)this.logTable[this.expTable[i]]=i;this.zero=new r.default(this,Uint8ClampedArray.from([0])),this.one=new r.default(this,Uint8ClampedArray.from([1]))}return e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},e.prototype.inverse=function(e){if(0===e)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[e]-1]},e.prototype.buildMonomial=function(e,t){if(e<0)throw new Error("Invalid monomial degree less than 0");if(0===t)return this.zero;var n=new Uint8ClampedArray(e+1);return n[0]=t,new r.default(this,n)},e.prototype.log=function(e){if(0===e)throw new Error("Can't take log(0)");return this.logTable[e]},e.prototype.exp=function(e){return this.expTable[e]},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(e,t){if(0===t.length)throw new Error("No coefficients.");this.field=e;var n=t.length;if(n>1&&0===t[0]){for(var r=1;r<n&&0===t[r];)r++;if(r===n)this.coefficients=e.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(n-r);for(var o=0;o<this.coefficients.length;o++)this.coefficients[o]=t[r+o]}}else this.coefficients=t}return e.prototype.degree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.addOrSubtract=function(t){var n;if(this.isZero())return t;if(t.isZero())return this;var o=this.coefficients,i=t.coefficients;o.length>i.length&&(o=(n=[i,o])[0],i=n[1]);for(var s=new Uint8ClampedArray(i.length),a=i.length-o.length,l=0;l<a;l++)s[l]=i[l];for(l=a;l<i.length;l++)s[l]=r.addOrSubtractGF(o[l-a],i[l]);return new e(this.field,s)},e.prototype.multiply=function(t){if(0===t)return this.field.zero;if(1===t)return this;for(var n=this.coefficients.length,r=new Uint8ClampedArray(n),o=0;o<n;o++)r[o]=this.field.multiply(this.coefficients[o],t);return new e(this.field,r)},e.prototype.multiplyPoly=function(t){if(this.isZero()||t.isZero())return this.field.zero;for(var n=this.coefficients,o=n.length,i=t.coefficients,s=i.length,a=new Uint8ClampedArray(o+s-1),l=0;l<o;l++)for(var c=n[l],u=0;u<s;u++)a[l+u]=r.addOrSubtractGF(a[l+u],this.field.multiply(c,i[u]));return new e(this.field,a)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new Error("Invalid degree less than 0");if(0===n)return this.field.zero;for(var r=this.coefficients.length,o=new Uint8ClampedArray(r+t),i=0;i<r;i++)o[i]=this.field.multiply(this.coefficients[i],n);return new e(this.field,o)},e.prototype.evaluateAt=function(e){var t=0;if(0===e)return this.getCoefficient(0);var n=this.coefficients.length;if(1===e)return this.coefficients.forEach(function(e){t=r.addOrSubtractGF(t,e)}),t;t=this.coefficients[0];for(var o=1;o<n;o++)t=r.addOrSubtractGF(this.field.multiply(e,t),this.coefficients[o]);return t},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(5),i=n(11),s=n(12);function a(e){var t=s.locate(e);if(!t)return null;for(var n=0,r=t;n<r.length;n++){var a=r[n],l=i.extract(e,a),c=o.decode(l.matrix);if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:l.mappingFunction(a.dimension,0),topLeftCorner:l.mappingFunction(0,0),bottomRightCorner:l.mappingFunction(a.dimension,a.dimension),bottomLeftCorner:l.mappingFunction(0,a.dimension),topRightFinderPattern:a.topRight,topLeftFinderPattern:a.topLeft,bottomLeftFinderPattern:a.bottomLeft,bottomRightAlignmentPattern:a.alignmentPattern}}}return null}var l={inversionAttempts:"attemptBoth"};function c(e,t,n,o){void 0===o&&(o={});var i=l;Object.keys(i||{}).forEach(function(e){i[e]=o[e]||i[e]});var s="attemptBoth"===i.inversionAttempts||"invertFirst"===i.inversionAttempts,c="onlyInvert"===i.inversionAttempts||"invertFirst"===i.inversionAttempts,u=r.binarize(e,t,n,s),d=u.binarized,h=u.inverted,f=a(c?h:d);return f||"attemptBoth"!==i.inversionAttempts&&"invertFirst"!==i.inversionAttempts||(f=a(c?d:h)),f}c.default=c,t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function o(e,t,n){return e<t?t:e>n?n:e}var i=function(){function e(e,t){this.width=e,this.data=new Uint8ClampedArray(e*t)}return e.prototype.get=function(e,t){return this.data[t*this.width+e]},e.prototype.set=function(e,t,n){this.data[t*this.width+e]=n},e}();t.binarize=function(e,t,n,s){if(e.length!==t*n*4)throw new Error("Malformed data passed to binarizer.");for(var a=new i(t,n),l=0;l<t;l++)for(var c=0;c<n;c++){var u=e[4*(c*t+l)+0],d=e[4*(c*t+l)+1],h=e[4*(c*t+l)+2];a.set(l,c,.2126*u+.7152*d+.0722*h)}for(var f=Math.ceil(t/8),p=Math.ceil(n/8),m=new i(f,p),g=0;g<p;g++)for(var y=0;y<f;y++){var v=0,w=1/0,b=0;for(c=0;c<8;c++)for(l=0;l<8;l++){var k=a.get(8*y+l,8*g+c);v+=k,w=Math.min(w,k),b=Math.max(b,k)}var _=v/Math.pow(8,2);if(b-w<=24&&(_=w/2,g>0&&y>0)){var S=(m.get(y,g-1)+2*m.get(y-1,g)+m.get(y-1,g-1))/4;w<S&&(_=S)}m.set(y,g,_)}var C=r.BitMatrix.createEmpty(t,n),E=null;for(s&&(E=r.BitMatrix.createEmpty(t,n)),g=0;g<p;g++)for(y=0;y<f;y++){for(var I=o(y,2,f-3),x=o(g,2,p-3),T=(v=0,-2);T<=2;T++)for(var N=-2;N<=2;N++)v+=m.get(I+T,x+N);var P=v/25;for(T=0;T<8;T++)for(N=0;N<8;N++){l=8*y+T,c=8*g+N;var A=a.get(l,c);C.set(l,c,A<=P),s&&E.set(l,c,!(A<=P))}}return s?{binarized:C,inverted:E}:{binarized:C}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(9),s=n(10);function a(e,t){for(var n=e^t,r=0;n;)r++,n&=n-1;return r}function l(e,t){return t<<1|e}var c=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],u=[function(e){return(e.y+e.x)%2===0},function(e){return e.y%2===0},function(e){return e.x%3===0},function(e){return(e.y+e.x)%3===0},function(e){return(Math.floor(e.y/2)+Math.floor(e.x/3))%2===0},function(e){return e.x*e.y%2+e.x*e.y%3===0},function(e){return(e.y*e.x%2+e.y*e.x%3)%2===0},function(e){return((e.y+e.x)%2+e.y*e.x%3)%2===0}];function d(e,t,n){for(var o=u[n.dataMask],i=e.height,s=function(e){var t=17+4*e.versionNumber,n=r.BitMatrix.createEmpty(t,t);n.setRegion(0,0,9,9,!0),n.setRegion(t-8,0,8,9,!0),n.setRegion(0,t-8,9,8,!0);for(var o=0,i=e.alignmentPatternCenters;o<i.length;o++)for(var s=i[o],a=0,l=e.alignmentPatternCenters;a<l.length;a++){var c=l[a];6===s&&6===c||6===s&&c===t-7||s===t-7&&6===c||n.setRegion(s-2,c-2,5,5,!0)}return n.setRegion(6,9,1,t-17,!0),n.setRegion(9,6,t-17,1,!0),e.versionNumber>6&&(n.setRegion(t-11,0,3,6,!0),n.setRegion(0,t-11,6,3,!0)),n}(t),a=[],c=0,d=0,h=!0,f=i-1;f>0;f-=2){6===f&&f--;for(var p=0;p<i;p++)for(var m=h?i-1-p:p,g=0;g<2;g++){var y=f-g;if(!s.get(y,m)){d++;var v=e.get(y,m);o({y:m,x:y})&&(v=!v),c=l(v,c),8===d&&(a.push(c),d=0,c=0)}}h=!h}return a}function h(e){var t=function(e){var t=e.height,n=Math.floor((t-17)/4);if(n<=6)return s.VERSIONS[n-1];for(var r=0,o=5;o>=0;o--)for(var i=t-9;i>=t-11;i--)r=l(e.get(i,o),r);var c=0;for(i=5;i>=0;i--)for(o=t-9;o>=t-11;o--)c=l(e.get(i,o),c);for(var u,d=1/0,h=0,f=s.VERSIONS;h<f.length;h++){var p=f[h];if(p.infoBits===r||p.infoBits===c)return p;var m=a(r,p.infoBits);m<d&&(u=p,d=m),(m=a(c,p.infoBits))<d&&(u=p,d=m)}return d<=3?u:void 0}(e);if(!t)return null;var n=function(e){for(var t=0,n=0;n<=8;n++)6!==n&&(t=l(e.get(n,8),t));for(var r=7;r>=0;r--)6!==r&&(t=l(e.get(8,r),t));var o=e.height,i=0;for(r=o-1;r>=o-7;r--)i=l(e.get(8,r),i);for(n=o-8;n<o;n++)i=l(e.get(n,8),i);for(var s=1/0,u=null,d=0,h=c;d<h.length;d++){var f=h[d],p=f.bits,m=f.formatInfo;if(p===t||p===i)return m;var g=a(t,p);g<s&&(u=m,s=g),t!==i&&(g=a(i,p))<s&&(u=m,s=g)}return s<=3?u:null}(e);if(!n)return null;var r=function(e,t,n){var r=t.errorCorrectionLevels[n],o=[],i=0;if(r.ecBlocks.forEach(function(e){for(var t=0;t<e.numBlocks;t++)o.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),i+=e.dataCodewordsPerBlock+r.ecCodewordsPerBlock}),e.length<i)return null;e=e.slice(0,i);for(var s=r.ecBlocks[0].dataCodewordsPerBlock,a=0;a<s;a++)for(var l=0,c=o;l<c.length;l++)c[l].codewords.push(e.shift());if(r.ecBlocks.length>1){var u=r.ecBlocks[0].numBlocks,d=r.ecBlocks[1].numBlocks;for(a=0;a<d;a++)o[u+a].codewords.push(e.shift())}for(;e.length>0;)for(var h=0,f=o;h<f.length;h++)f[h].codewords.push(e.shift());return o}(d(e,t,n),t,n.errorCorrectionLevel);if(!r)return null;for(var u=r.reduce(function(e,t){return e+t.numDataCodewords},0),h=new Uint8ClampedArray(u),f=0,p=0,m=r;p<m.length;p++){var g=m[p],y=i.decode(g.codewords,g.codewords.length-g.numDataCodewords);if(!y)return null;for(var v=0;v<g.numDataCodewords;v++)h[f++]=y[v]}try{return o.decode(h,t.versionNumber)}catch(w){return null}}t.decode=function(e){if(null==e)return null;var t=h(e);if(t)return t;for(var n=0;n<e.width;n++)for(var r=n+1;r<e.height;r++)e.get(n,r)!==e.get(r,n)&&(e.set(n,r,!e.get(n,r)),e.set(r,n,!e.get(r,n)));return h(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=n(7),s=n(8);function a(e,t){for(var n=[],r="",o=[10,12,14][t],i=e.readBits(o);i>=3;){if((c=e.readBits(10))>=1e3)throw new Error("Invalid numeric value above 999");var s=Math.floor(c/100),a=Math.floor(c/10)%10,l=c%10;n.push(48+s,48+a,48+l),r+=s.toString()+a.toString()+l.toString(),i-=3}if(2===i){if((c=e.readBits(7))>=100)throw new Error("Invalid numeric value above 99");s=Math.floor(c/10),a=c%10,n.push(48+s,48+a),r+=s.toString()+a.toString()}else if(1===i){var c;if((c=e.readBits(4))>=10)throw new Error("Invalid numeric value above 9");n.push(48+c),r+=c.toString()}return{bytes:n,text:r}}!function(e){e.Numeric="numeric",e.Alphanumeric="alphanumeric",e.Byte="byte",e.Kanji="kanji",e.ECI="eci"}(r=t.Mode||(t.Mode={})),function(e){e[e.Terminator=0]="Terminator",e[e.Numeric=1]="Numeric",e[e.Alphanumeric=2]="Alphanumeric",e[e.Byte=4]="Byte",e[e.Kanji=8]="Kanji",e[e.ECI=7]="ECI"}(o||(o={}));var l=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function c(e,t){for(var n=[],r="",o=[9,11,13][t],i=e.readBits(o);i>=2;){var s=e.readBits(11),a=Math.floor(s/45),c=s%45;n.push(l[a].charCodeAt(0),l[c].charCodeAt(0)),r+=l[a]+l[c],i-=2}return 1===i&&(a=e.readBits(6),n.push(l[a].charCodeAt(0)),r+=l[a]),{bytes:n,text:r}}function u(e,t){for(var n=[],r="",o=[8,16,16][t],i=e.readBits(o),s=0;s<i;s++){var a=e.readBits(8);n.push(a)}try{r+=decodeURIComponent(n.map(function(e){return"%"+("0"+e.toString(16)).substr(-2)}).join(""))}catch(l){}return{bytes:n,text:r}}function d(e,t){for(var n=[],r="",o=[8,10,12][t],i=e.readBits(o),a=0;a<i;a++){var l=e.readBits(13),c=Math.floor(l/192)<<8|l%192;c+=c<7936?33088:49472,n.push(c>>8,255&c),r+=String.fromCharCode(s.shiftJISTable[c])}return{bytes:n,text:r}}t.decode=function(e,t){for(var n,s,l,h,f=new i.BitStream(e),p=t<=9?0:t<=26?1:2,m={text:"",bytes:[],chunks:[],version:t};f.available()>=4;){var g=f.readBits(4);if(g===o.Terminator)return m;if(g===o.ECI)0===f.readBits(1)?m.chunks.push({type:r.ECI,assignmentNumber:f.readBits(7)}):0===f.readBits(1)?m.chunks.push({type:r.ECI,assignmentNumber:f.readBits(14)}):0===f.readBits(1)?m.chunks.push({type:r.ECI,assignmentNumber:f.readBits(21)}):m.chunks.push({type:r.ECI,assignmentNumber:-1});else if(g===o.Numeric){var y=a(f,p);m.text+=y.text,(n=m.bytes).push.apply(n,y.bytes),m.chunks.push({type:r.Numeric,text:y.text})}else if(g===o.Alphanumeric){var v=c(f,p);m.text+=v.text,(s=m.bytes).push.apply(s,v.bytes),m.chunks.push({type:r.Alphanumeric,text:v.text})}else if(g===o.Byte){var w=u(f,p);m.text+=w.text,(l=m.bytes).push.apply(l,w.bytes),m.chunks.push({type:r.Byte,bytes:w.bytes,text:w.text})}else if(g===o.Kanji){var b=d(f,p);m.text+=b.text,(h=m.bytes).push.apply(h,b.bytes),m.chunks.push({type:r.Kanji,bytes:b.bytes,text:b.text})}}if(0===f.available()||0===f.readBits(f.available()))return m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.byteOffset=0,this.bitOffset=0,this.bytes=e}return e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Error("Cannot read "+e.toString()+" bits");var t=0;if(this.bitOffset>0){var n=8-this.bitOffset,r=e<n?e:n,o=255>>8-r<<(i=n-r);t=(this.bytes[this.byteOffset]&o)>>i,e-=r,this.bitOffset+=r,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(e>0){for(;e>=8;)t=t<<8|255&this.bytes[this.byteOffset],this.byteOffset++,e-=8;var i;if(e>0)o=255>>(i=8-e)<<i,t=t<<e|(this.bytes[this.byteOffset]&o)>>i,this.bitOffset+=e}return t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}();t.BitStream=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(2);t.decode=function(e,t){var n=new Uint8ClampedArray(e.length);n.set(e);for(var i=new r.default(285,256,0),s=new o.default(i,n),a=new Uint8ClampedArray(t),l=!1,c=0;c<t;c++){var u=s.evaluateAt(i.exp(c+i.generatorBase));a[a.length-1-c]=u,0!==u&&(l=!0)}if(!l)return n;var d=new o.default(i,a),h=function(e,t,n,r){var o;t.degree()<n.degree()&&(t=(o=[n,t])[0],n=o[1]);for(var i=t,s=n,a=e.zero,l=e.one;s.degree()>=r/2;){var c=i,u=a;if(a=l,(i=s).isZero())return null;s=c;for(var d=e.zero,h=i.getCoefficient(i.degree()),f=e.inverse(h);s.degree()>=i.degree()&&!s.isZero();){var p=s.degree()-i.degree(),m=e.multiply(s.getCoefficient(s.degree()),f);d=d.addOrSubtract(e.buildMonomial(p,m)),s=s.addOrSubtract(i.multiplyByMonomial(p,m))}if(l=d.multiplyPoly(a).addOrSubtract(u),s.degree()>=i.degree())return null}var g=l.getCoefficient(0);if(0===g)return null;var y=e.inverse(g);return[l.multiply(y),s.multiply(y)]}(i,i.buildMonomial(t,1),d,t);if(null===h)return null;var f=function(e,t){var n=t.degree();if(1===n)return[t.getCoefficient(1)];for(var r=new Array(n),o=0,i=1;i<e.size&&o<n;i++)0===t.evaluateAt(i)&&(r[o]=e.inverse(i),o++);return o!==n?null:r}(i,h[0]);if(null==f)return null;for(var p=function(e,t,n){for(var o=n.length,i=new Array(o),s=0;s<o;s++){for(var a=e.inverse(n[s]),l=1,c=0;c<o;c++)s!==c&&(l=e.multiply(l,r.addOrSubtractGF(1,e.multiply(n[c],a))));i[s]=e.multiply(t.evaluateAt(a),e.inverse(l)),0!==e.generatorBase&&(i[s]=e.multiply(i[s],a))}return i}(i,h[1],f),m=0;m<f.length;m++){var g=n.length-1-i.log(f[m]);if(g<0)return null;n[g]=r.addOrSubtractGF(n[g],p[m])}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function o(e,t,n,r){var o=e.x-t.x+n.x-r.x,i=e.y-t.y+n.y-r.y;if(0===o&&0===i)return{a11:t.x-e.x,a12:t.y-e.y,a13:0,a21:n.x-t.x,a22:n.y-t.y,a23:0,a31:e.x,a32:e.y,a33:1};var s=t.x-n.x,a=r.x-n.x,l=t.y-n.y,c=r.y-n.y,u=s*c-a*l,d=(o*c-a*i)/u,h=(s*i-o*l)/u;return{a11:t.x-e.x+d*t.x,a12:t.y-e.y+d*t.y,a13:d,a21:r.x-e.x+h*r.x,a22:r.y-e.y+h*r.y,a23:h,a31:e.x,a32:e.y,a33:1}}t.extract=function(e,t){for(var n,i,s=function(e,t,n,r){var i=o(e,t,n,r);return{a11:i.a22*i.a33-i.a23*i.a32,a12:i.a13*i.a32-i.a12*i.a33,a13:i.a12*i.a23-i.a13*i.a22,a21:i.a23*i.a31-i.a21*i.a33,a22:i.a11*i.a33-i.a13*i.a31,a23:i.a13*i.a21-i.a11*i.a23,a31:i.a21*i.a32-i.a22*i.a31,a32:i.a12*i.a31-i.a11*i.a32,a33:i.a11*i.a22-i.a12*i.a21}}({x:3.5,y:3.5},{x:t.dimension-3.5,y:3.5},{x:t.dimension-6.5,y:t.dimension-6.5},{x:3.5,y:t.dimension-3.5}),a=o(t.topLeft,t.topRight,t.alignmentPattern,t.bottomLeft),l=(i=s,{a11:(n=a).a11*i.a11+n.a21*i.a12+n.a31*i.a13,a12:n.a12*i.a11+n.a22*i.a12+n.a32*i.a13,a13:n.a13*i.a11+n.a23*i.a12+n.a33*i.a13,a21:n.a11*i.a21+n.a21*i.a22+n.a31*i.a23,a22:n.a12*i.a21+n.a22*i.a22+n.a32*i.a23,a23:n.a13*i.a21+n.a23*i.a22+n.a33*i.a23,a31:n.a11*i.a31+n.a21*i.a32+n.a31*i.a33,a32:n.a12*i.a31+n.a22*i.a32+n.a32*i.a33,a33:n.a13*i.a31+n.a23*i.a32+n.a33*i.a33}),c=r.BitMatrix.createEmpty(t.dimension,t.dimension),u=function(e,t){var n=l.a13*e+l.a23*t+l.a33;return{x:(l.a11*e+l.a21*t+l.a31)/n,y:(l.a12*e+l.a22*t+l.a32)/n}},d=0;d<t.dimension;d++)for(var h=0;h<t.dimension;h++){var f=u(h+.5,d+.5);c.set(h,d,e.get(Math.floor(f.x),Math.floor(f.y)))}return{matrix:c,mappingFunction:u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function o(e){return e.reduce(function(e,t){return e+t})}function i(e,t,n,o){var i,s,a,l,c=[{x:Math.floor(e.x),y:Math.floor(e.y)}],u=Math.abs(t.y-e.y)>Math.abs(t.x-e.x);u?(i=Math.floor(e.y),s=Math.floor(e.x),a=Math.floor(t.y),l=Math.floor(t.x)):(i=Math.floor(e.x),s=Math.floor(e.y),a=Math.floor(t.x),l=Math.floor(t.y));for(var d=Math.abs(a-i),h=Math.abs(l-s),f=Math.floor(-d/2),p=i<a?1:-1,m=s<l?1:-1,g=!0,y=i,v=s;y!==a+p;y+=p){var w=u?v:y,b=u?y:v;if(n.get(w,b)!==g&&(g=!g,c.push({x:w,y:b}),c.length===o+1))break;if((f+=h)>0){if(v===l)break;v+=m,f-=d}}for(var k=[],_=0;_<o;_++)c[_]&&c[_+1]?k.push(r(c[_],c[_+1])):k.push(0);return k}function s(e,t,n,r){var o,s=t.y-e.y,a=t.x-e.x,l=i(e,t,n,Math.ceil(r/2)),c=i(e,{x:e.x-a,y:e.y-s},n,Math.ceil(r/2)),u=l.shift()+c.shift()-1;return(o=c.concat(u)).concat.apply(o,l)}function a(e,t){var n=o(e)/o(t),r=0;return t.forEach(function(t,o){r+=Math.pow(e[o]-t*n,2)}),{averageSize:n,error:r}}function l(e,t,n){try{var r=s(e,{x:-1,y:e.y},n,t.length),o=s(e,{x:e.x,y:-1},n,t.length),i=s(e,{x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},n,t.length),l=s(e,{x:Math.min(n.width,e.x+e.y)+1,y:Math.min(n.height,e.y+e.x)+1},n,t.length),c=a(r,t),u=a(o,t),d=a(i,t),h=a(l,t),f=Math.sqrt(c.error*c.error+u.error*u.error+d.error*d.error+h.error*h.error),p=(c.averageSize+u.averageSize+d.averageSize+h.averageSize)/4;return f+(Math.pow(c.averageSize-p,2)+Math.pow(u.averageSize-p,2)+Math.pow(d.averageSize-p,2)+Math.pow(h.averageSize-p,2))/p}catch(m){return 1/0}}function c(e,t){for(var n=Math.round(t.x);e.get(n,Math.round(t.y));)n--;for(var r=Math.round(t.x);e.get(r,Math.round(t.y));)r++;for(var o=(n+r)/2,i=Math.round(t.y);e.get(Math.round(o),i);)i--;for(var s=Math.round(t.y);e.get(Math.round(o),s);)s++;return{x:o,y:(i+s)/2}}function u(e,t,n,i,a){var c,u,d;try{c=function(e,t,n,i){var a=(o(s(e,n,i,5))/7+o(s(e,t,i,5))/7+o(s(n,e,i,5))/7+o(s(t,e,i,5))/7)/4;if(a<1)throw new Error("Invalid module size");var l=Math.round(r(e,t)/a),c=Math.round(r(e,n)/a),u=Math.floor((l+c)/2)+7;switch(u%4){case 0:u++;break;case 2:u--}return{dimension:u,moduleSize:a}}(i,n,a,e),u=c.dimension,d=c.moduleSize}catch(v){return null}var h=n.x-i.x+a.x,f=n.y-i.y+a.y,p=(r(i,a)+r(i,n))/2/d,m=1-3/p,g={x:i.x+m*(h-i.x),y:i.y+m*(f-i.y)},y=t.map(function(t){var n=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,i=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.floor(n),Math.floor(i))){var s=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1];return o(s),{x:n,y:i,score:l({x:Math.floor(n),y:Math.floor(i)},[1,1,1],e)+r({x:n,y:i},g)}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});return{alignmentPattern:p>=15&&y.length?y[0]:g,dimension:u}}t.locate=function(e){for(var t=[],n=[],i=[],s=[],a=function(r){for(var a=0,l=!1,c=[0,0,0,0,0],u=function(t){var i=e.get(t,r);if(i===l)a++;else{c=[c[1],c[2],c[3],c[4],a],a=1,l=i;var u=o(c)/7,d=Math.abs(c[0]-u)<u&&Math.abs(c[1]-u)<u&&Math.abs(c[2]-3*u)<3*u&&Math.abs(c[3]-u)<u&&Math.abs(c[4]-u)<u&&!i,h=o(c.slice(-3))/3,f=Math.abs(c[2]-h)<h&&Math.abs(c[3]-h)<h&&Math.abs(c[4]-h)<h&&i;if(d){var p=t-c[3]-c[4],m=p-c[2],g={startX:m,endX:p,y:r};(y=n.filter(function(e){return m>=e.bottom.startX&&m<=e.bottom.endX||p>=e.bottom.startX&&m<=e.bottom.endX||m<=e.bottom.startX&&p>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5})).length>0?y[0].bottom=g:n.push({top:g,bottom:g})}if(f){var y,v=t-c[4],w=v-c[3];g={startX:w,y:r,endX:v},(y=s.filter(function(e){return w>=e.bottom.startX&&w<=e.bottom.endX||v>=e.bottom.startX&&w<=e.bottom.endX||w<=e.bottom.startX&&v>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5})).length>0?y[0].bottom=g:s.push({top:g,bottom:g})}}},d=-1;d<=e.width;d++)u(d);t.push.apply(t,n.filter(function(e){return e.bottom.y!==r&&e.bottom.y-e.top.y>=2})),n=n.filter(function(e){return e.bottom.y===r}),i.push.apply(i,s.filter(function(e){return e.bottom.y!==r})),s=s.filter(function(e){return e.bottom.y===r})},d=0;d<=e.height;d++)a(d);t.push.apply(t,n.filter(function(e){return e.bottom.y-e.top.y>=2})),i.push.apply(i,s);var h=t.filter(function(e){return e.bottom.y-e.top.y>=2}).map(function(t){var n=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,r=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.round(n),Math.round(r))){var i=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1],s=o(i)/i.length;return{score:l({x:Math.round(n),y:Math.round(r)},[1,1,3,1,1],e),x:n,y:r,size:s}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score}).map(function(e,t,n){if(t>4)return null;var r=n.filter(function(e,n){return t!==n}).map(function(t){return{x:t.x,y:t.y,score:t.score+Math.pow(t.size-e.size,2)/e.size,size:t.size}}).sort(function(e,t){return e.score-t.score});if(r.length<2)return null;var o=e.score+r[0].score+r[1].score;return{points:[e].concat(r.slice(0,2)),score:o}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});if(0===h.length)return null;var f=function(e,t,n){var o,i,s,a,l,c,u,d=r(e,t),h=r(t,n),f=r(e,n);return h>=d&&h>=f?(l=(o=[t,e,n])[0],c=o[1],u=o[2]):f>=h&&f>=d?(l=(i=[e,t,n])[0],c=i[1],u=i[2]):(l=(s=[e,n,t])[0],c=s[1],u=s[2]),(u.x-c.x)*(l.y-c.y)-(u.y-c.y)*(l.x-c.x)<0&&(l=(a=[u,l])[0],u=a[1]),{bottomLeft:l,topLeft:c,topRight:u}}(h[0].points[0],h[0].points[1],h[0].points[2]),p=f.topRight,m=f.topLeft,g=f.bottomLeft,y=u(e,i,p,m,g),v=[];y&&v.push({alignmentPattern:{x:y.alignmentPattern.x,y:y.alignmentPattern.y},bottomLeft:{x:g.x,y:g.y},dimension:y.dimension,topLeft:{x:m.x,y:m.y},topRight:{x:p.x,y:p.y}});var w=c(e,p),b=c(e,m),k=c(e,g),_=u(e,i,w,b,k);return _&&v.push({alignmentPattern:{x:_.alignmentPattern.x,y:_.alignmentPattern.y},bottomLeft:{x:k.x,y:k.y},topLeft:{x:b.x,y:b.y},topRight:{x:w.x,y:w.y},dimension:_.dimension}),0===v.length?null:v}}]).default},e.exports=t()},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},392:(e,t,n)=>{var r=n(460);function o(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}o.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(i)));return new o(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=r.gexp(r.glog(e.get(i))+t);return new o(n,0).mod(e)}},e.exports=o},436:(e,t,n)=>{var r=n(742);function o(e,t){this.totalCount=e,this.dataCount=t}o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(e,t){var n=o.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=new Array,s=0;s<r;s++)for(var a=n[3*s+0],l=n[3*s+1],c=n[3*s+2],u=0;u<a;u++)i.push(new o(l,c));return i},o.getRsBlockTable=function(e,t){switch(t){case r.L:return o.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return o.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return o.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return o.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=o},460:e=>{for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;e.exports=t},497:(e,t,n)=>{"use strict";var r=n(218);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},612:(e,t,n)=>{var r=n(343),o=n(436),i=n(813),s=n(898),a=n(392);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;c.addData=function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},c.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=o.getRSBlocks(e,this.errorCorrectLevel),n=new i,r=0,a=0;a<t.length;a++)r+=t[a].dataCount;for(a=0;a<this.dataList.length;a++){var l=this.dataList[a];n.put(l.mode,4),n.put(l.getLength(),s.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},c.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},c.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=s.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},c.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var o=0;o<this.modules.length;o++)for(var i=1*o,s=0;s<this.modules[o].length;s++){var a=1*s;this.modules[o][s]&&(r.beginFill(0,100),r.moveTo(a,i),r.lineTo(a+1,i),r.lineTo(a+1,i+1),r.lineTo(a,i+1),r.endFill())}return r},c.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},c.setupPositionAdjustPattern=function(){for(var e=s.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],o=e[n];if(null==this.modules[r][o])for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)this.modules[r+i][o+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a}},c.setupTypeNumber=function(e){for(var t=s.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},c.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=s.getBCHTypeInfo(n),o=0;o<15;o++){var i=!e&&1==(r>>o&1);o<6?this.modules[o][8]=i:o<8?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(o=0;o<15;o++){i=!e&&1==(r>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=i:o<9?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i}this.modules[this.moduleCount-8][8]=!e},c.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,o=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var l=0;l<2;l++)if(null==this.modules[r][a-l]){var c=!1;i<e.length&&(c=1==(e[i]>>>o&1)),s.getMask(t,r,a-l)&&(c=!c),this.modules[r][a-l]=c,-1==--o&&(i++,o=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var r=o.getRSBlocks(e,t),a=new i,c=0;c<n.length;c++){var u=n[c];a.put(u.mode,4),a.put(u.getLength(),s.getLengthInBits(u.mode,e)),u.write(a)}var d=0;for(c=0;c<r.length;c++)d+=r[c].dataCount;if(a.getLengthInBits()>8*d)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*d+")");for(a.getLengthInBits()+4<=8*d&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*d)&&(a.put(l.PAD0,8),!(a.getLengthInBits()>=8*d));)a.put(l.PAD1,8);return l.createBytes(a,r)},l.createBytes=function(e,t){for(var n=0,r=0,o=0,i=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c++){var u=t[c].dataCount,d=t[c].totalCount-u;r=Math.max(r,u),o=Math.max(o,d),i[c]=new Array(u);for(var h=0;h<i[c].length;h++)i[c][h]=255&e.buffer[h+n];n+=u;var f=s.getErrorCorrectPolynomial(d),p=new a(i[c],f.getLength()-1).mod(f);l[c]=new Array(f.getLength()-1);for(h=0;h<l[c].length;h++){var m=h+p.getLength()-l[c].length;l[c][h]=m>=0?p.get(m):0}}var g=0;for(h=0;h<t.length;h++)g+=t[h].totalCount;var y=new Array(g),v=0;for(h=0;h<r;h++)for(c=0;c<t.length;c++)h<i[c].length&&(y[v++]=i[c][h]);for(h=0;h<o;h++)for(c=0;c<t.length;c++)h<l[c].length&&(y[v++]=l[c][h]);return y},e.exports=l},672:(e,t,n)=>{"use strict";var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=a(n(173)),i=n(43),s=a(i);function a(e){return e&&e.__esModule?e:{default:e}}var l={bgColor:o.default.oneOfType([o.default.object,o.default.string]).isRequired,bgD:o.default.string.isRequired,fgColor:o.default.oneOfType([o.default.object,o.default.string]).isRequired,fgD:o.default.string.isRequired,size:o.default.number.isRequired,title:o.default.string,viewBoxSize:o.default.number.isRequired,xmlns:o.default.string},c=(0,i.forwardRef)(function(e,t){var n=e.bgColor,o=e.bgD,i=e.fgD,a=e.fgColor,l=e.size,c=e.title,u=e.viewBoxSize,d=e.xmlns,h=void 0===d?"http://www.w3.org/2000/svg":d,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",r({},f,{height:l,ref:t,viewBox:"0 0 "+u+" "+u,width:l,xmlns:h}),c?s.default.createElement("title",null,c):null,s.default.createElement("path",{d:o,fill:n}),s.default.createElement("path",{d:i,fill:a}))});c.displayName="QRCodeSvg",c.propTypes=l,t.default=c},742:e=>{e.exports={L:1,M:0,Q:3,H:2}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},813:e=>{function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,k(e),!m)if(null!==r(c))m=!0,C||(C=!0,S());else{var t=r(u);null!==t&&R(_,t.startTime-e)}}var S,C=!1,E=-1,I=5,x=-1;function T(){return!!y||!(t.unstable_now()-x<I)}function N(){if(y=!1,C){var e=t.unstable_now();x=e;var n=!0;try{e:{m=!1,g&&(g=!1,w(E),E=-1),p=!0;var i=f;try{t:{for(k(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,k(e),n=!0;break t}h===r(c)&&o(c),k(e)}else o(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&R(_,l.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?S():C=!1}}}if("function"===typeof b)S=function(){b(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=N,S=function(){A.postMessage(null)}}else S=function(){v(N,0)};function R(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(w(E),E=-1):g=!0,R(_,i-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,C||(C=!0,S()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},898:(e,t,n)=>{var r=n(957),o=n(392),i=n(460),s=0,a=1,l=2,c=3,u=4,d=5,h=6,f=7,p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;p.getBCHDigit(t)-p.getBCHDigit(p.G15)>=0;)t^=p.G15<<p.getBCHDigit(t)-p.getBCHDigit(p.G15);return(e<<10|t)^p.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;p.getBCHDigit(t)-p.getBCHDigit(p.G18)>=0;)t^=p.G18<<p.getBCHDigit(t)-p.getBCHDigit(p.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return p.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case s:return(t+n)%2==0;case a:return t%2==0;case l:return n%3==0;case c:return(t+n)%3==0;case u:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case h:return(t*n%2+t*n%3)%2==0;case f:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new o([1],0),n=0;n<e;n++)t=t.multiply(new o([1,i.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var o=0;o<t;o++){for(var i=0,s=e.isDark(r,o),a=-1;a<=1;a++)if(!(r+a<0||t<=r+a))for(var l=-1;l<=1;l++)o+l<0||t<=o+l||0==a&&0==l||s==e.isDark(r+a,o+l)&&i++;i>5&&(n+=3+i-5)}for(r=0;r<t-1;r++)for(o=0;o<t-1;o++){var c=0;e.isDark(r,o)&&c++,e.isDark(r+1,o)&&c++,e.isDark(r,o+1)&&c++,e.isDark(r+1,o+1)&&c++,0!=c&&4!=c||(n+=3)}for(r=0;r<t;r++)for(o=0;o<t-6;o++)e.isDark(r,o)&&!e.isDark(r,o+1)&&e.isDark(r,o+2)&&e.isDark(r,o+3)&&e.isDark(r,o+4)&&!e.isDark(r,o+5)&&e.isDark(r,o+6)&&(n+=40);for(o=0;o<t;o++)for(r=0;r<t-6;r++)e.isDark(r,o)&&!e.isDark(r+1,o)&&e.isDark(r+2,o)&&e.isDark(r+3,o)&&e.isDark(r+4,o)&&!e.isDark(r+5,o)&&e.isDark(r+6,o)&&(n+=40);var u=0;for(o=0;o<t;o++)for(r=0;r<t;r++)e.isDark(r,o)&&u++;return n+=10*(Math.abs(100*u/t/t-50)/5)}};e.exports=p},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},957:e=>{e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".a3c1d153.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";n.l=(r,o,i,s)=>{if(e[r])e[r].push(o);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[o];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=i);var s=n.p+n.u(t),a=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,o[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,i,s=r[0],a=r[1],l=r[2],c=0;if(s.some(t=>0!==e[t])){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391),r="popstate";function o(){return d(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return l("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:c(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function i(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function s(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function a(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?u(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function c(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function d(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=o,c=i.history,u="POP",d=null,f=p();function p(){return(c.state||{idx:null}).idx}function m(){u="POP";let e=p(),t=null==e?null:e-f;f=e,d&&d({action:u,location:y.location,delta:t})}function g(e){return h(e)}null==f&&(f=0,c.replaceState({...c.state,idx:f},""));let y={get action(){return u},get location(){return e(i,c)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(r,m),d=e,()=>{i.removeEventListener(r,m),d=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u="PUSH";let r=l(y.location,e,t);n&&n(r,e),f=p()+1;let o=a(r,f),h=y.createHref(r);try{c.pushState(o,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;i.location.assign(h)}s&&d&&d({action:u,location:y.location,delta:1})},replace:function(e,t){u="REPLACE";let r=l(y.location,e,t);n&&n(r,e),f=p();let o=a(r,f),i=y.createHref(r);c.replaceState(o,"",i),s&&d&&d({action:u,location:y.location,delta:0})},go:e=>c.go(e)};return y}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),i(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:c(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let o=N(("string"===typeof t?u(t):t).pathname||"/",n);if(null==o)return null;let i=m(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=T(o);s=E(i[a],e,r)}return s}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(i(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let l=B([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(i(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),m(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))o(e,t,n);else o(e,t)}),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let s=g(r.join("/")),a=[];return a.push(...s.map(e=>""===e?i:[i,e].join("/"))),o&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var y=/^:[\w-]+$/,v=3,w=2,b=1,k=10,_=-2,S=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=_),t&&(r+=w),n.filter(e=>!S(e)).reduce((e,t)=>e+(y.test(t)?v:""===t?b:k),r)}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:B([i,u.pathname]),pathnameBase:L(B([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=B([i,u.pathnameBase]))}return s}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=x(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=a[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function x(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e){let t=A(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function D(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=u(e):(r={...e},i(!r.pathname||!r.pathname.includes("?"),P("?","pathname","search",r)),i(!r.pathname||!r.pathname.includes("#"),P("#","pathname","hash",r)),i(!r.search||!r.search.includes("#"),P("#","search","hash",r)));let s,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!o&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?u(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:O(r),hash:j(o)}}(r,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}var B=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function M(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var F=["POST","PUT","PATCH","DELETE"],U=(new Set(F),["GET",...F]);new Set(U),Symbol("ResetLoaderData");var z=e.createContext(null);z.displayName="DataRouter";var V=e.createContext(null);V.displayName="DataRouterState";var $=e.createContext(!1);var q=e.createContext({isTransitioning:!1});q.displayName="ViewTransition";var H=e.createContext(new Map);H.displayName="Fetchers";var W=e.createContext(null);W.displayName="Await";var K=e.createContext(null);K.displayName="Navigation";var G=e.createContext(null);G.displayName="Location";var Q=e.createContext({outlet:null,matches:[],isDataRoute:!1});Q.displayName="Route";var Y=e.createContext(null);Y.displayName="RouteError";function X(){return null!=e.useContext(G)}function J(){return i(X(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(G).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ee(t){e.useContext(K).static||e.useLayoutEffect(t)}function te(){let{isDataRoute:t}=e.useContext(Q);return t?function(){let{router:t}=de("useNavigate"),n=fe("useNavigate"),r=e.useRef(!1);ee(()=>{r.current=!0});let o=e.useCallback(async function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(r.current,Z),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...o}))},[t,n]);return o}():function(){i(X(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(z),{basename:n,navigator:r}=e.useContext(K),{matches:o}=e.useContext(Q),{pathname:a}=J(),l=JSON.stringify(R(o)),c=e.useRef(!1);ee(()=>{c.current=!0});let u=e.useCallback(function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(c.current,Z),!c.current)return;if("number"===typeof e)return void r.go(e);let i=D(e,JSON.parse(l),a,"path"===o.relative);null==t&&"/"!==n&&(i.pathname="/"===i.pathname?n:B([n,i.pathname])),(o.replace?r.replace:r.push)(i,o.state,o)},[n,r,l,a,t]);return u}()}e.createContext(null);function ne(){let{matches:t}=e.useContext(Q),n=t[t.length-1];return n?n.params:{}}function re(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(Q),{pathname:o}=J(),i=JSON.stringify(R(r));return e.useMemo(()=>D(t,JSON.parse(i),o,"path"===n),[t,i,o,n])}function oe(t,n,r,o){i(X(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=e.useContext(K),{matches:l}=e.useContext(Q),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let e=m&&m.path||"";ge(h,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,y=J();if(n){let e="string"===typeof n?u(n):n;i("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=y;let v=g.pathname||"/",w=v;if("/"!==p){let e=p.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=f(t,{pathname:w});s(m||null!=b,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),s(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=ce(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:B([p,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:B([p,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,r,o);return n&&k?e.createElement(G.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},k):k}function ie(){let t=pe(),n=M(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},s={padding:"2px 4px",backgroundColor:o},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,a)}var se=e.createElement(ie,null),ae=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(Q.Provider,{value:this.props.routeContext},e.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function le(t){let{routeContext:n,match:r,children:o}=t,i=e.useContext(z);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Q.Provider,{value:n},o)}function ce(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let o=t,s=r?.errors;if(null!=s){let e=o.findIndex(e=>e.route.id&&void 0!==s?.[e.route.id]);i(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,l=-1;if(r)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){a=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}return o.reduceRight((t,i,c)=>{let u,d=!1,h=null,f=null;r&&(u=s&&i.route.id?s[i.route.id]:void 0,h=i.route.errorElement||se,a&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=i.route.hydrateFallbackElement||null)));let p=n.concat(o.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(le,{match:i,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===c)?e.createElement(ae,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function ue(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function de(t){let n=e.useContext(z);return i(n,ue(t)),n}function he(t){let n=e.useContext(V);return i(n,ue(t)),n}function fe(t){let n=function(t){let n=e.useContext(Q);return i(n,ue(t)),n}(t),r=n.matches[n.matches.length-1];return i(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function pe(){let t=e.useContext(Y),n=he("useRouteError"),r=fe("useRouteError");return void 0!==t?t:n.errors?.[r]}var me={};function ge(e,t,n){t||me[e]||(me[e]=!0,s(!1,n))}var ye={};function ve(e,t){e||ye[t]||(ye[t]=!0,console.warn(t))}e.memo(function(e){let{routes:t,future:n,state:r}=e;return oe(t,void 0,r,n)});function we(t){let{to:n,replace:r,state:o,relative:a}=t;i(X(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=e.useContext(K);s(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=e.useContext(Q),{pathname:u}=J(),d=te(),h=D(n,R(c),u,"path"===a),f=JSON.stringify(h);return e.useEffect(()=>{d(JSON.parse(f),{replace:r,state:o,relative:a})},[d,f,a,r,o]),null}function be(e){i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ke(t){let{basename:n="/",children:r=null,location:o,navigationType:a="POP",navigator:l,static:c=!1}=t;i(!X(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=e.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);"string"===typeof o&&(o=u(o));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=o,v=e.useMemo(()=>{let e=N(f,d);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:a}},[d,f,p,m,g,y,a]);return s(null!=v,`<Router basename="${d}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:e.createElement(K.Provider,{value:h},e.createElement(G.Provider,{children:r,value:v}))}function _e(e){let{children:t,location:n}=e;return oe(Se(t),n)}e.Component;function Se(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,(t,o)=>{if(!e.isValidElement(t))return;let s=[...n,o];if(t.type===e.Fragment)return void r.push.apply(r,Se(t.props.children,s));i(t.type===be,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),i(!t.props.index||!t.props.children,"An index route cannot have child routes.");let a={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=Se(t.props.children,s)),r.push(a)}),r}var Ce="get",Ee="application/x-www-form-urlencoded";function Ie(e){return null!=e&&"string"===typeof e.tagName}var xe=null;var Te=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ne(e){return null==e||Te.has(e)?e:(s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ee}"`),null)}function Pe(e,t){let n,r,o,i,s;if(Ie(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?N(s,t):null,n=e.getAttribute("method")||Ce,o=Ne(e.getAttribute("enctype"))||Ee,i=new FormData(e)}else if(function(e){return Ie(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ie(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?N(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Ce,o=Ne(e.getAttribute("formenctype"))||Ne(s.getAttribute("enctype"))||Ee,i=new FormData(s,e),!function(){if(null===xe)try{new FormData(document.createElement("form"),0),xe=!1}catch(e){xe=!0}return xe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(Ie(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ce,r=null,o=Ee,s=e}var a;return i&&"text/plain"===o&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ae(e){return{__html:e}}function Re(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function De(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===N(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Be(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Le(e){return null!=e&&"string"===typeof e.page}function Oe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function je(e,t,n,r,o,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>s(e,t)||a(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||a(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Me(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1),[...new Set(r)];var r}function Fe(e,t){let n=new Set,r=new Set(t);return e.reduce((e,o)=>{if(t&&!Le(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e},[])}function Ue(e,t){return"lazy"===e.mode&&!0===t}function ze(){let t=e.useContext(z);return Re(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ve(){let t=e.useContext(V);return Re(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $e=e.createContext(void 0);function qe(){let t=e.useContext($e);return Re(t,"You must render this element inside a <HydratedRouter> element"),t}function He(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function We(e,t,n){if(n&&!Ye)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}$e.displayName="FrameworkContext";function Ke(t){let{page:n,...r}=t,{router:o}=ze(),i=e.useMemo(()=>f(o.routes,n,o.basename),[o.routes,n,o.basename]);return i?e.createElement(Qe,{page:n,matches:i,...r}):null}function Ge(t){let{manifest:n,routeModules:r}=qe(),[o,i]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return Fe((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Be(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Oe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(t,n,r).then(t=>{e||i(t)}),()=>{e=!0}},[t,n,r]),o}function Qe(t){let{page:n,matches:r,...o}=t,i=J(),{manifest:s,routeModules:a}=qe(),{basename:l}=ze(),{loaderData:c,matches:u}=Ve(),d=e.useMemo(()=>je(n,r,u,s,i,"data"),[n,r,u,s,i]),h=e.useMemo(()=>je(n,r,u,s,i,"assets"),[n,r,u,s,i]),f=e.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{let r=s.routes[n.route.id];r&&r.hasLoader&&(!d.some(e=>e.route.id===n.route.id)&&n.route.id in c&&a[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let o=De(n,l,"data");return t&&e.size>0&&o.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[o.pathname+o.search]},[l,c,i,s,d,r,n,a]),p=e.useMemo(()=>Me(h,s),[h,s]),m=Ge(h);return e.createElement(e.Fragment,null,f.map(t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...o})),p.map(t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...o})),m.map(t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})}))}var Ye=!1;function Xe(t){let{manifest:n,serverHandoffString:r,isSpaMode:o,renderMeta:i,routeDiscovery:s,ssr:a}=qe(),{router:l,static:c,staticContext:u}=ze(),{matches:d}=Ve(),h=e.useContext($),p=Ue(s,a);i&&(i.didRenderScripts=!0);let m=We(d,null,o);e.useEffect(()=>{0},[]);let g=e.useMemo(()=>{if(h)return null;let o=u?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=c?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${p?"":`import ${JSON.stringify(n.url)}`};\n${m.map((e,t)=>{let r=`route${t}`,o=n.routes[e.route.id];Re(o,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=o,u=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...a?[{module:a,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${r} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${p?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,o=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push(`/${i.join("/")}`),i.pop();s.forEach(e=>{let n=f(t.routes,e,t.basename);n&&n.forEach(e=>o.add(e.route.id))});let a=[...o].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return{...r,routes:a,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${m.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ae(o),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ae(i),type:"module",async:!0}))},[]),y=Ye||h?[]:(n.entry.imports.concat(Me(m,n,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let w="object"===typeof n.sri?n.sri:{};return ve(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Ye||h?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,p?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:w[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:w[n.entry.module],suppressHydrationWarning:!0}),y.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:w[n],suppressHydrationWarning:!0})),g)}function Je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function Ze(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let o,i=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(M(n))return e.createElement(et,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(et,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function et(t){let{title:n,renderScripts:r,isOutsideRemixApp:o,children:i}=t,{routeModules:s}=qe();return s.root?.Layout&&!o?i:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?e.createElement(Xe,null):null)))}var tt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{tt&&(window.__reactRouterVersion="7.7.1")}catch(AS){}function nt(t){let{basename:n,children:r,window:i}=t,s=e.useRef();null==s.current&&(s.current=o({window:i,v5Compat:!0}));let a=s.current,[l,c]=e.useState({action:a.action,location:a.location}),u=e.useCallback(t=>{e.startTransition(()=>c(t))},[c]);return e.useLayoutEffect(()=>a.listen(u),[a,u]),e.createElement(ke,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:a})}var rt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=e.forwardRef(function(t,n){let r,{onClick:o,discover:a="render",prefetch:l="none",relative:u,reloadDocument:d,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:y,...v}=t,{basename:w}=e.useContext(K),b="string"===typeof m&&rt.test(m),k=!1;if("string"===typeof m&&b&&(r=m,tt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=N(t.pathname,w);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:k=!0}catch(AS){s(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(X(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=e.useContext(K),{hash:s,pathname:a,search:l}=re(t,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:B([r,a])),o.createHref({pathname:c,search:l,hash:s})}(m,{relative:u}),[S,C,E]=function(t,n){let r=e.useContext($e),[o,i]=e.useState(!1),[s,a]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=e.useRef(null);e.useEffect(()=>{if("render"===t&&a(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(o){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[o]);let p=()=>{i(!0)},m=()=>{i(!1),a(!1)};return r?"intent"!==t?[s,f,{}]:[s,f,{onFocus:He(l,p),onBlur:He(c,m),onMouseEnter:He(u,p),onMouseLeave:He(d,m),onTouchStart:He(h,p)}]:[!1,f,{}]}(l,v),I=function(t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=te(),u=J(),d=re(t,{relative:s});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:c(u)===c(d);l(t,{replace:n,state:o,preventScrollReset:i,relative:s,viewTransition:a})}},[u,l,d,r,o,n,t,i,s,a])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:u,viewTransition:y});let x=e.createElement("a",{...v,...E,href:r||_,onClick:k||d?o:function(e){o&&o(e),e.defaultPrevented||I(e)},ref:Je(n,C),target:p,"data-discover":b||"render"!==a?void 0:"true"});return S&&!b?e.createElement(e.Fragment,null,x,e.createElement(Ke,{page:_})):x});ot.displayName="Link",e.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:d,...h}=t,f=re(c,{relative:h.relative}),p=J(),m=e.useContext(V),{navigator:g,basename:y}=e.useContext(K),v=null!=m&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(q);i(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=at("useViewTransitionState"),s=re(t,{relative:n});if(!r.isTransitioning)return!1;let a=N(r.currentLocation.pathname,o)||r.currentLocation.pathname,l=N(r.nextLocation.pathname,o)||r.nextLocation.pathname;return null!=I(s.pathname,l)||null!=I(s.pathname,a)}(f)&&!0===u,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,k=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(b=b.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&y&&(k=N(k,y)||k);const _="/"!==w&&w.endsWith("/")?w.length-1:w.length;let S,C=b===w||!a&&b.startsWith(w)&&"/"===b.charAt(_),E=null!=k&&(k===w||!a&&k.startsWith(w)&&"/"===k.charAt(w.length)),x={isActive:C,isPending:E,isTransitioning:v},T=C?r:void 0;S="function"===typeof s?s(x):[s,C?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(x):l;return e.createElement(ot,{...h,"aria-current":T,className:S,ref:n,style:P,to:c,viewTransition:u},"function"===typeof d?d(x):d)}).displayName="NavLink";var it=e.forwardRef((t,n)=>{let{discover:r="render",fetcherKey:o,navigate:s,reloadDocument:a,replace:l,state:u,method:d=Ce,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...y}=t,v=ut(),w=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(K),o=e.useContext(Q);i(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),a={...re(t||".",{relative:n})},l=J();if(null==t){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?`?${n}`:""}}t&&"."!==t||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:B([r,a.pathname]));return c(a)}(h,{relative:p}),b="get"===d.toLowerCase()?"get":"post",k="string"===typeof h&&rt.test(h);return e.createElement("form",{ref:n,method:b,action:w,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;v(t||e.currentTarget,{fetcherKey:o,method:n,navigate:s,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:g})},...y,"data-discover":k||"render"!==r?void 0:"true"})});function st(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function at(t){let n=e.useContext(z);return i(n,st(t)),n}it.displayName="Form";var lt=0,ct=()=>`__${String(++lt)}__`;function ut(){let{router:t}=at("useSubmit"),{basename:n}=e.useContext(K),r=fe("useRouteId");return e.useCallback(async function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:a,formData:l,body:c}=Pe(e,n);if(!1===o.navigate){let e=o.fetcherKey||ct();await t.fetch(e,r,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await t.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,n,r])}const dt={bgColor:"#F5F5F5",primaryColor:"#3D70FF",primaryDarkColor:"#3161EA",primaryLightColor:"#5A84F8",white:"#FFFFFF",black:"#000000",textPrimary:"#333333",textSecondary:"#666666",textLight:"#999999",success:"#28A745",error:"#DC3545",warning:"#FFC107",info:"#17A2B8",gray100:"#F8F9FA",gray200:"#E9ECEF",gray300:"#DEE2E6",gray400:"#CED4DA",gray500:"#ADB5BD",gray600:"#6C757D",gray700:"#495057",gray800:"#343A40",gray900:"#212529"},ht={primary:`linear-gradient(135deg, ${dt.primaryColor} 0%, ${dt.primaryDarkColor} 100%)`,primaryLight:`linear-gradient(135deg, ${dt.primaryLightColor} 0%, ${dt.primaryColor} 100%)`,background:`linear-gradient(135deg, ${dt.primaryColor} 0%, ${dt.primaryLightColor} 100%)`},{bgColor:ft,primaryColor:pt,primaryDarkColor:mt,primaryLightColor:gt,white:yt,black:vt,textPrimary:wt,textSecondary:bt,textLight:kt}=dt;var _t=n(579);const St=(0,e.createContext)(),Ct=t=>{let{children:n}=t;const[r,o]=(0,e.useState)({primary:dt.primaryColor,secondary:dt.primaryDarkColor,light:dt.primaryLightColor,background:dt.bgColor,appName:"Food Munch"});(0,e.useEffect)(()=>{const e=document.documentElement;e.style.setProperty("--theme-primary",r.primary),e.style.setProperty("--theme-secondary",r.secondary),e.style.setProperty("--theme-light",r.light),e.style.setProperty("--theme-background",r.background),e.style.setProperty("--theme-gradient",ht.primary)},[r]);const i={currentTheme:r,Colors:dt,Gradients:ht};return(0,_t.jsx)(St.Provider,{value:i,children:n})},Et={USER_TOKEN:"food_munch_user_token",USER_DATA:"food_munch_user_data",HAS_SEEN_ONBOARDING:"food_munch_has_seen_onboarding",SELECTED_STADIUM:"food_munch_selected_stadium",STADIUM_PREFERENCES:"food_munch_stadium_preferences",THEME_PREFERENCE:"food_munch_theme",LANGUAGE_PREFERENCE:"food_munch_language",CART_DATA:"food_munch_cart",ORDER_HISTORY:"food_munch_order_history",FAVORITE_FOODS:"food_munch_favorite_foods",FAVORITE_RESTAURANTS:"food_munch_favorite_restaurants",NOTIFICATION_PREFERENCES:"food_munch_notifications",PUSH_TOKEN:"food_munch_push_token",SEAT_INFO:"food_munch_seat_info"},It={setSeatInfo:e=>xt.setItem(Et.SEAT_INFO,e),getSeatInfo:()=>xt.getItem(Et.SEAT_INFO,null),clearSeatInfo:()=>xt.removeItem(Et.SEAT_INFO)},xt={setItem:(e,t)=>{try{const n=JSON.stringify(t);return localStorage.setItem(e,n),!0}catch(n){return console.error("Error saving to localStorage:",n),!1}},getItem:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.error("Error reading from localStorage:",n),t}},removeItem:e=>{try{return localStorage.removeItem(e),!0}catch(t){return console.error("Error removing from localStorage:",t),!1}},clear:()=>{try{return localStorage.clear(),!0}catch(e){return console.error("Error clearing localStorage:",e),!1}},hasItem:e=>null!==localStorage.getItem(e)},Tt={setUserToken:e=>xt.setItem(Et.USER_TOKEN,e),getUserToken:()=>xt.getItem(Et.USER_TOKEN),removeUserToken:()=>xt.removeItem(Et.USER_TOKEN),setUserData:e=>xt.setItem(Et.USER_DATA,e),getUserData:()=>xt.getItem(Et.USER_DATA),removeUserData:()=>xt.removeItem(Et.USER_DATA),isLoggedIn:()=>xt.hasItem(Et.USER_TOKEN)},Nt={setSelectedStadium:e=>xt.setItem(Et.SELECTED_STADIUM,e),getSelectedStadium:()=>xt.getItem(Et.SELECTED_STADIUM),removeSelectedStadium:()=>xt.removeItem(Et.SELECTED_STADIUM),hasSelectedStadium:()=>xt.hasItem(Et.SELECTED_STADIUM),setStadiumPreferences:e=>xt.setItem(Et.STADIUM_PREFERENCES,e),getStadiumPreferences:()=>xt.getItem(Et.STADIUM_PREFERENCES,{})},Pt={setCart:e=>xt.setItem(Et.CART_DATA,e),getCart:()=>xt.getItem(Et.CART_DATA,{items:[],total:0}),clearCart:()=>xt.removeItem(Et.CART_DATA),addToCart:e=>{const t=Pt.getCart(),n=t.items.findIndex(t=>t.id===e.id);return n>=0?t.items[n].quantity+=e.quantity||1:t.items.push({...e,quantity:e.quantity||1}),t.total=t.items.reduce((e,t)=>e+t.price*t.quantity,0),Pt.setCart(t),t},removeFromCart:e=>{const t=Pt.getCart();return t.items=t.items.filter(t=>t.id!==e),t.total=t.items.reduce((e,t)=>e+t.price*t.quantity,0),Pt.setCart(t),t}},At={clearAllStorage:()=>{try{console.log("\ud83e\uddf9 Clearing all localStorage data..."),localStorage.clear(),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cartItems:[],totalItems:0,totalPrice:0}})),console.log("\u2705 All localStorage data cleared successfully")}catch(e){console.error("\u274c Error clearing localStorage:",e)}},clearUserData:()=>{try{console.log("\ud83e\uddf9 Clearing user-specific data...");[Et.USER_DATA,Et.SELECTED_STADIUM,Et.ONBOARDING_COMPLETED,Et.CART].forEach(e=>{localStorage.removeItem(e)}),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cartItems:[],totalItems:0,totalPrice:0}})),console.log("\u2705 User-specific data cleared successfully")}catch(e){console.error("\u274c Error clearing user data:",e)}},initializeFreshSession:()=>{try{console.log("\ud83d\udd04 Initializing fresh user session..."),At.clearAllStorage(),Pt.setCart({items:[],total:0,shopId:null}),console.log("\u2705 Fresh session initialized")}catch(e){console.error("\u274c Error initializing fresh session:",e)}}},Rt={setThemePreference:e=>xt.setItem(Et.THEME_PREFERENCE,e),getThemePreference:()=>xt.getItem(Et.THEME_PREFERENCE,"light"),setLanguagePreference:e=>xt.setItem(Et.LANGUAGE_PREFERENCE,e),getLanguagePreference:()=>xt.getItem(Et.LANGUAGE_PREFERENCE,null),setNotificationPreferences:e=>xt.setItem(Et.NOTIFICATION_PREFERENCES,e),getNotificationPreferences:()=>xt.getItem(Et.NOTIFICATION_PREFERENCES,{push:!0,email:!0,orderUpdates:!0,promotions:!1})},Dt=JSON.parse('{"home":{"select_stadium":"Stadium Selection","greeting":"Good Morning,","greeting_morning":"Good Morning,","greeting_afternoon":"Good Afternoon,","greeting_evening":"Good Evening,","greeting_night":"Good Night,","search_placeholder":"Search for food items...","categories":"Categories","cat_all":"All","cat_pizza":"Pizza","cat_burgers":"Burgers","cat_drinks":"Drinks","cat_desserts":"Desserts","cat_coffee":"Coffee","cat_asian":"Asian","cat_bakery":"Bakery","popular_menu":"Popular Menu","see_all":"See All","search_results":"Search Results","no_results_for":"No results found for","no_menu":"No menu items available","shops":"Shops","error_fetch_shops":"Failed to fetch restaurants","retry":"Try Again","no_shops":"No shops available","more_suffix":"more"},"common":{"edit":"Edit"},"cart":{"add_to_cart":"Add to Cart","empty":"Cart is empty","subtotal":"Subtotal","delivery":"Handling & Delivery","tip":"Tip","discount":"Discount","total":"Total","place_order":"Place Order"},"food":{"description":"Description","no_description":"No description available","off":"OFF","min":"min","orders":"orders","swipe_add_to_cart":"Swipe to add to Cart","not_found":"Food not found","try_again":"Try Again"},"tip":{"title":"Add Tip","supports_runner":"Your entire tip supports the runner.","order_total_is":"Order total is","illustration_alt":"Add a tip","tip_amount":"Tip Amount","custom_tip":"Custom Tip","custom_tip_label":"Custom tip","custom_tip_placeholder":"Enter custom percentage","add_tip":"Add Tip","skip":"Skip"},"order":{"confirm_title":"Confirm Order","ticket_image_title":"Ticket Image (Optional)","ticket_image_desc":"Upload your ticket image to auto-fill seat information","choose_from_gallery":"Choose From Gallery","front_camera":"Camera","or":"OR","ticket_alt":"Ticket","seat_info_title":"Seat Information","seat_number":"Seat Number","seat_number_ph":"Enter seat number","stand_number":"Stand Number","stand_number_ph":"Enter stand","row_number":"Row Number","row_number_ph":"Enter row number","entrance":"Entrance","entrance_ph":"Enter entrance number","area":"Area","area_ph":"Enter area","additional_details":"Additional Details","additional_details_ph":"Add text","summary_title":"Order Summary","subtotal":"Subtotal","tip":"Tip","total":"Total","processing":"Processing...","place_order_with_total":"Place Order - {total}","place_order":"Place Order","card_payment_title":"Card Payment","confirm_card_payment":"Confirm Card Payment","order_placed":"Order placed successfully!","order_id":"Order ID","payment_failed_generic":"Payment failed. Please try again.","processing_full":"Processing payment and placing order\u2026","row":"Row","seat":"Seat","stand":"Stand","select_stand":"Select Stand","stand_gallery":"Gallery","stand_main":"Main","upload_ticket_header":"Please complete the details so we can complete the order","upload_ticket_subheader":"Upload your tickets","section":"Section","select_section":"Select section","err_row_required":"Please enter row number","err_seat_required":"Seat number is required","err_section_required":"Section is required","err_entrance_required":"Entrance is required","err_stand_required":"Stand is required","complete_required_fields_prefix":"Please complete required fields:","wallet_payment_succeeded_order_failed_prefix":"Payment succeeded but order failed:","contact_support":"Please contact support.","additional_auth_required":"Additional authentication required","payment_status":"Payment status","unknown":"unknown","payment_error":"Payment error","unknown_error":"Unknown error","location_required":"Location Access Required","location_required_desc":"Please enable location access so we can track your seat location for delivery","enable_location":"Enable Location","phone_contact_title":"Delivery contact phone","phone_contact_hint":"This number will be used by the delivery person if they need help finding you.","phone_input_ph":"+972501234567","err_phone_required":"Please enter a valid phone number (digits, with optional +)."},"auth":{"title_login":"Log in","title_register":"Create Account","first_name":"First Name","last_name":"Last Name","email":"Email","email_ph":"Enter your email","password":"Password","password_ph":"Enter your password","confirm_password":"Re-enter Password","confirm_password_ph":"Re-enter your password","forgot_password":"Forgot Password?","back_to_login":"Back to Login","sign_in":"Sign In","create_account":"Create Account","toggle_no_account":"Don\'t have an account? ","toggle_register_now":"Register Now","toggle_have_account":"Already have an account? ","toggle_sign_in":"Sign In","please_wait":"Please wait...","fill_required":"Please fill in all required fields.","passwords_no_match":"Passwords do not match.","phone":"Phone","phone_ph":"Enter your phone number","phone_invalid":"Please enter a valid phone number","email_invalid":"Please enter a valid email address","reset_instructions":"Enter your email and we\'ll send you a password reset link.","send_reset_link":"Send Reset Link","reset_sent":"If an account exists for this email, a reset link has been sent. Please also check your Spam/Junk folder.","reset_failed":"Failed to send reset link. Please try again."},"onboarding":{"skip":"Skip","step1":{"title":"Tap. Sit. Enjoy.","subtitle":"A small tap \u2013 a big experience!","description":"Enjoy food, drinks and merch delivered right to your seat\u2014so you can stay in the action, not the line."},"step2":{"title":"Tap. Order. Relax.","subtitle":"Stay in your seat \u2013 we\u2019re on our way!","description":"Order from your phone and get everything you need without ever leaving your seat. Enjoy!"},"step3":{"title":"Tap. Order. Experience.","subtitle":"No getting up. No waiting. No missing out.","description":"Great food, drinks and products delivered to your seat\u2014so you stay in the game, not the line."}},"stadium":{"title":"Select Your Stadium","subtitle":"Choose where you want to order food from","loading":"Loading stadiums...","retry":"Retry","capacity":"Capacity","select_button":"Select a Stadium","continue_to":"Continue to"},"orders":{"my_orders":"My Orders","subtitle":"Track your food orders","active":"Active","completed":"Completed","loading":"Loading orders...","error_loading":"Error loading orders","try_again":"Try Again","no_orders":"No orders yet","empty_hint":"Your orders will appear here","order":"Order","items":"Items","track":"Track Order","pending":"Pending","preparing":"Preparing","delivering":"Delivering","delivered":"Delivered","cancelled":"Cancelled","track_for_qr":"Click \'Track Order\' to show QR code to delivery person"},"track":{"order":"Order Tracking","loading":"Loading order...","no_code":"No QR code available","present_qr":"Present QR Code to receive your order","order_received":"Order Received","preparing":"Preparing","on_the_way":"On the Way","delivered":"Delivered","items":"Order Items","qty":"Qty","item":"Item","no_items":"No items in this order","delivery_contact":"Delivery Contact","loading_contact":"Loading contact info...","delivery_person":"Delivery Person","contact_unavailable":"Contact information unavailable"}}'),Bt=JSON.parse('{"home":{"select_stadium":"\u05d1\u05d7\u05d9\u05e8\u05ea \u05d0\u05e6\u05d8\u05d3\u05d9\u05d5\u05df","greeting":"\u05d1\u05d5\u05e7\u05e8 \u05d8\u05d5\u05d1,","greeting_morning":"\u05d1\u05d5\u05e7\u05e8 \u05d8\u05d5\u05d1,","greeting_afternoon":"\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd \u05d8\u05d5\u05d1\u05d9\u05dd,","greeting_evening":"\u05e2\u05e8\u05d1 \u05d8\u05d5\u05d1,","greeting_night":"\u05dc\u05d9\u05dc\u05d4 \u05d8\u05d5\u05d1,","search_placeholder":"\u05d7\u05e4\u05e9\u05d5 \u05e4\u05e8\u05d9\u05d8\u05d9 \u05de\u05d6\u05d5\u05df...","categories":"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d5\u05ea","cat_all":"\u05d4\u05db\u05d5\u05dc","cat_pizza":"\u05e4\u05d9\u05e6\u05d4","cat_burgers":"\u05d4\u05de\u05d1\u05d5\u05e8\u05d2\u05e8\u05d9\u05dd","cat_drinks":"\u05de\u05e9\u05e7\u05d0\u05d5\u05ea","cat_desserts":"\u05e7\u05d9\u05e0\u05d5\u05d7\u05d9\u05dd","cat_coffee":"\u05e7\u05e4\u05d4","cat_asian":"\u05d0\u05e1\u05d9\u05d9\u05ea\u05d9","cat_bakery":"\u05de\u05d0\u05e4\u05d9\u05d9\u05d4","popular_menu":"\u05ea\u05e4\u05e8\u05d9\u05d8 \u05e4\u05d5\u05e4\u05d5\u05dc\u05e8\u05d9","see_all":"\u05d4\u05e6\u05d2 \u05d4\u05db\u05dc","search_results":"\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05d7\u05d9\u05e4\u05d5\u05e9","no_results_for":"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8","no_menu":"\u05d0\u05d9\u05df \u05e4\u05e8\u05d9\u05d8\u05d9 \u05ea\u05e4\u05e8\u05d9\u05d8 \u05d6\u05de\u05d9\u05e0\u05d9\u05dd","shops":"\u05d7\u05e0\u05d5\u05d9\u05d5\u05ea","error_fetch_shops":"\u05d0\u05d9\u05e8\u05e2 \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05de\u05e1\u05e2\u05d3\u05d5\u05ea","retry":"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1","no_shops":"\u05d0\u05d9\u05df \u05d7\u05e0\u05d5\u05d9\u05d5\u05ea \u05d6\u05de\u05d9\u05e0\u05d5\u05ea","more_suffix":"\u05e2\u05d5\u05d3"},"common":{"edit":"\u05e2\u05e8\u05d5\u05da"},"cart":{"add_to_cart":"\u05d4\u05d5\u05e1\u05e3 \u05dc\u05e2\u05d2\u05dc\u05d4","empty":"\u05d4\u05e2\u05d2\u05dc\u05d4 \u05e8\u05d9\u05e7\u05d4","subtotal":"\u05e1\u05d4\\"\u05db \u05d1\u05d9\u05e0\u05d9\u05d9\u05dd","delivery":"\u05d8\u05d9\u05e4\u05d5\u05dc \u05d5\u05de\u05e9\u05dc\u05d5\u05d7","tip":"\u05d8\u05d9\u05e4","discount":"\u05d4\u05e0\u05d7\u05d4","total":"\u05e1\u05d4\\"\u05db","place_order":"\u05d1\u05e6\u05e2 \u05d4\u05d6\u05de\u05e0\u05d4"},"food":{"description":"\u05ea\u05d9\u05d0\u05d5\u05e8","no_description":"\u05d0\u05d9\u05df \u05ea\u05d0\u05d5\u05e8 \u05d6\u05de\u05d9\u05df","off":"\u05d4\u05e0\u05d7\u05d4","min":"\u05d3\u05e7\u05f3","orders":"\u05d4\u05d6\u05de\u05e0\u05d5\u05ea","swipe_add_to_cart":"\u05d4\u05d7\u05dc\u05e7 \u05dc\u05d4\u05d5\u05e1\u05e4\u05d4 \u05dc\u05e2\u05d2\u05dc\u05d4","add_to_cart_short":"\u05d4\u05d5\u05e1\u05e3 \u05dc\u05e1\u05dc","not_found":"\u05d4\u05de\u05e0\u05d4 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d4","try_again":"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1"},"tip":{"title":"\u05d4\u05d5\u05e1\u05e3 \u05d8\u05d9\u05e4","supports_runner":"\u05db\u05dc \u05d4\u05d8\u05d9\u05e4 \u05e9\u05dc\u05da \u05ea\u05d5\u05de\u05da \u05d1\u05e9\u05dc\u05d9\u05d7.","order_total_is":"\u05e1\u05db\u05d5\u05dd \u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05d4\u05d5\u05d0","illustration_alt":"\u05d4\u05d5\u05e1\u05e3 \u05d8\u05d9\u05e4","tip_amount":"\u05e1\u05db\u05d5\u05dd \u05d4\u05d8\u05d9\u05e4","custom_tip":"\u05d8\u05d9\u05e4 \u05de\u05d5\u05ea\u05d0\u05dd","custom_tip_label":"\u05d8\u05d9\u05e4 \u05de\u05d5\u05ea\u05d0\u05dd (%)","custom_tip_placeholder":"\u05d4\u05db\u05e0\u05e1 \u05d0\u05d7\u05d5\u05d6 \u05de\u05d5\u05ea\u05d0\u05dd","add_tip":"\u05d4\u05d5\u05e1\u05e3 \u05d8\u05d9\u05e4","skip":"\u05d3\u05dc\u05d2"},"order":{"confirm_title":"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05d4\u05d6\u05de\u05e0\u05d4","ticket_image_title":"\u05e6\u05d9\u05dc\u05d5\u05dd \u05db\u05e8\u05d8\u05d9\u05e1 \u05de\u05d5\u05e9\u05d1 (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05dc\u05d9)","ticket_image_desc":"\u05d4\u05e2\u05dc\u05d5 \u05ea\u05de\u05d5\u05e0\u05ea \u05db\u05e8\u05d8\u05d9\u05e1 \u05db\u05d3\u05d9 \u05dc\u05de\u05dc\u05d0 \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea \u05d0\u05ea \u05e4\u05e8\u05d8\u05d9 \u05d4\u05de\u05d5\u05e9\u05d1","choose_from_gallery":"\u05d1\u05d7\u05d9\u05e8\u05d4 \u05de\u05d4\u05d2\u05dc\u05e8\u05d9\u05d4","front_camera":"\u05de\u05e6\u05dc\u05de\u05d4","or":"\u05d0\u05d5","ticket_alt":"\u05db\u05e8\u05d8\u05d9\u05e1","seat_info_title":"\u05e4\u05e8\u05d8\u05d9 \u05de\u05d5\u05e9\u05d1","seat_number":"\u05de\u05e1\u05e4\u05e8 \u05de\u05d5\u05e9\u05d1","seat_number_ph":"\u05d4\u05db\u05e0\u05d9\u05e1\u05d5 \u05de\u05e1\u05e4\u05e8 \u05de\u05d5\u05e9\u05d1","stand_number":"\u05de\u05e1\u05e4\u05e8 \u05d9\u05e6\u05d9\u05e2","stand_number_ph":"\u05d4\u05db\u05e0\u05d9\u05e1\u05d5 \u05d9\u05e6\u05d9\u05e2","row_number":"\u05de\u05e1\u05e4\u05e8 \u05e9\u05d5\u05e8\u05d4","row_number_ph":"\u05d4\u05db\u05e0\u05d9\u05e1\u05d5 \u05de\u05e1\u05e4\u05e8 \u05e9\u05d5\u05e8\u05d4","entrance":"\u05e9\u05e2\u05e8","entrance_ph":"\u05d4\u05d6\u05df \u05de\u05e1\u05e4\u05e8 \u05db\u05e0\u05d9\u05e1\u05d4","area":"\u05d0\u05d6\u05d5\u05e8","area_ph":"\u05d4\u05db\u05e0\u05d9\u05e1\u05d5 \u05d0\u05d6\u05d5\u05e8","additional_details":"\u05e4\u05e8\u05d8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd","additional_details_ph":"\u05d4\u05d5\u05e1\u05d9\u05e4\u05d5 \u05d8\u05e7\u05e1\u05d8","summary_title":"\u05e1\u05d9\u05db\u05d5\u05dd \u05d4\u05d6\u05de\u05e0\u05d4","subtotal":"\u05e1\u05db\u05d5\u05dd \u05d1\u05d9\u05e0\u05d9\u05d9\u05dd","tip":"\u05d8\u05d9\u05e4","total":"\u05e1\u05d4\\"\u05db","processing":"\u05de\u05e2\u05d1\u05d3...","place_order_with_total":"\u05d1\u05e6\u05e2 \u05d4\u05d6\u05de\u05e0\u05d4 - {total}","place_order":"\u05d1\u05e6\u05e2 \u05d4\u05d6\u05de\u05e0\u05d4","card_payment_title":"\u05ea\u05e9\u05dc\u05d5\u05dd \u05d1\u05db\u05e8\u05d8\u05d9\u05e1","confirm_card_payment":"\u05d0\u05e9\u05e8 \u05ea\u05e9\u05dc\u05d5\u05dd \u05d1\u05db\u05e8\u05d8\u05d9\u05e1","order_placed":"\u05d4\u05d6\u05de\u05e0\u05d4 \u05d1\u05d5\u05e6\u05e2\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!","order_id":"\u05de\u05e1\u05e4\u05e8 \u05d4\u05d6\u05de\u05e0\u05d4","payment_failed_generic":"\u05d4\u05ea\u05e9\u05dc\u05d5\u05dd \u05e0\u05db\u05e9\u05dc. \u05e0\u05e1\u05d5 \u05e9\u05d5\u05d1.","processing_full":"\u05de\u05e2\u05d1\u05d3 \u05ea\u05e9\u05dc\u05d5\u05dd \u05d5\u05de\u05d1\u05e6\u05e2 \u05d4\u05d6\u05de\u05e0\u05d4\u2026","row":"\u05e9\u05d5\u05e8\u05d4","seat":"\u05de\u05d5\u05e9\u05d1","upload_ticket_header":"\u05d0\u05e0\u05d0 \u05d4\u05e9\u05dc\u05dd \u05d0\u05ea \u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05d4\u05de\u05d5\u05e9\u05d1 \u05e9\u05dc\u05da \u05db\u05d3\u05d9 \u05dc\u05d4\u05e9\u05dc\u05d9\u05dd \u05d0\u05ea \u05d4\u05d4\u05d6\u05de\u05e0\u05d4","upload_ticket_subheader":"\u05d4\u05e2\u05dc\u05d4 \u05d0\u05ea \u05d4\u05db\u05e8\u05d8\u05d9\u05e1\u05d9\u05dd \u05e9\u05dc\u05da","stand":"\u05d9\u05e6\u05d9\u05e2","select_stand":"\u05d1\u05d7\u05e8 \u05d9\u05e6\u05d9\u05e2","stand_gallery":"\u05d2\u05dc\u05e8\u05d9\u05d4","stand_main":"\u05e8\u05d0\u05e9\u05d9","section":"\u05e1\u05e7\u05d8\u05d5\u05e8","select_section":"\u05d1\u05d7\u05e8 \u05e1\u05e7\u05d8\u05d5\u05e8","err_row_required":"\u05e0\u05d0 \u05dc\u05d4\u05d6\u05d9\u05df \u05de\u05e1\u05e4\u05e8 \u05e9\u05d5\u05e8\u05d4","err_seat_required":"\u05e0\u05d3\u05e8\u05e9 \u05de\u05e1\u05e4\u05e8 \u05de\u05d5\u05e9\u05d1","err_section_required":"\u05e0\u05d3\u05e8\u05e9 \u05e1\u05e7\u05d8\u05d5\u05e8","err_entrance_required":"\u05e0\u05d3\u05e8\u05e9 \u05db\u05e0\u05d9\u05e1\u05d4","err_stand_required":"\u05e0\u05d3\u05e8\u05e9 \u05d9\u05e6\u05d9\u05e2","complete_required_fields_prefix":"\u05e0\u05d0 \u05dc\u05d4\u05e9\u05dc\u05d9\u05dd \u05d0\u05ea \u05d4\u05e9\u05d3\u05d5\u05ea \u05d4\u05d7\u05e1\u05e8\u05d9\u05dd:","location_required":"\u05e0\u05d3\u05e8\u05e9 \u05d2\u05d9\u05e9\u05d4 \u05dc\u05de\u05d9\u05e7\u05d5\u05dd","location_required_desc":"\u05d0\u05e0\u05d0 \u05d0\u05e4\u05e9\u05e8\u05d5 \u05d2\u05d9\u05e9\u05d4 \u05dc\u05de\u05d9\u05e7\u05d5\u05dd \u05db\u05d3\u05d9 \u05e9\u05e0\u05d5\u05db\u05dc \u05dc\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8 \u05de\u05d9\u05e7\u05d5\u05dd \u05d4\u05de\u05d5\u05e9\u05d1 \u05e9\u05dc\u05db\u05dd \u05dc\u05de\u05e9\u05dc\u05d5\u05d7","enable_location":"\u05d0\u05e4\u05e9\u05e8 \u05de\u05d9\u05e7\u05d5\u05dd","phone_contact_title":"\u05d8\u05dc\u05e4\u05d5\u05df \u05dc\u05d9\u05e6\u05d9\u05e8\u05ea \u05e7\u05e9\u05e8 \u05dc\u05de\u05e9\u05dc\u05d5\u05d7","phone_contact_hint":"\u05de\u05e1\u05e4\u05e8 \u05d6\u05d4 \u05d9\u05e9\u05de\u05e9 \u05d0\u05ea \u05d4\u05e9\u05dc\u05d9\u05d7 \u05d1\u05de\u05e7\u05e8\u05d4 \u05e9\u05d9\u05d6\u05d3\u05e7\u05e7 \u05dc\u05e2\u05d6\u05e8\u05d4 \u05d1\u05dc\u05de\u05e6\u05d5\u05d0 \u05d0\u05ea\u05db\u05dd.","phone_input_ph":"+972501234567","err_phone_required":"\u05e0\u05d0 \u05dc\u05d4\u05d6\u05d9\u05df \u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05ea\u05e7\u05d9\u05df (\u05e1\u05e4\u05e8\u05d5\u05ea, \u05e2\u05dd + \u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05dc\u05d9)."},"auth":{"title_login":"\u05d4\u05ea\u05d7\u05d1\u05e8 \u05dc\u05d7\u05e9\u05d1\u05d5\u05df \u05e9\u05dc\u05da","title_register":"\u05e6\u05d5\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df","first_name":"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9","last_name":"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4","email":"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc","email_ph":"\u05d4\u05db\u05e0\u05e1 \u05d0\u05d9\u05de\u05d9\u05d9\u05dc","password":"\u05e1\u05d9\u05e1\u05de\u05d4","password_ph":"\u05d4\u05db\u05e0\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4","confirm_password":"\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d4","confirm_password_ph":"\u05d4\u05db\u05e0\u05e1 \u05e9\u05d5\u05d1 \u05d0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d4","forgot_password":"\u05e9\u05db\u05d7\u05ea \u05e1\u05d9\u05e1\u05de\u05d4?","sign_in":"\u05d4\u05ea\u05d7\u05d1\u05e8","create_account":"\u05d4\u05d9\u05e8\u05e9\u05dd","toggle_no_account":"\u05d0\u05d9\u05df \u05dc\u05da \u05d7\u05e9\u05d1\u05d5\u05df? ","toggle_register_now":"\u05d4\u05d9\u05e8\u05e9\u05dd \u05e2\u05db\u05e9\u05d9\u05d5","toggle_have_account":"\u05db\u05d1\u05e8 \u05d9\u05e9 \u05dc\u05da \u05d7\u05e9\u05d1\u05d5\u05df? ","toggle_sign_in":"\u05d4\u05ea\u05d7\u05d1\u05e8","please_wait":"\u05d0\u05e0\u05d0 \u05d4\u05de\u05ea\u05df...","fill_required":"\u05e0\u05d0 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05db\u05dc \u05d4\u05e9\u05d3\u05d5\u05ea \u05d4\u05e0\u05d3\u05e8\u05e9\u05d9\u05dd.","passwords_no_match":"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05d0\u05d9\u05e0\u05df \u05ea\u05d5\u05d0\u05de\u05d5\u05ea.","phone":"\u05d8\u05dc\u05e4\u05d5\u05df","phone_ph":"\u05d4\u05db\u05e0\u05e1 \u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df","phone_invalid":"\u05e0\u05d0 \u05dc\u05d4\u05d6\u05d9\u05df \u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05ea\u05e7\u05d9\u05df","email_invalid":"\u05d0\u05e0\u05d0 \u05d4\u05d6\u05df \u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05ea\u05e7\u05d9\u05e0\u05d4","reset_instructions":"\u05d4\u05d6\u05df \u05d0\u05ea \u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d5\u05e0\u05e9\u05dc\u05d7 \u05dc\u05da \u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e4\u05d5\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4.","send_reset_link":"\u05e9\u05dc\u05d7 \u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e4\u05d5\u05e1","reset_sent":"\u05d0\u05dd \u05e7\u05d9\u05d9\u05dd \u05d7\u05e9\u05d1\u05d5\u05df \u05e2\u05d1\u05d5\u05e8 \u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d6\u05d4, \u05e0\u05e9\u05dc\u05d7 \u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e4\u05d5\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4. \u05d0\u05e0\u05d0 \u05d1\u05d3\u05d5\u05e7 \u05d2\u05dd \u05d0\u05ea \u05ea\u05d9\u05e7\u05d9\u05d9\u05ea \u05d4\u05e1\u05e4\u05d0\u05dd/\u05d3\u05d5\u05d0\u05e8 \u05d6\u05d1\u05dc.","reset_failed":"\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05e7\u05d9\u05e9\u05d5\u05e8 \u05e0\u05db\u05e9\u05dc\u05d4. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1.","back_to_login":"\u05d7\u05d6\u05e8\u05d4 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"},"onboarding":{"skip":"\u05d3\u05dc\u05d2","step1":{"title":"\u05ea\u05e9\u05d1. \u05ea\u05d6\u05de\u05d9\u05df. \u05ea\u05ea\u05e4\u05e0\u05e7.","subtitle":"\u05dc\u05d7\u05d9\u05e6\u05d4 \u05e7\u05d8\u05e0\u05d4 \u2013 \u05d7\u05d5\u05d5\u05d9\u05d4 \u05d2\u05d3\u05d5\u05dc\u05d4!","description":"\u05ea\u05d9\u05d4\u05e0\u05d4 \u05de\u05d0\u05d5\u05db\u05dc, \u05de\u05e9\u05e7\u05d0\u05d5\u05ea \u05d5\u05de\u05d5\u05e6\u05e8\u05d9\u05dd \u05e9\u05d9\u05d2\u05d9\u05e2\u05d5 \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea \u05dc\u05de\u05d5\u05e9\u05d1 \u05e9\u05dc\u05da \u2013 \u05db\u05d3\u05d9 \u05e9\u05ea\u05d5\u05db\u05dc \u05dc\u05d4\u05d9\u05e9\u05d0\u05e8 \u05d1\u05de\u05e9\u05d7\u05e7, \u05dc\u05d0 \u05d1\u05ea\u05d5\u05e8."},"step2":{"title":"\u05ea\u05e9\u05d1. \u05ea\u05d6\u05de\u05d9\u05df. \u05ea\u05d4\u05e0\u05d4.","subtitle":"\u05ea\u05d9\u05e9\u05d0\u05e8 \u05d1\u05db\u05d9\u05e1\u05d0 \u2013 \u05d0\u05e0\u05d7\u05e0\u05d5 \u05db\u05d1\u05e8 \u05d1\u05d0\u05d9\u05dd!","description":"\u05d4\u05d6\u05de\u05df \u05de\u05d4\u05e0\u05d9\u05d9\u05d3 \u05d5\u05e7\u05d1\u05dc \u05d4\u05db\u05dc \u05d1\u05dc\u05d9 \u05dc\u05d6\u05d5\u05d6 \u05de\u05d4\u05de\u05e7\u05d5\u05dd \u2013 \u05d7\u05d5\u05d5\u05d9\u05d4 \u05e0\u05d5\u05d7\u05d4 \u05d5\u05de\u05d4\u05d9\u05e8\u05d4."},"step3":{"title":"\u05ea\u05e9\u05d1. \u05ea\u05d6\u05de\u05d9\u05df. \u05ea\u05d7\u05d5\u05d5\u05d4.","subtitle":"\u05d1\u05dc\u05d9 \u05dc\u05e7\u05d5\u05dd. \u05d1\u05dc\u05d9 \u05dc\u05d7\u05db\u05d5\u05ea. \u05d1\u05dc\u05d9 \u05dc\u05e4\u05e1\u05e4\u05e1.","description":"\u05de\u05d5\u05e6\u05e8\u05d9\u05dd, \u05de\u05e9\u05e7\u05d0\u05d5\u05ea \u05d5\u05d0\u05d5\u05db\u05dc \u05e2\u05d3 \u05d4\u05db\u05d9\u05e1\u05d0 \u05e9\u05dc\u05da \u2013 \u05db\u05d3\u05d9 \u05e9\u05ea\u05d9\u05e9\u05d0\u05e8 \u05d1\u05de\u05e8\u05db\u05d6 \u05d4\u05e2\u05e0\u05d9\u05d9\u05e0\u05d9\u05dd, \u05dc\u05d0 \u05d1\u05ea\u05d5\u05e8."}},"stadium":{"title":"\u05d1\u05d7\u05e8 \u05d0\u05ea \u05d4\u05d0\u05e6\u05d8\u05d3\u05d9\u05d5\u05df \u05e9\u05dc\u05da","subtitle":"\u05d1\u05d7\u05e8 \u05de\u05d0\u05d9\u05e4\u05d4 \u05d0\u05ea\u05d4 \u05e8\u05d5\u05e6\u05d4 \u05dc\u05d4\u05d6\u05de\u05d9\u05df \u05d0\u05d5\u05db\u05dc","loading":"\u05d8\u05d5\u05e2\u05df \u05d0\u05e6\u05d8\u05d3\u05d9\u05d5\u05e0\u05d9\u05dd...","retry":"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1","capacity":"\u05e7\u05d9\u05d1\u05d5\u05dc\u05ea","select_button":"\u05d1\u05d7\u05e8 \u05d0\u05e6\u05d8\u05d3\u05d9\u05d5\u05df","continue_to":"\u05d4\u05de\u05e9\u05da \u05d0\u05dc"},"orders":{"my_orders":"\u05d4\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e9\u05dc\u05d9","subtitle":"\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8 \u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05d4\u05d0\u05d5\u05db\u05dc \u05e9\u05dc\u05da","active":"\u05e4\u05e2\u05d9\u05dc","completed":"\u05d4\u05d5\u05e9\u05dc\u05dd","loading":"\u05d8\u05d5\u05e2\u05df \u05d4\u05d6\u05de\u05e0\u05d5\u05ea...","error_loading":"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05d6\u05de\u05e0\u05d5\u05ea","try_again":"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1","no_orders":"\u05d0\u05d9\u05df \u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e2\u05d3\u05d9\u05d9\u05df","empty_hint":"\u05d4\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e9\u05dc\u05da \u05d9\u05d5\u05e4\u05d9\u05e2\u05d5 \u05db\u05d0\u05df","order":"\u05d4\u05d6\u05de\u05e0\u05d4","items":"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd","track":"\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8 \u05d4\u05d6\u05de\u05e0\u05d4","pending":"\u05de\u05de\u05ea\u05d9\u05df","preparing":"\u05d1\u05d4\u05db\u05e0\u05d4","delivering":"\u05d1\u05d3\u05e8\u05da","delivered":"\u05e0\u05de\u05e1\u05e8","cancelled":"\u05d1\u05d5\u05d8\u05dc","track_for_qr":"\u05dc\u05d7\u05e5 \u05e2\u05dc \'\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8 \u05d4\u05d6\u05de\u05e0\u05d4\' \u05dc\u05d4\u05e6\u05d2\u05ea \u05e7\u05d5\u05d3 QR \u05dc\u05e9\u05dc\u05d9\u05d7"},"track":{"order":"\u05de\u05e2\u05e7\u05d1 \u05d4\u05d6\u05de\u05e0\u05d4","loading":"\u05d8\u05d5\u05e2\u05df \u05d4\u05d6\u05de\u05e0\u05d4...","no_code":"\u05d0\u05d9\u05df \u05e7\u05d5\u05d3 QR \u05d6\u05de\u05d9\u05df","present_qr":"\u05d4\u05e6\u05d2 \u05e7\u05d5\u05d3 QR \u05dc\u05e7\u05d1\u05dc\u05ea \u05d4\u05d4\u05d6\u05de\u05e0\u05d4","order_received":"\u05d4\u05d6\u05de\u05e0\u05d4 \u05d4\u05ea\u05e7\u05d1\u05dc\u05d4","preparing":"\u05d1\u05d4\u05db\u05e0\u05d4","on_the_way":"\u05d1\u05d3\u05e8\u05da \u05d0\u05dc\u05d9\u05da","delivered":"\u05e0\u05de\u05e1\u05e8","items":"\u05e4\u05e8\u05d9\u05d8\u05d9 \u05d4\u05d4\u05d6\u05de\u05e0\u05d4","qty":"\u05db\u05de\u05d5\u05ea","item":"\u05e4\u05e8\u05d9\u05d8","no_items":"\u05d0\u05d9\u05df \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05d1\u05d4\u05d6\u05de\u05e0\u05d4 \u05d6\u05d5","delivery_contact":"\u05e4\u05e8\u05d8\u05d9 \u05e9\u05dc\u05d9\u05d7","loading_contact":"\u05d8\u05d5\u05e2\u05df \u05e4\u05e8\u05d8\u05d9 \u05e7\u05e9\u05e8...","delivery_person":"\u05e9\u05dc\u05d9\u05d7","contact_unavailable":"\u05e4\u05e8\u05d8\u05d9 \u05e7\u05e9\u05e8 \u05dc\u05d0 \u05d6\u05de\u05d9\u05e0\u05d9\u05dd"}}'),Lt={en:{common:{ok:"OK",cancel:"Cancel",back:"Back"},nav:{home:"Home",menu:"Menu",orders:"Orders",cart:"Cart",profile:"Profile"},profile:{logout:"Logout",active:"Active",completed:"Completed",settings:"Settings",language:"Language",language_sub:"Choose your language",about:"About app",about_sub:"Version and info",terms:"Terms and conditions",terms_sub:"Read our terms",feedback:"Feedback",feedback_sub:"Tell us what you think",privacy:"Privacy policy",privacy_sub:"How we handle data",report:"Report a Problem",report_sub:"Something not working?"},orders:{order:"Order",my_orders:"My Orders",subtitle:"Track your food orders",active:"Active",completed:"Completed",loading:"Loading your orders...",error_loading:"Error Loading Orders",try_again:"Try Again",no_orders:"No orders",empty_hint:"Your orders will appear here",items:"Items",track:"Track Order",delivered:"Delivered",cancelled:"Cancelled",pending:"Pending",preparing:"Preparing",delivering:"Delivering"},track:{show_qr:"Show QR Code",order:"Order",order_received:"Order Received",preparing:"Preparing",on_the_way:"On the way",delivered:"Delivered",loading:"Loading\u2026",no_code:"No code",items:"Items",item:"Item",qty:"Qty",no_items:"No items"},settings:{select_language:"Select Language",app_language:"App Language",current:"Current",english:"English",hebrew:"Hebrew",about_title:"About App",terms_title:"Terms and Conditions",privacy_title:"Privacy Policy",feedback_title:"Feedback",report_title:"Report a Problem",feedback_thanks:"Thanks for your feedback! We'll review it shortly.",report_thanks:"Thanks, we received your report. Our team will investigate.",share_thoughts:"Share your thoughts",email_optional:"Email (optional)",category:"Category",message:"Message",send:"Send",submit:"Submit",general:"General",feature:"Feature Request",design_ui:"Design / UI",performance:"Performance",what_wrong:"What went wrong?",rtl_note:"The interface direction will switch automatically for Hebrew (RTL)."}},he:{common:{ok:"\u05d0\u05d9\u05e9\u05d5\u05e8",cancel:"\u05d1\u05d9\u05d8\u05d5\u05dc",back:"\u05d7\u05d6\u05e8\u05d4"},nav:{home:"\u05d1\u05d9\u05ea",menu:"\u05ea\u05e4\u05e8\u05d9\u05d8",orders:"\u05d4\u05d6\u05de\u05e0\u05d5\u05ea",cart:"\u05e1\u05dc",profile:"\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc"},profile:{logout:"\u05d4\u05ea\u05e0\u05ea\u05e7\u05d5\u05ea",active:"\u05e4\u05e2\u05d9\u05dc",completed:"\u05d4\u05d5\u05e9\u05dc\u05de\u05d5",settings:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea",language:"\u05e9\u05e4\u05d4",language_sub:"\u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea \u05d4\u05e9\u05e4\u05d4",about:"\u05d0\u05d5\u05d3\u05d5\u05ea \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4",about_sub:"\u05d2\u05e8\u05e1\u05d4 \u05d5\u05de\u05d9\u05d3\u05e2",terms:"\u05ea\u05e0\u05d0\u05d9\u05dd \u05d5\u05d4\u05d2\u05d1\u05dc\u05d5\u05ea",terms_sub:"\u05e7\u05e8\u05d9\u05d0\u05ea \u05d4\u05ea\u05e0\u05d0\u05d9\u05dd \u05e9\u05dc\u05e0\u05d5",feedback:"\u05de\u05e9\u05d5\u05d1",feedback_sub:"\u05e1\u05e4\u05e8\u05d5 \u05dc\u05e0\u05d5 \u05de\u05d4 \u05d3\u05e2\u05ea\u05db\u05dd",privacy:"\u05de\u05d3\u05d9\u05e0\u05d9\u05d5\u05ea \u05e4\u05e8\u05d8\u05d9\u05d5\u05ea",privacy_sub:"\u05d0\u05d9\u05da \u05d0\u05e0\u05d7\u05e0\u05d5 \u05de\u05d8\u05e4\u05dc\u05d9\u05dd \u05d1\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd",report:"\u05d3\u05d9\u05d5\u05d5\u05d7 \u05e2\u05dc \u05d1\u05e2\u05d9\u05d4",report_sub:"\u05de\u05e9\u05d4\u05d5 \u05dc\u05d0 \u05e2\u05d5\u05d1\u05d3?"},orders:{order:"\u05d4\u05d6\u05de\u05e0\u05d4",my_orders:"\u05d4\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e9\u05dc\u05d9",subtitle:"\u05e2\u05e7\u05d1\u05d5 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05d4\u05d0\u05d5\u05db\u05dc \u05e9\u05dc\u05db\u05dd",active:"\u05e4\u05e2\u05d9\u05dc",completed:"\u05d4\u05d5\u05e9\u05dc\u05de\u05d5",loading:"\u05d8\u05d5\u05e2\u05df \u05d0\u05ea \u05d4\u05d4\u05d6\u05de\u05e0\u05d5\u05ea\u2026",error_loading:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05d6\u05de\u05e0\u05d5\u05ea",try_again:"\u05e0\u05e1\u05d5 \u05e9\u05d5\u05d1",no_orders:"\u05d0\u05d9\u05df \u05d4\u05d6\u05de\u05e0\u05d5\u05ea",empty_hint:"\u05d4\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e9\u05dc\u05db\u05dd \u05d9\u05d5\u05e4\u05d9\u05e2\u05d5 \u05db\u05d0\u05df",items:"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",track:"\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05d6\u05de\u05e0\u05d4",delivered:"\u05e0\u05de\u05e1\u05e8\u05d4",cancelled:"\u05d1\u05d5\u05d8\u05dc\u05d4",pending:"\u05de\u05de\u05ea\u05d9\u05e0\u05d4",preparing:"\u05d1\u05d4\u05db\u05e0\u05d4",delivering:"\u05d1\u05d3\u05e8\u05da"},track:{show_qr:"\u05d4\u05e6\u05d2 \u05e7\u05d5\u05d3 QR",order:"\u05d4\u05d6\u05de\u05e0\u05d4",order_received:"\u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05d4\u05ea\u05e7\u05d1\u05dc\u05d4",preparing:"\u05d1\u05d4\u05db\u05e0\u05d4",on_the_way:"\u05d1\u05d3\u05e8\u05da",delivered:"\u05e0\u05de\u05e1\u05e8\u05d4",loading:"\u05d8\u05d5\u05e2\u05df\u2026",no_code:"\u05d0\u05d9\u05df \u05e7\u05d5\u05d3",items:"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",item:"\u05e4\u05e8\u05d9\u05d8",qty:"\u05db\u05de\u05d5\u05ea",no_items:"\u05d0\u05d9\u05df \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"},settings:{select_language:"\u05d1\u05d7\u05e8\u05d5 \u05e9\u05e4\u05d4",app_language:"\u05e9\u05e4\u05ea \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4",current:"\u05e0\u05d5\u05db\u05d7\u05d9\u05ea",english:"\u05d0\u05e0\u05d2\u05dc\u05d9\u05ea",hebrew:"\u05e2\u05d1\u05e8\u05d9\u05ea",about_title:"\u05d0\u05d5\u05d3\u05d5\u05ea \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4",terms_title:"\u05ea\u05e0\u05d0\u05d9\u05dd \u05d5\u05d4\u05d2\u05d1\u05dc\u05d5\u05ea",privacy_title:"\u05de\u05d3\u05d9\u05e0\u05d9\u05d5\u05ea \u05e4\u05e8\u05d8\u05d9\u05d5\u05ea",feedback_title:"\u05de\u05e9\u05d5\u05d1",report_title:"\u05d3\u05d9\u05d5\u05d5\u05d7 \u05e2\u05dc \u05d1\u05e2\u05d9\u05d4",feedback_thanks:"\u05ea\u05d5\u05d3\u05d4 \u05e2\u05dc \u05d4\u05de\u05e9\u05d5\u05d1! \u05e0\u05e2\u05d1\u05d5\u05e8 \u05e2\u05dc\u05d9\u05d5 \u05d1\u05e7\u05e8\u05d5\u05d1.",report_thanks:"\u05ea\u05d5\u05d3\u05d4, \u05e7\u05d9\u05d1\u05dc\u05e0\u05d5 \u05d0\u05ea \u05d4\u05d3\u05d9\u05d5\u05d5\u05d7. \u05d4\u05e6\u05d5\u05d5\u05ea \u05d9\u05d1\u05d3\u05d5\u05e7 \u05d0\u05ea \u05d4\u05e2\u05e0\u05d9\u05d9\u05df.",share_thoughts:"\u05e9\u05ea\u05e4\u05d5 \u05d0\u05d5\u05ea\u05e0\u05d5",email_optional:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05dc\u05d9)",category:"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4",message:"\u05d4\u05d5\u05d3\u05e2\u05d4",send:"\u05e9\u05dc\u05d9\u05d7\u05d4",submit:"\u05e9\u05dc\u05d9\u05d7\u05d4",general:"\u05db\u05dc\u05dc\u05d9",feature:"\u05d1\u05e7\u05e9\u05ea \u05e4\u05d9\u05e6\u05f3\u05e8",design_ui:"\u05e2\u05d9\u05e6\u05d5\u05d1 / \u05de\u05de\u05e9\u05e7",performance:"\u05d1\u05d9\u05e6\u05d5\u05e2\u05d9\u05dd",what_wrong:"\u05de\u05d4 \u05dc\u05d0 \u05e2\u05d1\u05d3?",rtl_note:"\u05db\u05d9\u05d5\u05d5\u05df \u05d4\u05de\u05de\u05e9\u05e7 \u05d9\u05e2\u05d1\u05d5\u05e8 \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea \u05dc\u05d9\u05de\u05d9\u05df- \u05dc\u05e9\u05de\u05d0\u05dc \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea (RTL)."}}};function Ot(e,t){if(!t)return e;const n=Array.isArray(e)?[...e]:{...e};return Object.keys(t).forEach(e=>{const r=t[e],o=n[e];r&&"object"===typeof r&&!Array.isArray(r)?n[e]=Ot(o&&"object"===typeof o?o:{},r):n[e]=r}),n}const jt=(0,e.createContext)({lang:"en",t:e=>e,setLang:()=>{}}),Mt=t=>{let{children:n}=t;const[r,o]=(0,e.useState)(Rt.getLanguagePreference()||"he");(0,e.useEffect)(()=>{const e=e=>{e.detail&&o(e.detail)};return window.addEventListener("language-changed",e),()=>window.removeEventListener("language-changed",e)},[]),(0,e.useEffect)(()=>{const e="he"===r;document.documentElement.setAttribute("lang",r),document.documentElement.setAttribute("dir",e?"rtl":"ltr"),document.body.setAttribute("lang",r),document.body.style.direction=e?"rtl":"ltr"},[r]);const i=(0,e.useMemo)(()=>Ot(Lt[r]||Lt.en,"he"===r?Bt:Dt),[r]),s=(0,e.useMemo)(()=>e=>{const t=e.split(".");let n=i;for(const o of t){var r;if(n=null===(r=n)||void 0===r?void 0:r[o],null==n)return e}return"string"===typeof n?n:e},[i]);return(0,_t.jsx)(jt.Provider,{value:{lang:r,t:s,setLang:o},children:n})},Ft=()=>(0,e.useContext)(jt),Ut=()=>{const[t,n]=(0,e.useState)(!1),r=te();return(0,e.useEffect)(()=>{const e=setTimeout(()=>{n(!0)},500),t=setTimeout(()=>{const e=localStorage.getItem("selectedStadium"),t=localStorage.getItem("userToken");r(t&&e?"/home":t?"/stadium":"/auth")},2500);return()=>{clearTimeout(e),clearTimeout(t)}},[r]),(0,_t.jsxs)("div",{className:"splash-screen",children:[(0,_t.jsx)("div",{className:"splash-background",children:(0,_t.jsx)("div",{className:"pattern-overlay"})}),(0,_t.jsx)("div",{className:"splash-logo "+(t?"visible":""),children:(0,_t.jsxs)("div",{className:"logo-container",children:[(0,_t.jsx)("div",{className:"logo-circle",children:(0,_t.jsx)("span",{className:"logo-emoji",children:"\ud83c\udf54"})}),(0,_t.jsx)("h1",{className:"logo-text",children:"Food Munch"}),(0,_t.jsx)("p",{className:"logo-tagline",children:"Delicious food delivered fresh"})]})}),(0,_t.jsx)("div",{className:"splash-loading",children:(0,_t.jsxs)("div",{className:"loading-dots",children:[(0,_t.jsx)("span",{}),(0,_t.jsx)("span",{}),(0,_t.jsx)("span",{})]})})]})},zt=()=>{const[t,n]=(0,e.useState)(0),r=te(),{t:o,lang:i}=Ft(),s=[{id:1,title:o("onboarding.step1.title"),subtitle:o("onboarding.step1.subtitle"),description:o("onboarding.step1.description"),image:"/assets/images/on-boarding-1.png",color:"#000000"},{id:2,title:o("onboarding.step2.title"),subtitle:o("onboarding.step2.subtitle"),description:o("onboarding.step2.description"),image:"/assets/images/on-boarding-2.png",color:"#000000"},{id:3,title:o("onboarding.step3.title"),subtitle:o("onboarding.step3.subtitle"),description:o("onboarding.step3.description"),image:"/assets/images/on-boarding-3.png",color:"#000000"}],a=s[t];return(0,_t.jsxs)("div",{className:"onboarding-screen",dir:"he"===i?"rtl":"ltr",children:[(0,_t.jsx)("div",{className:"onboarding-bg",style:{backgroundImage:`url(${a.image})`}}),(0,_t.jsx)("div",{className:"onboarding-overlay"}),(0,_t.jsxs)("div",{className:"onboarding-container",children:[(0,_t.jsx)("button",{className:"skip-button",onClick:()=>{localStorage.setItem("hasSeenOnboarding","true"),r("/stadium-selection")},children:o("onboarding.skip")}),(0,_t.jsxs)("div",{className:"onboarding-content",children:[(0,_t.jsxs)("div",{className:"onboarding-text top",children:[(0,_t.jsx)("h1",{className:"onboarding-title",children:a.title}),(0,_t.jsx)("h2",{className:"onboarding-subtitle",children:a.subtitle})]}),(0,_t.jsx)("div",{className:"onboarding-text bottom",children:(0,_t.jsx)("p",{className:"onboarding-description",children:a.description})})]}),(0,_t.jsxs)("div",{className:"onboarding-navigation",children:[(0,_t.jsx)("div",{className:"progress-indicators",children:s.map((e,n)=>(0,_t.jsx)("div",{className:`progress-dot ${n===t?"active":""} ${n<t?"completed":""}`},n))}),(0,_t.jsx)("div",{className:"navigation-buttons",children:(0,_t.jsx)("button",{className:"nav-button next-button",onClick:()=>{t<s.length-1?n(t+1):(localStorage.setItem("hasSeenOnboarding","true"),r("/stadium-selection"))},"aria-label":"Next",children:(0,_t.jsxs)("svg",{className:"nav-icon",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_t.jsx)("path",{d:"M5 12h14",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),(0,_t.jsx)("path",{d:"M13 5l7 7-7 7",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})})]})]})]})},Vt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},$t={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,s=i?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const s=o<e.length?n[e.charAt(o)]:64;++o;const a=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==s||null==a)throw new qt;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class qt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ht=function(e){return function(e){const t=Vt(e);return $t.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Wt=function(e){try{return $t.decodeString(e,!0)}catch(AS){console.error("base64Decode failed: ",AS)}return null};function Kt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Gt=()=>{try{return Kt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51RyfgTKj6LjssenC2Wy0Omeu3bQMa2hsc33riQoi43TU7AyIAQ08zELQWLOBvcRBgCyKMYIQ0rhOOsr0mTqanrse00W2xoKNg7",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S570jKWPD2pzAyo",REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(AS){return}const t=e&&Wt(e[1]);return t&&JSON.parse(t)})()}catch(AS){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${AS}`)}},Qt=e=>Gt()?.emulatorHosts?.[e],Yt=()=>Gt()?.config,Xt=e=>Gt()?.[`_${e}`];class Jt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Zt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function en(e){return(await fetch(e,{credentials:"include"})).ok}const tn={};let nn=!1;function rn(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Zt(window.location.host)||tn[e]===t||tn[e]||nn)return;function n(e){return`__firebase__banner__${e}`}tn[e]=t;const r="__firebase__banner",o=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(tn))tn[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{nn=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}o?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function on(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function sn(){const e=Gt()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(AS){return!1}}function an(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ln(){return!sn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cn(){try{return"object"===typeof indexedDB}catch(AS){return!1}}function un(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function dn(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class hn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fn.prototype.create)}}class fn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],o=r?function(e,t){return e.replace(pn,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",i=`${this.serviceName}: ${o} (${n}).`;return new hn(n,i,t)}}const pn=/\{\$([^}]+)}/g;function mn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(gn(n)&&gn(i)){if(!mn(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function gn(e){return null!==e&&"object"===typeof e}function yn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function vn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function wn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class bn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=kn),void 0===r.error&&(r.error=kn),void 0===r.complete&&(r.complete=kn);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(AS){}}),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(AS){"undefined"!==typeof console&&console.error&&console.error(AS)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kn(){}function _n(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Sn(e){return e&&e._delegate?e._delegate:e}class Cn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const En="[DEFAULT]";class In{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Jt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(AS){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(AS){if(n)return null;throw AS}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:En})}catch(AS){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(AS){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const o=this.instances.get(n);return o&&e(o,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(o=t,o===En?void 0:o),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var o;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En;return this.component?this.component.multipleInstances?e:En:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new In(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Tn=[];var Nn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Nn||(Nn={}));const Pn={debug:Nn.DEBUG,verbose:Nn.VERBOSE,info:Nn.INFO,warn:Nn.WARN,error:Nn.ERROR,silent:Nn.SILENT},An=Nn.INFO,Rn={[Nn.DEBUG]:"log",[Nn.VERBOSE]:"log",[Nn.INFO]:"info",[Nn.WARN]:"warn",[Nn.ERROR]:"error"},Dn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Rn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...i)};class Bn{constructor(e){this.name=e,this._logLevel=An,this._logHandler=Dn,this._userLogHandler=null,Tn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Pn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.DEBUG,...t),this._logHandler(this,Nn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.VERBOSE,...t),this._logHandler(this,Nn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.INFO,...t),this._logHandler(this,Nn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.WARN,...t),this._logHandler(this,Nn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.ERROR,...t),this._logHandler(this,Nn.ERROR,...t)}}let Ln,On;const jn=new WeakMap,Mn=new WeakMap,Fn=new WeakMap,Un=new WeakMap,zn=new WeakMap;let Vn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Mn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Fn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function $n(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(On||(On=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Wn(this),n),Hn(jn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Hn(e.apply(Wn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(Wn(this),t,...r);return Fn.set(i,t.sort?t.sort():[t]),Hn(i)}}function qn(e){return"function"===typeof e?$n(e):(e instanceof IDBTransaction&&function(e){if(Mn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});Mn.set(e,t)}(e),t=e,(Ln||(Ln=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Vn):e);var t}function Hn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(Hn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&jn.set(t,e)}).catch(()=>{}),zn.set(t,e),t}(e);if(Un.has(e))return Un.get(e);const t=qn(e);return t!==e&&(Un.set(e,t),zn.set(t,e)),t}const Wn=e=>zn.get(e);function Kn(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Hn(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Hn(s.result),e.oldVersion,e.newVersion,Hn(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}function Gn(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),Hn(n).then(()=>{})}const Qn=["get","getKey","getAll","getAllKeys","count"],Yn=["put","add","delete","clear"],Xn=new Map;function Jn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Xn.get(t))return Xn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Yn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!Qn.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),o&&t.done]))[0]};return Xn.set(t,i),i}Vn=(e=>({...e,get:(t,n,r)=>Jn(t,n)||e.get(t,n,r),has:(t,n)=>!!Jn(t,n)||e.has(t,n)}))(Vn);class Zn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const er="@firebase/app",tr="0.14.0",nr=new Bn("@firebase/app"),rr="@firebase/app-compat",or="@firebase/analytics-compat",ir="@firebase/analytics",sr="@firebase/app-check-compat",ar="@firebase/app-check",lr="@firebase/auth",cr="@firebase/auth-compat",ur="@firebase/database",dr="@firebase/data-connect",hr="@firebase/database-compat",fr="@firebase/functions",pr="@firebase/functions-compat",mr="@firebase/installations",gr="@firebase/installations-compat",yr="@firebase/messaging",vr="@firebase/messaging-compat",wr="@firebase/performance",br="@firebase/performance-compat",kr="@firebase/remote-config",_r="@firebase/remote-config-compat",Sr="@firebase/storage",Cr="@firebase/storage-compat",Er="@firebase/firestore",Ir="@firebase/ai",xr="@firebase/firestore-compat",Tr="firebase",Nr="[DEFAULT]",Pr={[er]:"fire-core",[rr]:"fire-core-compat",[ir]:"fire-analytics",[or]:"fire-analytics-compat",[ar]:"fire-app-check",[sr]:"fire-app-check-compat",[lr]:"fire-auth",[cr]:"fire-auth-compat",[ur]:"fire-rtdb",[dr]:"fire-data-connect",[hr]:"fire-rtdb-compat",[fr]:"fire-fn",[pr]:"fire-fn-compat",[mr]:"fire-iid",[gr]:"fire-iid-compat",[yr]:"fire-fcm",[vr]:"fire-fcm-compat",[wr]:"fire-perf",[br]:"fire-perf-compat",[kr]:"fire-rc",[_r]:"fire-rc-compat",[Sr]:"fire-gcs",[Cr]:"fire-gcs-compat",[Er]:"fire-fst",[xr]:"fire-fst-compat",[Ir]:"fire-vertex","fire-js":"fire-js",[Tr]:"fire-js-all"},Ar=new Map,Rr=new Map,Dr=new Map;function Br(e,t){try{e.container.addComponent(t)}catch(AS){nr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,AS)}}function Lr(e){const t=e.name;if(Dr.has(t))return nr.debug(`There were multiple attempts to register component ${t}.`),!1;Dr.set(t,e);for(const n of Ar.values())Br(n,e);for(const n of Rr.values())Br(n,e);return!0}function Or(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function jr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Mr=new fn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Fr{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}const Ur="12.0.0";function zr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r={name:Nr,automaticDataCollectionEnabled:!0,...t},o=r.name;if("string"!==typeof o||!o)throw Mr.create("bad-app-name",{appName:String(o)});if(n||(n=Yt()),!n)throw Mr.create("no-options");const i=Ar.get(o);if(i){if(mn(n,i.options)&&mn(r,i.config))return i;throw Mr.create("duplicate-app",{appName:o})}const s=new xn(o);for(const l of Dr.values())s.addComponent(l);const a=new Fr(n,r,s);return Ar.set(o,a),a}function Vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr;const t=Ar.get(e);if(!t&&e===Nr&&Yt())return zr();if(!t)throw Mr.create("no-app",{appName:e});return t}function $r(e,t,n){let r=Pr[e]??e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),i=t.match(/\s|\//);if(o||i){const e=[`Unable to register library "${r}" with version "${t}":`];return o&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void nr.warn(e.join(" "))}Lr(new Cn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const qr="firebase-heartbeat-store";let Hr=null;function Wr(){return Hr||(Hr=Kn("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(qr)}catch(AS){console.warn(AS)}}}).catch(e=>{throw Mr.create("idb-open",{originalErrorMessage:e.message})})),Hr}async function Kr(e,t){try{const n=(await Wr()).transaction(qr,"readwrite"),r=n.objectStore(qr);await r.put(t,Gr(e)),await n.done}catch(AS){if(AS instanceof hn)nr.warn(AS.message);else{const t=Mr.create("idb-set",{originalErrorMessage:AS?.message});nr.warn(t.message)}}}function Gr(e){return`${e.name}!${e.options.appId}`}class Qr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Yr();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(AS){nr.warn(AS)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=Yr(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),Jr(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Jr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ht(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(AS){return nr.warn(AS),""}}}function Yr(){return(new Date).toISOString().substring(0,10)}class Xr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!cn()&&un().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Wr()).transaction(qr),n=await t.objectStore(qr).get(Gr(e));return await t.done,n}catch(AS){if(AS instanceof hn)nr.warn(AS.message);else{const t=Mr.create("idb-get",{originalErrorMessage:AS?.message});nr.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return Kr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return Kr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function Jr(e){return Ht(JSON.stringify({version:2,heartbeats:e})).length}var Zr;Zr="",Lr(new Cn("platform-logger",e=>new Zn(e),"PRIVATE")),Lr(new Cn("heartbeat",e=>new Qr(e),"PRIVATE")),$r(er,tr,Zr),$r(er,tr,"esm2020"),$r("fire-js","");var eo,to,no="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ro={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var i=e.g[3],s=t+(i^n&(o^i))+r[0]+3614090360&4294967295;s=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=n+(s<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^i&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^o^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(o^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=n+((s=t+(o^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((o=i+((s=o+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,o=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(o[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,o),i=0;break}}else for(;s<t;)if(o[i++]=e[s++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var o={};function i(e){return-128<=e&&128>e?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,o=0;e>=n;o++)t[o]=e/n|0,n*=4294967296;return new r(t,0)}var a=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],o=0;o<t;o++)n[o]=~e.g[o];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var o=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(o=o.add(n),i=c),r=v(r,1),n=v(n,1)}return t=f(e,o.j(t)),new m(o,t)}for(o=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=s(n)).j(t);d(c)||0<c.l(e);)c=(i=s(n-=r)).j(t);u(i)&&(i=l),o=o.add(i),e=f(e,c)}return new m(o,e)}function y(e){for(var t=e.g.length+1,n=[],o=0;o<t;o++)n[o]=e.i(o)<<1|e.i(o-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var o=e.g.length-n,i=[],s=0;s<o;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var o=g(n,t).g,i=((0<(n=f(n,o.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=o))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0,i=0;i<=t;i++){var s=o+(65535&this.i(i))+(65535&e.i(i)),a=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);o=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],o=0;o<2*t;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var i=0;i<e.g.length;i++){var l=this.i(o)>>>16,f=65535&this.i(o),m=e.i(i)>>>16,g=65535&e.i(i);n[2*o+2*i]+=f*g,p(n,2*o+2*i),n[2*o+2*i+1]+=l*g,p(n,2*o+2*i+1),n[2*o+2*i+1]+=f*m,p(n,2*o+2*i+1),n[2*o+2*i+2]+=l*m,p(n,2*o+2*i+2)}for(o=0;o<t;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=t;o<2*t;o++)n[o]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)&e.i(o);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)|e.i(o);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)^e.i(o);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,to=ro.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),o=a,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=s(Math.pow(n,l)),o=o.j(l).add(s(c))):o=(o=o.j(r)).add(s(c))}return o},eo=ro.Integer=r}).apply("undefined"!==typeof no?no:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var oo,io,so,ao,lo,co,uo,ho,fo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},po={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof fo&&fo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in o))break e;o=o[s]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,function(e,t){return t})}});var r=r||{},o=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){o.setTimeout(()=>{throw e},0)}function C(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new I,e=>e.reset());class I{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,T=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=o.Promise.resolve(void 0);x=()=>{e.then(A)}};var A=()=>{for(var e;e=C();){try{e.h.call(e.g)}catch(n){S(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function R(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var B=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,D);var O={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),M=0;function F(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++M,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}z.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=$(e,t,r,o);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new F(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,o){if(r&&r.once)return G(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)W(e,t[i],n,r,o);return null}return n=te(n),e&&e[j]?e.K(t,n,s(r)?!!r.capture:!!r,o):K(e,t,n,!1,r,o)}function K(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=s(o)?!!o.capture:!!o,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)B||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,r,o);return null}return n=te(n),e&&e[j]?e.L(t,n,s(r)?!!r.capture:!!r,o):K(e,t,n,!0,r,o)}function Q(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)Q(e,t[i],n,r,o);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[j]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(i=e.g[t],n,r,o))&&(U(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,o)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var o=t;k(t=new D(r,e),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];o=oe(s,r,!0,t)&&o}if(o=oe(s=t.g=e,r,!0,t)&&o,o=oe(s,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=oe(s=t.g=n[i],r,!1,t)&&o}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&V(e.i,s),o=!1!==a.call(l,r)&&o}}return o&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function se(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,se(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[j]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}d(le,R);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=o.JSON.stringify,he=o.JSON.parse,fe=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){D.call(this,"d")}function we(){D.call(this,"c")}d(ve,D),d(we,D);var be={},ke=null;function _e(){return ke=ke||new ne}function Se(e){D.call(this,be.La,e)}function Ce(e){const t=_e();re(t,new Se(t))}function Ee(e,t){D.call(this,be.STAT_EVENT,e),this.stat=t}function Ie(e){const t=_e();re(t,new Ee(t,e))}function xe(e,t){D.call(this,be.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function Ne(){this.g=!0}function Pe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<o.length;s++)o[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}be.La="serverreachability",d(Se,D),be.STAT_EVENT="statevent",d(Ee,D),be.Ma="timingevent",d(xe,D),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Ae,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Be(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}d(Be,pe),Be.prototype.g=function(){return new XMLHttpRequest},Be.prototype.i=function(){return{}},Ae=new Be;var je={},Me={};function Fe(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),$e(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var o="readystatechange";Array.isArray(o)||(o&&(ce[0]=o.toString()),o=ce);for(var i=0;i<o.length;i++){var s=W(n,o[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ce(),function(e,t,n,r,o,i){e.info(function(){if(e.g)if(i)for(var s="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Me:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Me:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function He(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Yt(n)}rn(n),Ie(18)}}else n.za=o[1],0<n.za-n.T&&37500>o[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(o=n.Da.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const o=c[4];null!=o&&(n.Aa=o,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(He(a),$e(a)),r.g=s}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ce()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Ce(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var i=r.length,s=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var a="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,o,i,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+s})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ie(12),Ke(this),We(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ve(this,a),e==Me){4==h&&(this.s=4,Ie(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==je){this.s=4,Ie(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Ie(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(d),d.M=!0,Ie(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),We(this)}else Pe(this.i,this.l,a,null),Ge(this,a);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),Ke(this),We(this)}}}catch(h){}},Le.prototype.cancel=function(){this.J=!0,Ke(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ce(),Ie(17)),Ke(this),this.s=2,We(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,o.PerformanceNavigationTiming?e=0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),o=r.length,s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new kt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new kt(null,this.h))}function st(e){return new it(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof kt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Et(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,wt)),e.i=new kt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,wt=/[#\?@]/g,bt=/#/g;function kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function St(e,t){_t(e),t=It(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ct(e,t){return _t(e),t=It(e,t),e.g.has(t)}function Et(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(It(e,t),h(n)),e.h+=n.length)}function It(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(i){}}function Tt(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,function(e,n){let o=e;s(e)&&(o=de(e)),t.push(r+n+"="+encodeURIComponent(o))})}catch(AS){throw t.push(r+"type="+encodeURIComponent("_badmap")),AS}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Bt(e)}function Bt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function jt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=kt.prototype).add=function(e,t){_t(this),this.i=null,e=It(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let e=0;e<o.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)Ct(this,e)&&(t=t.concat(this.g.get(It(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,Ct(this,e=It(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var o=i;""!==s[r]&&(o+="="+encodeURIComponent(String(s[r]))),e.push(o)}}return this.i=e.join("&")},d(Pt,pe),Pt.prototype.g=function(){return new At(this.l,this.j)},Pt.prototype.i=(mt={},function(){return mt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Bt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bt(this)),this.g&&(this.readyState=3,Bt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Bt(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(jt,ne);var Mt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),$t(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var s=String(e.D).match(ot)[1]||null;!s&&o.self&&o.self.location&&(s=o.self.location.protocol.slice(0,-1)),i=!Mt.test(s?s.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Ht(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(AS){}}}function qt(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Yt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(o.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&o.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;x||P(),T||(x(),T=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=o[a].g;const l=o[a].map;if(n-=t,0>n)t=Math.max(0,o[a].g-100),s=!1;else try{Nt(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;x||P(),T||(x(),T=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var o=e.B;re(r=_e(),new xe(r,n)),Jt(e)}else nn(e);else if(3==(o=t.s)||0==o&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),o){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ne;if(o.Image){const r=new Image;r.onload=u(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(xt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout(()=>{n.abort(),xt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)}).catch(()=>{clearTimeout(r),xt(0,0,!1,t)})}(r.toString(),n)}else Ie(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?st(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new it(null);r&&at(s,r),t&&(s.g=t),i&&lt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new jt(new Pt({eb:n})):new jt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=jt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Ut(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Ut(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ie(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const o=new Le(this,this.j,e);let i=this.o;if(this.S&&(i?(i=w(i),k(i,this.S)):i=this.S),null!==this.m||this.O||(o.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,o,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Lt(i)))+"&"+t:this.m&&Ot(n,this.m,i)),et(this.h,o),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),o.T=!0,Fe(o,n,null)):Fe(o,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),Yt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Ie(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,we),d(wn,pn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new yn(e))},wn.prototype.sa=function(e){re(this.g,new vn)},wn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,ho=po.createWebChannelTransport=function(){return new mn},uo=po.getStatEventTarget=function(){return _e()},co=po.Event=be,lo=po.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,ao=po.ErrorCode=Re,De.COMPLETE="complete",so=po.EventType=De,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,io=po.WebChannel=ge,po.FetchXmlHttpFactory=Pt,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,oo=po.XhrIo=jt}).apply("undefined"!==typeof fo?fo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const mo="@firebase/firestore",go="4.9.0";class yo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yo.UNAUTHENTICATED=new yo(null),yo.GOOGLE_CREDENTIALS=new yo("google-credentials-uid"),yo.FIRST_PARTY=new yo("first-party-uid"),yo.MOCK_USER=new yo("mock-user");let vo="12.0.0";const wo=new Bn("@firebase/firestore");function bo(){return wo.logLevel}function ko(e){if(wo.logLevel<=Nn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(Co);wo.debug(`Firestore (${vo}): ${e}`,...o)}}function _o(e){if(wo.logLevel<=Nn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(Co);wo.error(`Firestore (${vo}): ${e}`,...o)}}function So(e){if(wo.logLevel<=Nn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(Co);wo.warn(`Firestore (${vo}): ${e}`,...o)}}function Co(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Eo(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Io(e,r,n)}function Io(e,t,n){let r=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw _o(r),new Error(r)}function xo(e,t,n,r){let o="Unexpected state";"string"==typeof n?o=n:r=n,e||Io(t,o,r)}function To(e,t){return e}const No={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Po extends hn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ao{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ro{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Do{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yo.UNAUTHENTICATED))}shutdown(){}}class Bo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Lo{constructor(e){this.t=e,this.currentUser=yo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xo(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new Ao;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ao,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=o;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{ko("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ko("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ao)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ko("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xo("string"==typeof t.accessToken,31837,{l:t}),new Ro(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xo(null===e||"string"==typeof e,2055,{h:e}),new yo(e)}}class Oo{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=yo.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jo{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Oo(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fo{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){xo(void 0===this.o,3512);const n=e=>{null!=e.error&&ko("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,ko("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ko("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):ko("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Mo(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(xo("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Mo(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Uo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class zo{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Uo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Vo(e,t){return e<t?-1:e>t?1:0}function $o(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),o=t.charAt(r);if(n!==o)return Wo(n)===Wo(o)?Vo(n,o):Wo(n)?1:-1}return Vo(e.length,t.length)}const qo=55296,Ho=57343;function Wo(e){const t=e.charCodeAt(0);return t>=qo&&t<=Ho}function Ko(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Go="__name__";class Qo{constructor(e,t,n){void 0===t?t=0:t>e.length&&Eo(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Eo(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Qo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qo?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Qo.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Vo(e.length,t.length)}static compareSegments(e,t){const n=Qo.isNumericId(e),r=Qo.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Qo.extractNumericId(e).compare(Qo.extractNumericId(t)):$o(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eo.fromString(e.substring(4,e.length-2))}}class Yo extends Qo{construct(e,t,n){return new Yo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new Po(No.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);e.push(...o.split("/").filter(e=>e.length>0))}return new Yo(e)}static emptyPath(){return new Yo([])}}const Xo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jo extends Qo{construct(e,t,n){return new Jo(e,t,n)}static isValidIdentifier(e){return Xo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Go}static keyField(){return new Jo([Go])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new Po(No.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Po(No.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Po(No.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new Po(No.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jo(t)}static emptyPath(){return new Jo([])}}class Zo{constructor(e){this.path=e}static fromPath(e){return new Zo(Yo.fromString(e))}static fromName(e){return new Zo(Yo.fromString(e).popFirst(5))}static empty(){return new Zo(Yo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zo(new Yo(e.slice()))}}function ei(e,t,n){if(!n)throw new Po(No.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ti(e){if(!Zo.isDocumentKey(e))throw new Po(No.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ni(e){if(Zo.isDocumentKey(e))throw new Po(No.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ri(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function oi(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Eo(12329,{type:typeof e})}function ii(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Po(No.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oi(e);throw new Po(No.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function si(e,t){if(t<=0)throw new Po(No.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}function ai(e,t){const n={typeString:e};return t&&(n.value=t),n}function li(e,t){if(!ri(e))throw new Po(No.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(o&&typeof s!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(void 0!==i&&s!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Po(No.INVALID_ARGUMENT,n);return!0}const ci=-62135596800,ui=1e6;class di{static now(){return di.fromMillis(Date.now())}static fromDate(e){return di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ui);return new di(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Po(No.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Po(No.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ci)throw new Po(No.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Po(No.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ui}_compareTo(e){return this.seconds===e.seconds?Vo(this.nanoseconds,e.nanoseconds):Vo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:di._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(li(e,di._jsonSchema))return new di(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ci;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}di._jsonSchemaVersion="firestore/timestamp/1.0",di._jsonSchema={type:ai("string",di._jsonSchemaVersion),seconds:ai("number"),nanoseconds:ai("number")};class hi{static fromTimestamp(e){return new hi(e)}static min(){return new hi(new di(0,0))}static max(){return new hi(new di(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fi=-1;class pi{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}pi.UNKNOWN_ID=-1;function mi(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=hi.fromTimestamp(1e9===r?new di(n+1,0):new di(n,r));return new yi(o,Zo.empty(),t)}function gi(e){return new yi(e.readTime,e.key,fi)}class yi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new yi(hi.min(),Zo.empty(),fi)}static max(){return new yi(hi.max(),Zo.empty(),fi)}}function vi(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Zo.comparator(e.documentKey,t.documentKey),0!==n?n:Vo(e.largestBatchId,t.largestBatchId))}const wi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ki(e){if(e.code!==No.FAILED_PRECONDITION||e.message!==wi)throw e;ko("LocalStore","Unexpectedly lost primary lease")}class _i{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Eo(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _i((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _i?t:_i.resolve(t)}catch(e){return _i.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_i.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_i.reject(t)}static resolve(e){return new _i((t,n)=>{t(e)})}static reject(e){return new _i((t,n)=>{n(e)})}static waitFor(e){return new _i((t,n)=>{let r=0,o=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++o,i&&o===r&&t()},e=>n(e))}),i=!0,o===r&&t()})}static or(e){let t=_i.resolve(!1);for(const n of e)t=t.next(e=>e?_i.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new _i((n,r)=>{const o=e.length,i=new Array(o);let s=0;for(let a=0;a<o;a++){const l=a;t(e[l]).next(e=>{i[l]=e,++s,s===o&&n(i)},e=>r(e))}})}static doWhile(e,t){return new _i((n,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):n()};o()})}}function Si(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ci(e){return"IndexedDbTransactionError"===e.name}class Ei{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ei.ce=-1;const Ii=-1;function xi(e){return null==e}function Ti(e){return 0===e&&1/e==-1/0}function Ni(e){return"number"==typeof e&&Number.isInteger(e)&&!Ti(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Pi="\x01";function Ai(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Di(t)),t=Ri(e.get(n),t);return Di(t)}function Ri(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const t=e.charAt(o);switch(t){case"\0":n+="\x01\x10";break;case Pi:n+="\x01\x11";break;default:n+=t}}return n}function Di(e){return e+Pi+"\x01"}const Bi="remoteDocuments",Li="owner",Oi="mutationQueues",ji="mutations";const Mi="documentMutations",Fi="remoteDocumentsV14",Ui="remoteDocumentGlobal",zi="targets",Vi="targetDocuments",$i="targetGlobal",qi="collectionParents",Hi="clientMetadata",Wi="bundles",Ki="namedQueries",Gi="indexConfiguration",Qi="indexState",Yi="indexEntries",Xi="documentOverlays",Ji="globals",Zi=[Oi,ji,Mi,Bi,zi,Li,$i,Vi,Hi,Ui,qi,Wi,Ki],es=[Oi,ji,Mi,Fi,zi,Li,$i,Vi,Hi,Ui,qi,Wi,Ki,Xi],ts=es,ns=[...ts,Gi,Qi,Yi];function rs(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function os(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function is(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ss{constructor(e,t){this.comparator=e,this.root=t||ls.EMPTY}insert(e,t){return new ss(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ls.BLACK,null,null))}remove(e){return new ss(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ls.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new as(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new as(this.root,e,this.comparator,!1)}getReverseIterator(){return new as(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new as(this.root,e,this.comparator,!0)}}class as{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ls{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:ls.RED,this.left=null!=r?r:ls.EMPTY,this.right=null!=o?o:ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new ls(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ls.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Eo(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Eo(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Eo(27949);return e+(this.isRed()?0:1)}}ls.EMPTY=null,ls.RED=!0,ls.BLACK=!1,ls.EMPTY=new class{constructor(){this.size=0}get key(){throw Eo(57766)}get value(){throw Eo(16141)}get color(){throw Eo(16727)}get left(){throw Eo(29726)}get right(){throw Eo(36894)}copy(e,t,n,r,o){return this}insert(e,t,n){return new ls(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cs{constructor(e){this.comparator=e,this.data=new ss(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new us(this.data.getIterator())}getIteratorFrom(e){return new us(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof cs))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cs(this.comparator);return t.data=e,t}}class us{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ds{constructor(e){this.fields=e,e.sort(Jo.comparator)}static empty(){return new ds([])}unionWith(e){let t=new cs(Jo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ds(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class hs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new hs("Invalid base64 string: "+e):e}}(e);return new fs(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new fs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fs.EMPTY_BYTE_STRING=new fs("");const ps=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(e){if(xo(!!e,39018),"string"==typeof e){let t=0;const n=ps.exec(e);if(xo(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:gs(e.seconds),nanos:gs(e.nanos)}}function gs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ys(e){return"string"==typeof e?fs.fromBase64String(e):fs.fromUint8Array(e)}const vs="server_timestamp",ws="__type__",bs="__previous_value__",ks="__local_write_time__";function _s(e){const t=(e?.mapValue?.fields||{})[ws]?.stringValue;return t===vs}function Ss(e){const t=e.mapValue.fields[bs];return _s(t)?Ss(t):t}function Cs(e){const t=ms(e.mapValue.fields[ks].timestampValue);return new di(t.seconds,t.nanos)}class Es{constructor(e,t,n,r,o,i,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const Is="(default)";class xs{constructor(e,t){this.projectId=e,this.database=t||Is}static empty(){return new xs("","")}get isDefaultDatabase(){return this.database===Is}isEqual(e){return e instanceof xs&&e.projectId===this.projectId&&e.database===this.database}}const Ts="__type__",Ns="__max__",Ps={mapValue:{fields:{__type__:{stringValue:Ns}}}},As="__vector__",Rs="value";function Ds(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_s(e)?4:Ys(e)?9007199254740991:Gs(e)?10:11:Eo(28295,{value:e})}function Bs(e,t){if(e===t)return!0;const n=Ds(e);if(n!==Ds(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Cs(e).isEqual(Cs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ms(e.timestampValue),r=ms(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ys(e.bytesValue).isEqual(ys(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gs(e.geoPointValue.latitude)===gs(t.geoPointValue.latitude)&&gs(e.geoPointValue.longitude)===gs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gs(e.integerValue)===gs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=gs(e.doubleValue),r=gs(t.doubleValue);return n===r?Ti(n)===Ti(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ko(e.arrayValue.values||[],t.arrayValue.values||[],Bs);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rs(n)!==rs(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!Bs(n[o],r[o])))return!1;return!0}(e,t);default:return Eo(52216,{left:e})}}function Ls(e,t){return void 0!==(e.values||[]).find(e=>Bs(e,t))}function Os(e,t){if(e===t)return 0;const n=Ds(e),r=Ds(t);if(n!==r)return Vo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=gs(e.integerValue||e.doubleValue),r=gs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return js(e.timestampValue,t.timestampValue);case 4:return js(Cs(e),Cs(t));case 5:return $o(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ys(e),r=ys(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=Vo(n[o],r[o]);if(0!==e)return e}return Vo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Vo(gs(e.latitude),gs(t.latitude));return 0!==n?n:Vo(gs(e.longitude),gs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ms(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},o=n[Rs]?.arrayValue,i=r[Rs]?.arrayValue,s=Vo(o?.values?.length||0,i?.values?.length||0);return 0!==s?s:Ms(o,i)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ps.mapValue&&t===Ps.mapValue)return 0;if(e===Ps.mapValue)return 1;if(t===Ps.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=$o(r[s],i[s]);if(0!==e)return e;const t=Os(n[r[s]],o[i[s]]);if(0!==t)return t}return Vo(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Eo(23264,{he:n})}}function js(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Vo(e,t);const n=ms(e),r=ms(t),o=Vo(n.seconds,r.seconds);return 0!==o?o:Vo(n.nanos,r.nanos)}function Ms(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=Os(n[o],r[o]);if(e)return e}return Vo(n.length,r.length)}function Fs(e){return Us(e)}function Us(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ms(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ys(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Zo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Us(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+=`${o}:${Us(e.fields[o])}`;return n+"}"}(e.mapValue):Eo(61005,{value:e})}function zs(e){switch(Ds(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ss(e);return t?16+zs(t):16;case 5:return 2*e.stringValue.length;case 6:return ys(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+zs(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return os(e.fields,(e,n)=>{t+=e.length+zs(n)}),t}(e.mapValue);default:throw Eo(13486,{value:e})}}function Vs(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function $s(e){return!!e&&"integerValue"in e}function qs(e){return!!e&&"arrayValue"in e}function Hs(e){return!!e&&"nullValue"in e}function Ws(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ks(e){return!!e&&"mapValue"in e}function Gs(e){const t=(e?.mapValue?.fields||{})[Ts]?.stringValue;return t===As}function Qs(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return os(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Qs(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Qs(e.arrayValue.values[n]);return t}return{...e}}function Ys(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ns}class Xs{constructor(e){this.value=e}static empty(){return new Xs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ks(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qs(t)}setAll(e){let t=Jo.emptyPath(),n={},r=[];e.forEach((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=Qs(e):r.push(o.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());Ks(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ks(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){os(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Xs(Qs(this.value))}}function Js(e){const t=[];return os(e.fields,(e,n)=>{const r=new Jo([e]);if(Ks(n)){const e=Js(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ds(t)}class Zs{constructor(e,t,n,r,o,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Zs(e,0,hi.min(),hi.min(),hi.min(),Xs.empty(),0)}static newFoundDocument(e,t,n,r){return new Zs(e,1,t,hi.min(),n,r,0)}static newNoDocument(e,t){return new Zs(e,2,t,hi.min(),hi.min(),Xs.empty(),0)}static newUnknownDocument(e,t){return new Zs(e,3,t,hi.min(),hi.min(),Xs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(hi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=hi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ea{constructor(e,t){this.position=e,this.inclusive=t}}function ta(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],s=e.position[o];if(r=i.field.isKeyField()?Zo.comparator(Zo.fromName(s.referenceValue),n.key):Os(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function na(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bs(e.position[n],t.position[n]))return!1;return!0}class ra{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function oa(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ia{}class sa extends ia{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new pa(e,t,n):"array-contains"===t?new va(e,n):"in"===t?new wa(e,n):"not-in"===t?new ba(e,n):"array-contains-any"===t?new ka(e,n):new sa(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ma(e,n):new ga(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Os(t,this.value)):null!==t&&Ds(this.value)===Ds(t)&&this.matchesComparison(Os(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Eo(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class aa extends ia{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new aa(e,t)}matches(e){return la(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function la(e){return"and"===e.op}function ca(e){return ua(e)&&la(e)}function ua(e){for(const t of e.filters)if(t instanceof aa)return!1;return!0}function da(e){if(e instanceof sa)return e.field.canonicalString()+e.op.toString()+Fs(e.value);if(ca(e))return e.filters.map(e=>da(e)).join(",");{const t=e.filters.map(e=>da(e)).join(",");return`${e.op}(${t})`}}function ha(e,t){return e instanceof sa?function(e,t){return t instanceof sa&&e.op===t.op&&e.field.isEqual(t.field)&&Bs(e.value,t.value)}(e,t):e instanceof aa?function(e,t){return t instanceof aa&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ha(n,t.filters[r]),!0)}(e,t):void Eo(19439)}function fa(e){return e instanceof sa?function(e){return`${e.field.canonicalString()} ${e.op} ${Fs(e.value)}`}(e):e instanceof aa?function(e){return e.op.toString()+" {"+e.getFilters().map(fa).join(" ,")+"}"}(e):"Filter"}class pa extends sa{constructor(e,t,n){super(e,t,n),this.key=Zo.fromName(n.referenceValue)}matches(e){const t=Zo.comparator(e.key,this.key);return this.matchesComparison(t)}}class ma extends sa{constructor(e,t){super(e,"in",t),this.keys=ya("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ga extends sa{constructor(e,t){super(e,"not-in",t),this.keys=ya("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ya(e,t){return(t.arrayValue?.values||[]).map(e=>Zo.fromName(e.referenceValue))}class va extends sa{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qs(t)&&Ls(t.arrayValue,this.value)}}class wa extends sa{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ls(this.value.arrayValue,t)}}class ba extends sa{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ls(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ls(this.value.arrayValue,t)}}class ka extends sa{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ls(this.value.arrayValue,e))}}class _a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.Te=null}}function Sa(e){return new _a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ca(e){const t=To(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>da(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),xi(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Fs(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Fs(e)).join(",")),t.Te=e}return t.Te}function Ea(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!oa(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ha(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!na(e.startAt,t.startAt)&&na(e.endAt,t.endAt)}function Ia(e){return Zo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class xa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ta(e,t,n,r,o,i,s,a){return new xa(e,t,n,r,o,i,s,a)}function Na(e){return new xa(e)}function Pa(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Aa(e){return null!==e.collectionGroup}function Ra(e){const t=To(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new cs(Jo.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new ra(r,n))}),e.has(Jo.keyField().canonicalString())||t.Ie.push(new ra(Jo.keyField(),n))}return t.Ie}function Da(e){const t=To(e);return t.Ee||(t.Ee=Ba(t,Ra(e))),t.Ee}function Ba(e,t){if("F"===e.limitType)return Sa(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new ra(e.field,t)});const n=e.endAt?new ea(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ea(e.startAt.position,e.startAt.inclusive):null;return Sa(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function La(e,t){const n=e.filters.concat([t]);return new xa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Oa(e,t,n){return new xa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ja(e,t){return Ea(Da(e),Da(t))&&e.limitType===t.limitType}function Ma(e){return`${Ca(Da(e))}|lt:${e.limitType}`}function Fa(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>fa(e)).join(", ")}]`),xi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Fs(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Fs(e)).join(",")),`Target(${t})`}(Da(e))}; limitType=${e.limitType})`}function Ua(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ra(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ta(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ra(e),t))&&!(e.endAt&&!function(e,t,n){const r=ta(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ra(e),t))}(e,t)}function za(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Va(e){return(t,n)=>{let r=!1;for(const o of Ra(e)){const e=$a(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function $a(e,t,n){const r=e.field.isKeyField()?Zo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?Os(r,o):Eo(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Eo(19790,{direction:e.dir})}}class qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,(t,n)=>{for(const[r,o]of n)e(r,o)})}isEmpty(){return is(this.inner)}size(){return this.innerSize}}const Ha=new ss(Zo.comparator);function Wa(){return Ha}const Ka=new ss(Zo.comparator);function Ga(){let e=Ka;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function Qa(e){let t=Ka;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Ya(){return Ja()}function Xa(){return Ja()}function Ja(){return new qa(e=>e.toString(),(e,t)=>e.isEqual(t))}const Za=new ss(Zo.comparator),el=new cs(Zo.comparator);function tl(){let e=el;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const nl=new cs(Vo);function rl(){return nl}function ol(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ti(t)?"-0":t}}function il(e){return{integerValue:""+e}}function sl(e,t){return Ni(t)?il(t):ol(e,t)}class al{constructor(){this._=void 0}}function ll(e,t,n){return e instanceof dl?function(e,t){const n={fields:{[ws]:{stringValue:vs},[ks]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&_s(t)&&(t=Ss(t)),t&&(n.fields[bs]=t),{mapValue:n}}(n,t):e instanceof hl?fl(e,t):e instanceof pl?ml(e,t):function(e,t){const n=ul(e,t),r=yl(n)+yl(e.Ae);return $s(n)&&$s(e.Ae)?il(r):ol(e.serializer,r)}(e,t)}function cl(e,t,n){return e instanceof hl?fl(e,t):e instanceof pl?ml(e,t):n}function ul(e,t){return e instanceof gl?function(e){return $s(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class dl extends al{}class hl extends al{constructor(e){super(),this.elements=e}}function fl(e,t){const n=vl(t);for(const r of e.elements)n.some(e=>Bs(e,r))||n.push(r);return{arrayValue:{values:n}}}class pl extends al{constructor(e){super(),this.elements=e}}function ml(e,t){let n=vl(t);for(const r of e.elements)n=n.filter(e=>!Bs(e,r));return{arrayValue:{values:n}}}class gl extends al{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function yl(e){return gs(e.integerValue||e.doubleValue)}function vl(e){return qs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class wl{constructor(e,t){this.field=e,this.transform=t}}class bl{constructor(e,t){this.version=e,this.transformResults=t}}class kl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kl}static exists(e){return new kl(void 0,e)}static updateTime(e){return new kl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _l(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Sl{}function Cl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Bl(e.key,kl.none()):new Nl(e.key,e.data,kl.none());{const n=e.data,r=Xs.empty();let o=new cs(Jo.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new Pl(e.key,r,new ds(o.toArray()),kl.none())}}function El(e,t,n){e instanceof Nl?function(e,t,n){const r=e.value.clone(),o=Rl(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pl?function(e,t,n){if(!_l(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Rl(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(Al(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Il(e,t,n,r){return e instanceof Nl?function(e,t,n,r){if(!_l(e.precondition,t))return n;const o=e.value.clone(),i=Dl(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof Pl?function(e,t,n,r){if(!_l(e.precondition,t))return n;const o=Dl(e.fieldTransforms,r,t),i=t.data;return i.setAll(Al(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return _l(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function xl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=ul(r.transform,e||null);null!=o&&(null===n&&(n=Xs.empty()),n.set(r.field,o))}return n||null}function Tl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ko(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hl&&t instanceof hl||e instanceof pl&&t instanceof pl?Ko(e.elements,t.elements,Bs):e instanceof gl&&t instanceof gl?Bs(e.Ae,t.Ae):e instanceof dl&&t instanceof dl}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Nl extends Sl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Pl extends Sl{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Al(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Rl(e,t,n){const r=new Map;xo(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,cl(s,a,n[o]))}return r}function Dl(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,ll(e,i,t))}return r}class Bl extends Sl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ll extends Sl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ol{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&El(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Il(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Il(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Xa();return this.mutations.forEach(r=>{const o=e.get(r.key),i=o.overlayedDocument;let s=this.applyToLocalView(i,o.mutatedFields);s=t.has(r.key)?null:s;const a=Cl(i,s);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(hi.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tl())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(e,t)=>Tl(e,t))&&Ko(this.baseMutations,e.baseMutations,(e,t)=>Tl(e,t))}}class jl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){xo(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Za;const o=e.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new jl(e,t,n,r)}}class Ml{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fl{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ul,zl;function Vl(e){switch(e){case No.OK:return Eo(64938);case No.CANCELLED:case No.UNKNOWN:case No.DEADLINE_EXCEEDED:case No.RESOURCE_EXHAUSTED:case No.INTERNAL:case No.UNAVAILABLE:case No.UNAUTHENTICATED:return!1;case No.INVALID_ARGUMENT:case No.NOT_FOUND:case No.ALREADY_EXISTS:case No.PERMISSION_DENIED:case No.FAILED_PRECONDITION:case No.ABORTED:case No.OUT_OF_RANGE:case No.UNIMPLEMENTED:case No.DATA_LOSS:return!0;default:return Eo(15467,{code:e})}}function $l(e){if(void 0===e)return _o("GRPC error has no .code"),No.UNKNOWN;switch(e){case Ul.OK:return No.OK;case Ul.CANCELLED:return No.CANCELLED;case Ul.UNKNOWN:return No.UNKNOWN;case Ul.DEADLINE_EXCEEDED:return No.DEADLINE_EXCEEDED;case Ul.RESOURCE_EXHAUSTED:return No.RESOURCE_EXHAUSTED;case Ul.INTERNAL:return No.INTERNAL;case Ul.UNAVAILABLE:return No.UNAVAILABLE;case Ul.UNAUTHENTICATED:return No.UNAUTHENTICATED;case Ul.INVALID_ARGUMENT:return No.INVALID_ARGUMENT;case Ul.NOT_FOUND:return No.NOT_FOUND;case Ul.ALREADY_EXISTS:return No.ALREADY_EXISTS;case Ul.PERMISSION_DENIED:return No.PERMISSION_DENIED;case Ul.FAILED_PRECONDITION:return No.FAILED_PRECONDITION;case Ul.ABORTED:return No.ABORTED;case Ul.OUT_OF_RANGE:return No.OUT_OF_RANGE;case Ul.UNIMPLEMENTED:return No.UNIMPLEMENTED;case Ul.DATA_LOSS:return No.DATA_LOSS;default:return Eo(39323,{code:e})}}(zl=Ul||(Ul={}))[zl.OK=0]="OK",zl[zl.CANCELLED=1]="CANCELLED",zl[zl.UNKNOWN=2]="UNKNOWN",zl[zl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zl[zl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zl[zl.NOT_FOUND=5]="NOT_FOUND",zl[zl.ALREADY_EXISTS=6]="ALREADY_EXISTS",zl[zl.PERMISSION_DENIED=7]="PERMISSION_DENIED",zl[zl.UNAUTHENTICATED=16]="UNAUTHENTICATED",zl[zl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zl[zl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zl[zl.ABORTED=10]="ABORTED",zl[zl.OUT_OF_RANGE=11]="OUT_OF_RANGE",zl[zl.UNIMPLEMENTED=12]="UNIMPLEMENTED",zl[zl.INTERNAL=13]="INTERNAL",zl[zl.UNAVAILABLE=14]="UNAVAILABLE",zl[zl.DATA_LOSS=15]="DATA_LOSS";let ql=null;function Hl(){return new TextEncoder}const Wl=new eo([4294967295,4294967295],0);function Kl(e){const t=Hl().encode(e),n=new to;return n.update(t),new Uint8Array(n.digest())}function Gl(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new eo([n,r],0),new eo([o,i],0)]}class Ql{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Yl(`Invalid padding: ${t}`);if(n<0)throw new Yl(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Yl(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Yl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=eo.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(eo.fromNumber(n)));return 1===r.compare(Wl)&&(r=new eo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Kl(e),[n,r]=Gl(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Ql(o,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=Kl(e),[n,r]=Gl(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xl{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Xl(hi.min(),r,new ss(Vo),Wa(),tl())}}class Jl{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Jl(n,t,tl(),tl(),tl())}}class Zl{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class ec{constructor(e,t){this.targetId=e,this.Ce=t}}class tc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fs.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class nc{constructor(){this.ve=0,this.Fe=ic(),this.Me=fs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tl(),t=tl(),n=tl();return this.Fe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Eo(38017,{changeType:o})}}),new Jl(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=ic()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xo(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rc{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wa(),this.Je=oc(),this.He=oc(),this.Ye=new ss(Vo)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Eo(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(Ia(o))if(0===n){const e=new Zo(o.path);this.et(t,e,Zs.newNoDocument(e,hi.min()))}else xo(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}ql?.lt(function(e,t,n,r,o){const i={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},s=t.unchangedNames;return s&&(i.bloomFilter={applied:0===o,hashCount:s?.hashCount??0,bitmapLength:s?.bits?.bitmap?.length??0,padding:s?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),i}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let i,s;try{i=ys(n).toUint8Array()}catch(e){if(e instanceof hs)return So("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ql(i,r,o)}catch(e){return So(e instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const o=this.Ge.ht(),i=`projects/${o.projectId}/databases/${o.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const o=this.ot(r);if(o){if(n.current&&Ia(o.target)){const t=new Zo(o.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Zs.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=tl();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Xl(e,t,this.Ye,this.je,n);return this.je=Wa(),this.Je=oc(),this.He=oc(),this.Ye=new ss(Vo),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new nc,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new cs(Vo),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new cs(Vo),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||ko("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nc),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function oc(){return new ss(Zo.comparator)}function ic(){return new ss(Zo.comparator)}const sc={asc:"ASCENDING",desc:"DESCENDING"},ac={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lc={and:"AND",or:"OR"};class cc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uc(e,t){return e.useProto3Json||xi(t)?t:{value:t}}function dc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function fc(e,t){return dc(e,t.toTimestamp())}function pc(e){return xo(!!e,49232),hi.fromTimestamp(function(e){const t=ms(e);return new di(t.seconds,t.nanos)}(e))}function mc(e,t){return gc(e,t).canonicalString()}function gc(e,t){const n=function(e){return new Yo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function yc(e){const t=Yo.fromString(e);return xo(jc(t),10190,{key:t.toString()}),t}function vc(e,t){return mc(e.databaseId,t.path)}function wc(e,t){const n=yc(t);if(n.get(1)!==e.databaseId.projectId)throw new Po(No.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Po(No.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zo(Sc(n))}function bc(e,t){return mc(e.databaseId,t)}function kc(e){const t=yc(e);return 4===t.length?Yo.emptyPath():Sc(t)}function _c(e){return new Yo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sc(e){return xo(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Cc(e,t,n){return{name:vc(e,t),fields:n.value.mapValue.fields}}function Ec(e,t){let n;if(t instanceof Nl)n={update:Cc(e,t.key,t.value)};else if(t instanceof Bl)n={delete:vc(e,t.key)};else if(t instanceof Pl)n={update:Cc(e,t.key,t.data),updateMask:Oc(t.fieldMask)};else{if(!(t instanceof Ll))return Eo(16599,{Vt:t.type});n={verify:vc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof dl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof pl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gl)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Eo(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:fc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Eo(27497)}(e,t.precondition)),n}function Ic(e,t){return{documents:[bc(e,t.path)]}}function xc(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bc(e,o);const i=function(e){if(0!==e.length)return Lc(aa.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Dc(e.field),direction:Pc(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=uc(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:o}}function Tc(e){let t=kc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){xo(1===r,65062);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Nc(e);return t instanceof aa&&ca(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new ra(Bc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,xi(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ea(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ea(n,t)}(n.endAt)),Ta(t,o,s,i,a,"F",l,c)}function Nc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bc(e.unaryFilter.field);return sa.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Bc(e.unaryFilter.field);return sa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bc(e.unaryFilter.field);return sa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bc(e.unaryFilter.field);return sa.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Eo(61313);default:return Eo(60726)}}(e):void 0!==e.fieldFilter?function(e){return sa.create(Bc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Eo(58110);default:return Eo(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return aa.create(e.compositeFilter.filters.map(e=>Nc(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Eo(1026)}}(e.compositeFilter.op))}(e):Eo(30097,{filter:e})}function Pc(e){return sc[e]}function Ac(e){return ac[e]}function Rc(e){return lc[e]}function Dc(e){return{fieldPath:e.canonicalString()}}function Bc(e){return Jo.fromServerFormat(e.fieldPath)}function Lc(e){return e instanceof sa?function(e){if("=="===e.op){if(Ws(e.value))return{unaryFilter:{field:Dc(e.field),op:"IS_NAN"}};if(Hs(e.value))return{unaryFilter:{field:Dc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ws(e.value))return{unaryFilter:{field:Dc(e.field),op:"IS_NOT_NAN"}};if(Hs(e.value))return{unaryFilter:{field:Dc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dc(e.field),op:Ac(e.op),value:e.value}}}(e):e instanceof aa?function(e){const t=e.getFilters().map(e=>Lc(e));return 1===t.length?t[0]:{compositeFilter:{op:Rc(e.op),filters:t}}}(e):Eo(54877,{filter:e})}function Oc(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function jc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Mc{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:hi.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:hi.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fs.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Mc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fc{constructor(e){this.yt=e}}function Uc(e){const t=Tc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Oa(t,t.limit,"L"):t}class zc{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(gs(e.integerValue));else if("doubleValue"in e){const n=gs(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Ti(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=ms(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ys(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Ys(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Gs(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Eo(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){const n=e.fields||{};this.Ft(t,53);const r=Rs,o=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(gs(o)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Zo.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}zc.Kt=new zc;class Vc{constructor(){this.Cn=new $c}addToCollectionParentIndex(e,t){return this.Cn.add(t),_i.resolve()}getCollectionParents(e,t){return _i.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return _i.resolve()}deleteFieldIndex(e,t){return _i.resolve()}deleteAllFieldIndexes(e){return _i.resolve()}createTargetIndexes(e,t){return _i.resolve()}getDocumentsMatchingTarget(e,t){return _i.resolve(null)}getIndexType(e,t){return _i.resolve(0)}getFieldIndexes(e,t){return _i.resolve([])}getNextCollectionGroupToUpdate(e){return _i.resolve(null)}getMinOffset(e,t){return _i.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,t){return _i.resolve(yi.min())}updateCollectionGroup(e,t,n){return _i.resolve()}updateIndexEntries(e,t){return _i.resolve()}}class $c{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cs(Yo.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new cs(Yo.comparator)).toArray()}}new Uint8Array(0);const qc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hc=41943040;class Wc{static withCacheSize(e){return new Wc(e,Wc.DEFAULT_COLLECTION_PERCENTILE,Wc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Wc.DEFAULT_COLLECTION_PERCENTILE=10,Wc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wc.DEFAULT=new Wc(Hc,Wc.DEFAULT_COLLECTION_PERCENTILE,Wc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wc.DISABLED=new Wc(-1,0,0);class Kc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Kc(0)}static cr(){return new Kc(-1)}}const Gc="LruGarbageCollector",Qc=1048576;function Yc(e,t){let[n,r]=e,[o,i]=t;const s=Vo(n,o);return 0===s?Vo(r,i):s}class Xc{constructor(e){this.Ir=e,this.buffer=new cs(Yc),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Yc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Jc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){ko(Gc,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ci(e)?ko(Gc,"Ignoring IndexedDB error during garbage collection: ",e):await ki(e)}await this.Vr(3e5)})}}class Zc{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return _i.resolve(Ei.ce);const n=new Xc(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ko("LruGarbageCollector","Garbage collection skipped; disabled"),_i.resolve(qc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ko("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qc):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,o,i,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(ko("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(o=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),bo()<=Nn.DEBUG&&ko("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${r} in `+(s-i)+"ms\n"+`\tRemoved ${o} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),_i.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})))}}function eu(e,t){return new Zc(e,t)}class tu{constructor(){this.changes=new qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?_i.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ru{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Il(n.mutation,e,ds.empty(),di.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,tl()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tl();const r=Ya();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ga();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Ya();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,tl()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let o=Wa();const i=Ja(),s=Ja();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Pl)?o=o.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),Il(s.mutation,t,s.mutation.getFieldMask(),di.now())):i.set(t.key,ds.empty())}),this.recalculateAndSaveOverlays(e,o).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>s.set(e,new nu(t,i.get(e)??null))),s))}recalculateAndSaveOverlays(e,t){const n=Ja();let r=new ss((e,t)=>e-t),o=tl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const o of e)o.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||ds.empty();s=o.applyToLocalView(i,s),n.set(e,s);const a=(r.get(o.batchId)||tl()).add(e);r=r.insert(o.batchId,a)})}).next(()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Xa();l.forEach(e=>{if(!o.has(e)){const r=Cl(t.get(e),n.get(e));null!==r&&c.set(e,r),o=o.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return _i.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Zo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Aa(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):_i.resolve(Ya());let s=fi,a=o;return i.next(t=>_i.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?_i.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,o)).next(()=>this.computeViews(e,a,t,tl())).next(e=>({batchId:s,changes:Qa(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zo(t)).next(e=>{let t=Ga();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=Ga();return this.indexManager.getCollectionParents(e,o).next(s=>_i.forEach(s,s=>{const a=function(e,t){return new xa(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r))).next(e=>{o.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Zs.newInvalidDocument(r)))});let n=Ga();return e.forEach((e,r)=>{const i=o.get(e);void 0!==i&&Il(i.mutation,r,ds.empty(),di.now()),Ua(t,r)&&(n=n.insert(e,r))}),n})}}class ou{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return _i.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:pc(e.createTime)}}(t)),_i.resolve()}getNamedQuery(e,t){return _i.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Uc(e.bundledQuery),readTime:pc(e.readTime)}}(t)),_i.resolve()}}class iu{constructor(){this.overlays=new ss(Zo.comparator),this.qr=new Map}getOverlay(e,t){return _i.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ya();return _i.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),_i.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),_i.resolve()}getOverlaysForCollection(e,t,n){const r=Ya(),o=t.length+1,i=new Zo(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return _i.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new ss((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=Ya(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Ya(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return _i.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ml(t,n));let o=this.qr.get(t);void 0===o&&(o=tl(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class su{constructor(){this.sessionToken=fs.EMPTY_BYTE_STRING}getSessionToken(e){return _i.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,_i.resolve()}}class au{constructor(){this.Qr=new cs(lu.$r),this.Ur=new cs(lu.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new lu(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new lu(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Zo(new Yo([])),n=new lu(t,e),r=new lu(t,e+1),o=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),o.push(e.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Zo(new Yo([])),n=new lu(t,e),r=new lu(t,e+1);let o=tl();return this.Ur.forEachInRange([n,r],e=>{o=o.add(e.key)}),o}containsKey(e){const t=new lu(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class lu{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Zo.comparator(e.key,t.key)||Vo(e.Yr,t.Yr)}static Kr(e,t){return Vo(e.Yr,t.Yr)||Zo.comparator(e.key,t.key)}}class cu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new cs(lu.$r)}checkEmpty(e){return _i.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Ol(o,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Zr=this.Zr.add(new lu(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return _i.resolve(i)}lookupMutationBatch(e,t){return _i.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),o=r<0?0:r;return _i.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return _i.resolve(0===this.mutationQueue.length?Ii:this.tr-1)}getAllMutationBatches(e){return _i.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new lu(t,0),r=new lu(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);o.push(t)}),_i.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new cs(Vo);return t.forEach(e=>{const t=new lu(e,0),r=new lu(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),_i.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;Zo.isDocumentKey(o)||(o=o.child(""));const i=new lu(new Zo(o),0);let s=new cs(Vo);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},i),_i.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){xo(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return _i.forEach(t.mutations,r=>{const o=new lu(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new lu(t,0),r=this.Zr.firstAfterOrEqual(n);return _i.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,_i.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class uu{constructor(e){this.ri=e,this.docs=new ss(Zo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _i.resolve(n?n.document.mutableCopy():Zs.newInvalidDocument(t))}getEntries(e,t){let n=Wa();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Zs.newInvalidDocument(e))}),_i.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=Wa();const i=t.path,s=new Zo(i.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||vi(gi(s),n)<=0||(r.has(s.key)||Ua(t,s))&&(o=o.insert(s.key,s.mutableCopy()))}return _i.resolve(o)}getAllFromCollectionGroup(e,t,n,r){Eo(9500)}ii(e,t){return _i.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new du(this)}getSize(e){return _i.resolve(this.size)}}class du extends tu{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),_i.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class hu{constructor(e){this.persistence=e,this.si=new qa(e=>Ca(e),Ea),this.lastRemoteSnapshotVersion=hi.min(),this.highestTargetId=0,this.oi=0,this._i=new au,this.targetCount=0,this.ai=Kc.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),_i.resolve()}getLastRemoteSnapshotVersion(e){return _i.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _i.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_i.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),_i.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Kc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,_i.resolve()}updateTargetData(e,t){return this.Pr(t),_i.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,_i.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.si.forEach((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),_i.waitFor(o).next(()=>r)}getTargetCount(e){return _i.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return _i.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),_i.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(t=>{o.push(r.markPotentiallyOrphaned(e,t))}),_i.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),_i.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return _i.resolve(n)}containsKey(e,t){return _i.resolve(this._i.containsKey(t))}}class fu{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ei(0),this.li=!1,this.li=!0,this.hi=new su,this.referenceDelegate=e(this),this.Pi=new hu(this),this.indexManager=new Vc,this.remoteDocumentCache=function(e){return new uu(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Fc(t),this.Ii=new ou(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new cu(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ko("MemoryPersistence","Starting transaction:",e);const r=new pu(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return _i.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class pu extends bi{constructor(e){super(),this.currentSequenceNumber=e}}class mu{constructor(e){this.persistence=e,this.Ri=new au,this.Vi=null}static mi(e){return new mu(e)}get fi(){if(this.Vi)return this.Vi;throw Eo(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),_i.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),_i.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),_i.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _i.forEach(this.fi,n=>{const r=Zo.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,hi.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return _i.or([()=>_i.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class gu{constructor(e,t){this.persistence=e,this.pi=new qa(e=>Ai(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=eu(this,t)}static mi(e,t){return new gu(e,t)}Ei(){}di(e){return _i.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return _i.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?_i.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,o.removeEntry(r,hi.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),_i.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),_i.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),_i.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),_i.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zs(e.data.value)),t}br(e,t,n){return _i.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return _i.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=tl(),r=tl();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new yu(e,t.fromCache,n,r)}}class vu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wu{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=ln()?8:Si(on())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.ys(e,t).next(e=>{o.result=e}).next(()=>{if(!o.result)return this.ws(e,t,r,n).next(e=>{o.result=e})}).next(()=>{if(o.result)return;const n=new vu;return this.Ss(e,t,n).next(r=>{if(o.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>o.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(bo()<=Nn.DEBUG&&ko("QueryEngine","SDK will not create cache indexes for query:",Fa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_i.resolve()):(bo()<=Nn.DEBUG&&ko("QueryEngine","Query:",Fa(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(bo()<=Nn.DEBUG&&ko("QueryEngine","The SDK decides to create cache indexes for query:",Fa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Da(t))):_i.resolve())}ys(e,t){if(Pa(t))return _i.resolve(null);let n=Da(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Oa(t,null,"F"),n=Da(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const o=tl(...r);return this.ps.getDocuments(e,o).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,o,n.readTime)?this.ys(e,Oa(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return Pa(t)||r.isEqual(hi.min())?_i.resolve(null):this.ps.getDocuments(e,n).next(o=>{const i=this.Ds(t,o);return this.Cs(t,i,n,r)?_i.resolve(null):(bo()<=Nn.DEBUG&&ko("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fa(t)),this.vs(e,i,t,mi(r,fi)).next(e=>e))})}Ds(e,t){let n=new cs(Va(e));return t.forEach((t,r)=>{Ua(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,n){return bo()<=Nn.DEBUG&&ko("QueryEngine","Using full collection scan to execute query:",Fa(t)),this.ps.getDocumentsMatchingQuery(e,t,yi.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const bu="LocalStore";class ku{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ss(Vo),this.xs=new qa(e=>Ca(e),Ea),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ru(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function _u(e,t,n,r){return new ku(e,t,n,r)}async function Su(e,t){const n=To(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(o=>(r=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const o=[],i=[];let s=tl();for(const e of r){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:o,addedBatchIds:i}))})})}function Cu(e){const t=To(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Eu(e,t,n){let r=tl(),o=tl();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Wa();return n.forEach((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual(hi.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):ko(bu,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)}),{ks:r,qs:o}})}function Iu(e,t){const n=To(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ii),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function xu(e,t){const n=To(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(o=>o?(r=o,_i.resolve(r)):n.Pi.allocateTargetId(e).next(o=>(r=new Mc(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Tu(e,t,n){const r=To(e),o=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,o))}catch(e){if(!Ci(e))throw e;ko(bu,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function Nu(e,t,n){const r=To(e);let o=hi.min(),i=tl();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=To(e),o=r.xs.get(n);return void 0!==o?_i.resolve(r.Ms.get(o)):r.Pi.getTargetData(t,n)}(r,e,Da(t)).next(t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?o:hi.min(),n?i:tl())).next(e=>(Pu(r,za(t),e),{documents:e,Qs:i})))}function Pu(e,t,n){let r=e.Os.get(t)||hi.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Au{constructor(){this.activeTargetIds=rl()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ru{constructor(){this.Mo=new Au,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Au,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Du{Oo(e){}shutdown(){}}const Bu="ConnectivityMonitor";class Lu{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ko(Bu,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ko(Bu,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ou=null;function ju(){return null===Ou?Ou=268435456+Math.round(2147483648*Math.random()):Ou++,"0x"+Ou.toString(16)}const Mu="RestConnection",Fu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uu{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===Is?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,o){const i=ju(),s=this.zo(e,t.toUriEncodedString());ko(Mu,`Sending RPC '${e}' ${i}:`,s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,o);const{host:l}=new URL(s),c=Zt(l);return this.Jo(e,s,a,n,c).then(t=>(ko(Mu,`Received RPC '${e}' ${i}: `,t),t),t=>{throw So(Mu,`RPC '${e}' ${i} failed with error: `,t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,o,i){return this.Go(e,t,n,r,o)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+vo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Fu[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class zu{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Vu="WebChannelConnection";class $u extends Uu{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,o){const i=ju();return new Promise((o,s)=>{const a=new oo;a.setWithCredentials(!0),a.listenOnce(so.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case ao.NO_ERROR:const t=a.getResponseJson();ko(Vu,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case ao.TIMEOUT:ko(Vu,`RPC '${e}' ${i} timed out`),s(new Po(No.DEADLINE_EXCEEDED,"Request time out"));break;case ao.HTTP_ERROR:const n=a.getStatus();if(ko(Vu,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(No).indexOf(t)>=0?t:No.UNKNOWN}(t.status);s(new Po(e,t.message))}else s(new Po(No.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Po(No.UNAVAILABLE,"Connection failed."));break;default:Eo(9055,{l_:e,streamId:i,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{ko(Vu,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);ko(Vu,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=ju(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ho(),s=uo(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=o.join("");ko(Vu,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=i.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const f=new zu({Yo:t=>{h?ko(Vu,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(ko(Vu,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),ko(Vu,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,io.EventType.OPEN,()=>{h||(ko(Vu,`RPC '${e}' stream ${r} transport opened.`),f.o_())}),p(u,io.EventType.CLOSE,()=>{h||(h=!0,ko(Vu,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(u))}),p(u,io.EventType.ERROR,t=>{h||(h=!0,So(Vu,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new Po(No.UNAVAILABLE,"The operation could not be completed")))}),p(u,io.EventType.MESSAGE,t=>{if(!h){const n=t.data[0];xo(!!n,16349);const o=n,i=o?.error||o[0]?.error;if(i){ko(Vu,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=Ul[e];if(void 0!==t)return $l(t)}(t),o=i.message;void 0===n&&(n=No.INTERNAL,o="Unknown error status: "+t+" with message "+i.message),h=!0,f.a_(new Po(n,o)),u.close()}else ko(Vu,`RPC '${e}' stream ${r} received:`,n),f.u_(n)}}),p(s,co.STAT_EVENT,t=>{t.stat===lo.PROXY?ko(Vu,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===lo.NOPROXY&&ko(Vu,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function qu(){return"undefined"!=typeof document?document:null}function Hu(e){return new cc(e,!0)}class Wu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&ko("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ku="PersistentStream";class Gu{constructor(e,t,n,r,o,i,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wu(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===No.RESOURCE_EXHAUSTED?(_o(t.toString()),_o("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===No.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Po(No.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ko(Ku,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ko(Ku,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qu extends Gu{constructor(e,t,n,r,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Eo(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(xo(void 0===t||"string"==typeof t,58123),fs.fromBase64String(t||"")):(xo(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),fs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?No.UNKNOWN:$l(e.code);return new Po(t,e.message||"")}(s);n=new tc(r,o,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=wc(e,r.document.name),i=pc(r.document.updateTime),s=r.document.createTime?pc(r.document.createTime):hi.min(),a=new Xs({mapValue:{fields:r.document.fields}}),l=Zs.newFoundDocument(o,i,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Zl(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=wc(e,r.document),i=r.readTime?pc(r.readTime):hi.min(),s=Zs.newNoDocument(o,i),a=r.removedTargetIds||[];n=new Zl([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=wc(e,r.document),i=r.removedTargetIds||[];n=new Zl([],i,o,null)}else{if(!("filter"in t))return Eo(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,i=new Fl(r,o),s=e.targetId;n=new ec(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return hi.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?hi.min():t.readTime?pc(t.readTime):hi.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=_c(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ia(r)?{documents:Ic(e,r)}:{query:xc(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=hc(e,t.resumeToken);const r=uc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(hi.min())>0){n.readTime=dc(e,t.snapshotVersion.toTimestamp());const r=uc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Eo(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=_c(this.serializer),t.removeTarget=e,this.q_(t)}}class Yu extends Gu{constructor(e,t,n,r,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return xo(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xo(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){xo(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(xo(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?pc(e.updateTime):pc(t);return n.isEqual(hi.min())&&(n=pc(t)),new bl(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=pc(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=_c(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ec(this.serializer,e))};this.q_(t)}}class Xu{}class Ju extends Xu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Po(No.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[i,s]=o;return this.connection.Go(e,gc(t,n),r,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===No.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Po(No.UNKNOWN,e.toString())})}Ho(e,t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Ho(e,gc(t,n),r,s,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===No.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Po(No.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Zu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_o(t),this.aa=!1):ko("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const ed="RemoteStore";class td{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{ud(this)&&(ko(ed,"Restarting streams for network reachability change."),await async function(e){const t=To(e);t.Ea.add(4),await rd(t),t.Ra.set("Unknown"),t.Ea.delete(4),await nd(t)}(this))})}),this.Ra=new Zu(n,r)}}async function nd(e){if(ud(e))for(const t of e.da)await t(!0)}async function rd(e){for(const t of e.da)await t(!1)}function od(e,t){const n=To(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),cd(n)?ld(n):Nd(n).O_()&&sd(n,t))}function id(e,t){const n=To(e),r=Nd(n);n.Ia.delete(t),r.O_()&&ad(n,t),0===n.Ia.size&&(r.O_()?r.L_():ud(n)&&n.Ra.set("Unknown"))}function sd(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(hi.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Nd(e).Y_(t)}function ad(e,t){e.Va.Ue(t),Nd(e).Z_(t)}function ld(e){e.Va=new rc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Nd(e).start(),e.Ra.ua()}function cd(e){return ud(e)&&!Nd(e).x_()&&e.Ia.size>0}function ud(e){return 0===To(e).Ea.size}function dd(e){e.Va=void 0}async function hd(e){e.Ra.set("Online")}async function fd(e){e.Ia.forEach((t,n)=>{sd(e,t)})}async function pd(e,t){dd(e),cd(e)?(e.Ra.ha(t),ld(e)):e.Ra.set("Unknown")}async function md(e,t,n){if(e.Ra.set("Online"),t instanceof tc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){ko(ed,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await gd(e,n)}else if(t instanceof Zl?e.Va.Ze(t):t instanceof ec?e.Va.st(t):e.Va.tt(t),!n.isEqual(hi.min()))try{const t=await Cu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e.Ia.get(r);o&&e.Ia.set(r,o.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(fs.EMPTY_BYTE_STRING,r.snapshotVersion)),ad(e,t);const o=new Mc(r.target,t,n,r.sequenceNumber);sd(e,o)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ko(ed,"Failed to raise snapshot:",t),await gd(e,t)}}async function gd(e,t,n){if(!Ci(t))throw t;e.Ea.add(1),await rd(e),e.Ra.set("Offline"),n||(n=()=>Cu(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ko(ed,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await nd(e)})}function yd(e,t){return t().catch(n=>gd(e,n,t))}async function vd(e){const t=To(e),n=Pd(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ii;for(;wd(t);)try{const e=await Iu(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,bd(t,e)}catch(e){await gd(t,e)}kd(t)&&_d(t)}function wd(e){return ud(e)&&e.Ta.length<10}function bd(e,t){e.Ta.push(t);const n=Pd(e);n.O_()&&n.X_&&n.ea(t.mutations)}function kd(e){return ud(e)&&!Pd(e).x_()&&e.Ta.length>0}function _d(e){Pd(e).start()}async function Sd(e){Pd(e).ra()}async function Cd(e){const t=Pd(e);for(const n of e.Ta)t.ea(n.mutations)}async function Ed(e,t,n){const r=e.Ta.shift(),o=jl.from(r,t,n);await yd(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await vd(e)}async function Id(e,t){t&&Pd(e).X_&&await async function(e,t){if(function(e){return Vl(e)&&e!==No.ABORTED}(t.code)){const n=e.Ta.shift();Pd(e).B_(),await yd(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await vd(e)}}(e,t),kd(e)&&_d(e)}async function xd(e,t){const n=To(e);n.asyncQueue.verifyOperationInProgress(),ko(ed,"RemoteStore received new credentials");const r=ud(n);n.Ea.add(3),await rd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await nd(n)}async function Td(e,t){const n=To(e);t?(n.Ea.delete(2),await nd(n)):t||(n.Ea.add(2),await rd(n),n.Ra.set("Unknown"))}function Nd(e){return e.ma||(e.ma=function(e,t,n){const r=To(e);return r.sa(),new Qu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:hd.bind(null,e),t_:fd.bind(null,e),r_:pd.bind(null,e),H_:md.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),cd(e)?ld(e):e.Ra.set("Unknown")):(await e.ma.stop(),dd(e))})),e.ma}function Pd(e){return e.fa||(e.fa=function(e,t,n){const r=To(e);return r.sa(),new Yu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Sd.bind(null,e),r_:Id.bind(null,e),ta:Cd.bind(null,e),na:Ed.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await vd(e)):(await e.fa.stop(),e.Ta.length>0&&(ko(ed,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class Ad{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,s=new Ad(e,t,i,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Po(No.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rd(e,t){if(_o("AsyncQueue",`${t}: ${e}`),Ci(e))return new Po(No.UNAVAILABLE,`${t}: ${e}`);throw e}class Dd{static emptySet(e){return new Dd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Zo.comparator(t.key,n.key):(e,t)=>Zo.comparator(e.key,t.key),this.keyedMap=Ga(),this.sortedSet=new ss(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Dd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Bd{constructor(){this.ga=new ss(Zo.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Eo(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ld{constructor(e,t,n,r,o,i,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,o){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Ld(e,t,Dd.emptySet(t),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ja(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Od{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class jd{constructor(){this.queries=Md(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=To(e),r=n.queries;n.queries=Md(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Po(No.ABORTED,"Firestore shutting down"))}}function Md(){return new qa(e=>Ma(e),ja)}async function Fd(e,t){const n=To(e);let r=3;const o=t.query;let i=n.queries.get(o);i?!i.ba()&&t.Da()&&(r=2):(i=new Od,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(o,!0);break;case 1:i.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=Rd(e,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(n)}n.queries.set(o,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&$d(n)}async function Ud(e,t){const n=To(e),r=t.query;let o=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?o=t.Da()?0:1:!i.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zd(e,t){const n=To(e);let r=!1;for(const o of t){const e=o.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(o)&&(r=!0);t.wa=o}}r&&$d(n)}function Vd(e,t,n){const r=To(e),o=r.queries.get(t);if(o)for(const i of o.Sa)i.onError(n);r.queries.delete(t)}function $d(e){e.Ca.forEach(e=>{e.next()})}var qd,Hd;(Hd=qd||(qd={})).Ma="default",Hd.Cache="cache";class Wd{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ld(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qd.Cache}}class Kd{constructor(e){this.key=e}}class Gd{constructor(e){this.key=e}}class Qd{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tl(),this.mutatedKeys=tl(),this.eu=Va(e),this.tu=new Dd(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Bd,r=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Ua(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(i=i.add(u),o=h?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:s,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Eo(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==i.length||l?{snapshot:new Ld(this.query,e.tu,o,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tl(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Gd(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Kd(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=tl();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ld.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Yd="SyncEngine";class Xd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Jd{constructor(e){this.key=e,this.hu=!1}}class Zd{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new qa(e=>Ma(e),ja),this.Iu=new Map,this.Eu=new Set,this.du=new ss(Zo.comparator),this.Au=new Map,this.Ru=new au,this.Vu={},this.mu=new Map,this.fu=Kc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function eh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=kh(e);let o;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.lu()):o=await nh(r,t,n,!0),o}async function th(e,t){const n=kh(e);await nh(n,t,!0,!1)}async function nh(e,t,n,r){const o=await xu(e.localStore,Da(t)),i=o.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await rh(e,t,i,"current"===s,o.resumeToken)),e.isPrimaryClient&&n&&od(e.remoteStore,o),a}async function rh(e,t,n,r,o){e.pu=(t,n,r)=>async function(e,t,n,r){let o=t.view.ru(n);o.Cs&&(o=await Nu(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,o)}));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(o,e.isPrimaryClient,i,s);return mh(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const i=await Nu(e.localStore,t,!0),s=new Qd(t,i.Qs),a=s.ru(i.documents),l=Jl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),c=s.applyChanges(a,e.isPrimaryClient,l);mh(e,n,c.au);const u=new Xd(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function oh(e,t,n){const r=To(e),o=r.Tu.get(t),i=r.Iu.get(o.targetId);if(i.length>1)return r.Iu.set(o.targetId,i.filter(e=>!ja(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Tu(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&id(r.remoteStore,o.targetId),fh(r,o.targetId)}).catch(ki)):(fh(r,o.targetId),await Tu(r.localStore,o.targetId,!0))}async function ih(e,t){const n=To(e),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),id(n.remoteStore,r.targetId))}async function sh(e,t){const n=To(e);try{const e=await function(e,t){const n=To(e),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const s=[];t.targetChanges.forEach((i,a)=>{const l=o.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(fs.EMPTY_BYTE_STRING,hi.min()).withLastLimboFreeSnapshotVersion(hi.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),o=o.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&s.push(n.Pi.updateTargetData(e,c))});let a=Wa(),l=tl();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Eu(e,i,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(hi.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return _i.waitFor(s).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=o,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(xo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?xo(r.hu,14607):e.removedDocuments.size>0&&(xo(r.hu,42227),r.hu=!1))}),await vh(n,e,t)}catch(e){await ki(e)}}function ah(e,t,n){const r=To(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const o=r.view.va(t);o.snapshot&&e.push(o.snapshot)}),function(e,t){const n=To(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const o of n.Sa)o.va(t)&&(r=!0)}),r&&$d(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lh(e,t,n){const r=To(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),i=o&&o.key;if(i){let e=new ss(Zo.comparator);e=e.insert(i,Zs.newNoDocument(i,hi.min()));const n=tl().add(i),o=new Xl(hi.min(),new Map,new ss(Vo),e,n);await sh(r,o),r.du=r.du.remove(i),r.Au.delete(t),yh(r)}else await Tu(r.localStore,t,!1).then(()=>fh(r,t,n)).catch(ki)}async function ch(e,t){const n=To(e),r=t.batch.batchId;try{const e=await function(e,t){const n=To(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,i=o.keys();let s=_i.resolve();return i.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);xo(null!==i,48541),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,o))}(n,e,t,o).next(()=>o.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=tl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);hh(n,r,null),dh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vh(n,e)}catch(e){await ki(e)}}async function uh(e,t,n){const r=To(e);try{const e=await function(e,t){const n=To(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(xo(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);hh(r,t,n),dh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await vh(r,e)}catch(n){await ki(n)}}function dh(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function hh(e,t,n){const r=To(e);let o=r.Vu[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function fh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||ph(e,t)})}function ph(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(id(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),yh(e))}function mh(e,t,n){for(const r of n)r instanceof Kd?(e.Ru.addReference(r.key,t),gh(e,r)):r instanceof Gd?(ko(Yd,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||ph(e,r.key)):Eo(19791,{wu:r})}function gh(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(ko(Yd,"New document in limbo: "+n),e.Eu.add(r),yh(e))}function yh(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Zo(Yo.fromString(t)),r=e.fu.next();e.Au.set(r,new Jd(n)),e.du=e.du.insert(n,r),od(e.remoteStore,new Mc(Da(Na(n.path)),r,"TargetPurposeLimboResolution",Ei.ce))}}async function vh(e,t,n){const r=To(e),o=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(a.targetId)?.current;r.sharedClientState.updateQueryState(a.targetId,t?"current":"not-current")}if(e){o.push(e);const t=yu.As(a.targetId,e);i.push(t)}}))}),await Promise.all(s),r.Pu.H_(o),await async function(e,t){const n=To(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>_i.forEach(t,t=>_i.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>_i.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ci(e))throw e;ko(bu,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,o)}}}(r.localStore,i))}async function wh(e,t){const n=To(e);if(!n.currentUser.isEqual(t)){ko(Yd,"User change. New user:",t.toKey());const e=await Su(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Po(No.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await vh(n,e.Ls)}}function bh(e,t){const n=To(e),r=n.Au.get(t);if(r&&r.hu)return tl().add(r.key);{let e=tl();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function kh(e){const t=To(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lh.bind(null,t),t.Pu.H_=zd.bind(null,t.eventManager),t.Pu.yu=Vd.bind(null,t.eventManager),t}function _h(e){const t=To(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ch.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uh.bind(null,t),t}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _u(this.persistence,new wu,e.initialUser,this.serializer)}Cu(e){return new fu(mu.mi,this.serializer)}Du(e){return new Ru}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class Ch extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){xo(this.persistence.referenceDelegate instanceof gu,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Jc(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Wc.withCacheSize(this.cacheSizeBytes):Wc.DEFAULT;return new fu(e=>gu.mi(e,t),this.serializer)}}class Eh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ah(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=wh.bind(null,this.syncEngine),await Td(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new jd}createDatastore(e){const t=Hu(e.databaseInfo.databaseId),n=function(e){return new $u(e)}(e.databaseInfo);return function(e,t,n,r){return new Ju(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new td(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,e=>ah(this.syncEngine,e,0),Lu.v()?new Lu:new Du)}createSyncEngine(e,t){return function(e,t,n,r,o,i,s){const a=new Zd(e,t,n,r,o,i);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=To(e);ko(ed,"RemoteStore shutting down."),t.Ea.add(5),await rd(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Eh.provider={build:()=>new Eh};class Ih{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_o("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const xh="FirestoreClient";class Th{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=yo.UNAUTHENTICATED,this.clientId=zo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async e=>{ko(xh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(ko(xh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Rd(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Nh(e,t){e.asyncQueue.verifyOperationInProgress(),ko(xh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Su(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ph(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ah(e);ko(xh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>xd(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>xd(t.remoteStore,n)),e._onlineComponents=t}async function Ah(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ko(xh,"Using user provided OfflineComponentProvider");try{await Nh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===No.FAILED_PRECONDITION||e.code===No.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await Nh(e,new Sh)}}else ko(xh,"Using default OfflineComponentProvider"),await Nh(e,new Ch(void 0));return e._offlineComponents}async function Rh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ko(xh,"Using user provided OnlineComponentProvider"),await Ph(e,e._uninitializedComponentsProvider._online)):(ko(xh,"Using default OnlineComponentProvider"),await Ph(e,new Eh))),e._onlineComponents}function Dh(e){return Rh(e).then(e=>e.syncEngine)}async function Bh(e){const t=await Rh(e),n=t.eventManager;return n.onListen=eh.bind(null,t.syncEngine),n.onUnlisten=oh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=th.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ih.bind(null,t.syncEngine),n}function Lh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ao;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new Ih({next:a=>{i.Nu(),t.enqueueAndForget(()=>Ud(e,s));const l=a.docs.has(n);!l&&a.fromCache?o.reject(new Po(No.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?o.reject(new Po(No.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(a)},error:e=>o.reject(e)}),s=new Wd(Na(n.path),i,{includeMetadataChanges:!0,qa:!0});return Fd(e,s)}(await Bh(e),e.asyncQueue,t,n,r)),r.promise}function Oh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ao;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new Ih({next:n=>{i.Nu(),t.enqueueAndForget(()=>Ud(e,s)),n.fromCache&&"server"===r.source?o.reject(new Po(No.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:e=>o.reject(e)}),s=new Wd(n,i,{includeMetadataChanges:!0,qa:!0});return Fd(e,s)}(await Bh(e),e.asyncQueue,t,n,r)),r.promise}function jh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Mh=new Map,Fh="firestore.googleapis.com",Uh=!0;class zh{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Po(No.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fh,this.ssl=Uh}else this.host=e.host,this.ssl=e.ssl??Uh;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Hc;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Qc)throw new Po(No.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Po(No.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jh(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Po(No.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Po(No.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Po(No.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Po(No.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Po(No.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Do;switch(e.type){case"firstParty":return new jo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Po(No.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mh.get(e);t&&(ko("ComponentProvider","Removing Datastore"),Mh.delete(e),t.terminate())}(this),Promise.resolve()}}function $h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=ii(e,Vh);const o=Zt(t),i=e._getSettings(),s={...i,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;o&&(en(`https://${a}`),rn("Firestore",!0)),i.host!==Fh&&i.host!==a&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:o,emulatorOptions:r};if(!mn(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=yo.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Ht(JSON.stringify({alg:"none",type:"JWT"})),Ht(JSON.stringify(i)),""].join(".")}(r.mockUserToken,e._app?.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Po(No.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new yo(o)}e._authCredentials=new Bo(new Ro(t,n))}}class qh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qh(this.firestore,e,this._query)}}class Hh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hh(this.firestore,e,this._key)}toJSON(){return{type:Hh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(li(t,Hh._jsonSchema))return new Hh(e,n||null,new Zo(Yo.fromString(t.referencePath)))}}Hh._jsonSchemaVersion="firestore/documentReference/1.0",Hh._jsonSchema={type:ai("string",Hh._jsonSchemaVersion),referencePath:ai("string")};class Wh extends qh{constructor(e,t,n){super(e,t,Na(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hh(this.firestore,null,new Zo(e))}withConverter(e){return new Wh(this.firestore,e,this._path)}}function Kh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=Sn(e),ei("collection","path",t),e instanceof Vh){const n=Yo.fromString(t,...r);return ni(n),new Wh(e,null,n)}{if(!(e instanceof Hh||e instanceof Wh))throw new Po(No.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Yo.fromString(t,...r));return ni(n),new Wh(e.firestore,null,n)}}function Gh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=Sn(e),1===arguments.length&&(t=zo.newId()),ei("doc","path",t),e instanceof Vh){const n=Yo.fromString(t,...r);return ti(n),new Hh(e,null,new Zo(n))}{if(!(e instanceof Hh||e instanceof Wh))throw new Po(No.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Yo.fromString(t,...r));return ti(n),new Hh(e.firestore,e instanceof Wh?e.converter:null,new Zo(n))}}const Qh="AsyncQueue";class Yh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wu(this,"async_queue_retry"),this._c=()=>{const e=qu();e&&ko(Qh,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=qu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=qu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ao;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(AS){if(!Ci(AS))throw AS;ko(Qh,"Operation failed with retryable error: "+AS)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,_o("INTERNAL UNHANDLED ERROR: ",Xh(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Ad.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Eo(47125,{Pc:Xh(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Xh(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Jh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Zh extends Vh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Yh,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yh(e),this._firestoreClient=void 0,await e}}}function ef(e){if(e._terminated)throw new Po(No.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||tf(e),e._firestoreClient}function tf(e){const t=e._freezeSettings(),n=function(e,t,n,r){return new Es(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,jh(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Th(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}class nf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nf(fs.fromBase64String(e))}catch(e){throw new Po(No.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new nf(fs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:nf._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(li(e,nf._jsonSchema))return nf.fromBase64String(e.bytes)}}nf._jsonSchemaVersion="firestore/bytes/1.0",nf._jsonSchema={type:ai("string",nf._jsonSchemaVersion),bytes:ai("string")};class rf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Po(No.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class of{constructor(e){this._methodName=e}}class sf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Po(No.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Po(No.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vo(this._lat,e._lat)||Vo(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:sf._jsonSchemaVersion}}static fromJSON(e){if(li(e,sf._jsonSchema))return new sf(e.latitude,e.longitude)}}sf._jsonSchemaVersion="firestore/geoPoint/1.0",sf._jsonSchema={type:ai("string",sf._jsonSchemaVersion),latitude:ai("number"),longitude:ai("number")};class af{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:af._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(li(e,af._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new af(e.vectorValues);throw new Po(No.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}af._jsonSchemaVersion="firestore/vectorValue/1.0",af._jsonSchema={type:ai("string",af._jsonSchemaVersion),vectorValues:ai("object")};const lf=/^__.*__$/;class cf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Pl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nl(e,this.data,t,this.fieldTransforms)}}class uf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Pl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function df(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Eo(40011,{Ac:e})}}class hf{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(df(this.Ac)&&lf.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ff{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Hu(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new hf({Ac:e,methodName:t,Dc:n,path:Jo.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pf(e){const t=e._freezeSettings(),n=Hu(e._databaseId);return new ff(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mf(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(i.merge||i.mergeFields?2:0,t,n,o);Cf("Data must be an object, but it was:",s,r);const a=_f(r,s);let l,c;if(i.merge)l=new ds(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=Ef(t,r,n);if(!s.contains(o))throw new Po(No.INVALID_ARGUMENT,`Field '${o}' is specified in your field mask but missing from your input data.`);Nf(e,o)||e.push(o)}l=new ds(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new cf(new Xs(a),l,c)}class gf extends of{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gf}}class yf extends of{_toFieldTransform(e){return new wl(e.path,new dl)}isEqual(e){return e instanceof yf}}function vf(e,t,n,r){const o=e.Cc(1,t,n);Cf("Data must be an object, but it was:",o,r);const i=[],s=Xs.empty();os(r,(e,r)=>{const a=xf(t,e,n);r=Sn(r);const l=o.yc(a);if(r instanceof gf)i.push(a);else{const e=kf(r,l);null!=e&&(i.push(a),s.set(a,e))}});const a=new ds(i);return new uf(s,a,o.fieldTransforms)}function wf(e,t,n,r,o,i){const s=e.Cc(1,t,n),a=[Ef(t,r,n)],l=[o];if(i.length%2!=0)throw new Po(No.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(Ef(t,i[h])),l.push(i[h+1]);const c=[],u=Xs.empty();for(let h=a.length-1;h>=0;--h)if(!Nf(c,a[h])){const e=a[h];let t=l[h];t=Sn(t);const n=s.yc(e);if(t instanceof gf)c.push(e);else{const r=kf(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ds(c);return new uf(u,d,s.fieldTransforms)}function bf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kf(n,e.Cc(r?4:3,t))}function kf(e,t){if(Sf(e=Sn(e)))return Cf("Unsupported field value:",t,e),_f(e,t);if(e instanceof of)return function(e,t){if(!df(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=kf(o,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Sn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=di.fromDate(e);return{timestampValue:dc(t.serializer,n)}}if(e instanceof di){const n=new di(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:dc(t.serializer,n)}}if(e instanceof sf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nf)return{bytesValue:hc(t.serializer,e._byteString)};if(e instanceof Hh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:mc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof af)return function(e,t){return{mapValue:{fields:{[Ts]:{stringValue:As},[Rs]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return ol(t.serializer,e)})}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${oi(e)}`)}(e,t)}function _f(e,t){const n={};return is(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):os(e,(e,r)=>{const o=kf(r,t.mc(e));null!=o&&(n[e]=o)}),{mapValue:{fields:n}}}function Sf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof di||e instanceof sf||e instanceof nf||e instanceof Hh||e instanceof of||e instanceof af)}function Cf(e,t,n){if(!Sf(n)||!ri(n)){const r=oi(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Ef(e,t,n){if((t=Sn(t))instanceof rf)return t._internalPath;if("string"==typeof t)return xf(e,t);throw Tf("Field path arguments must be of type string or ",e,!1,void 0,n)}const If=new RegExp("[~\\*/\\[\\]]");function xf(e,t,n){if(t.search(If)>=0)throw Tf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new rf(...t.split("."))._internalPath}catch(r){throw Tf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Tf(e,t,n,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${r}`),s&&(l+=` in document ${o}`),l+=")"),new Po(No.INVALID_ARGUMENT,a+e+l)}function Nf(e,t){return e.some(e=>e.isEqual(t))}class Pf{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Hh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Af(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Af extends Pf{data(){return super.data()}}function Rf(e,t){return"string"==typeof t?xf(e,t):t instanceof rf?t._internalPath:t._delegate._internalPath}function Df(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Po(No.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bf{}class Lf extends Bf{}function Of(e,t){let n=[];for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t instanceof Bf&&n.push(t),n=n.concat(o),function(e){const t=e.filter(e=>e instanceof Ff).length,n=e.filter(e=>e instanceof jf).length;if(t>1||t>0&&n>0)throw new Po(No.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class jf extends Lf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new jf(e,t,n)}_apply(e){const t=this._parse(e);return Wf(e._query,t),new qh(e.firestore,e.converter,La(e._query,t))}_parse(e){const t=pf(e.firestore),n=function(e,t,n,r,o,i,s){let a;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Po(No.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){Hf(s,i);const t=[];for(const n of s)t.push(qf(r,e,n));a={arrayValue:{values:t}}}else a=qf(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Hf(s,i),a=bf(n,t,s,"in"===i||"not-in"===i);return sa.create(o,i,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Mf(e,t,n){const r=t,o=Rf("where",e);return jf._create(o,r,n)}class Ff extends Bf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ff(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:aa.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const o of r)Wf(n,o),n=La(n,o)}(e._query,t),new qh(e.firestore,e.converter,La(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Uf extends Lf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Uf(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Po(No.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Po(No.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ra(t,n)}(e._query,this._field,this._direction);return new qh(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new xa(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function zf(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Rf("orderBy",e);return Uf._create(n,t)}class Vf extends Lf{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Vf(e,t,n)}_apply(e){return new qh(e.firestore,e.converter,Oa(e._query,this._limit,this._limitType))}}function $f(e){return si("limit",e),Vf._create("limit",e,"F")}function qf(e,t,n){if("string"==typeof(n=Sn(n))){if(""===n)throw new Po(No.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Aa(t)&&-1!==n.indexOf("/"))throw new Po(No.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Yo.fromString(n));if(!Zo.isDocumentKey(r))throw new Po(No.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vs(e,new Zo(r))}if(n instanceof Hh)return Vs(e,n._key);throw new Po(No.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oi(n)}.`)}function Hf(e,t){if(!Array.isArray(e)||0===e.length)throw new Po(No.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Wf(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Po(No.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Po(No.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Kf{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Eo(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return os(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){const t=e.fields?.[Rs].arrayValue?.values?.map(e=>gs(e.doubleValue));return new af(t)}convertGeoPoint(e){return new sf(gs(e.latitude),gs(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ss(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Cs(e));default:return null}}convertTimestamp(e){const t=ms(e);return new di(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Yo.fromString(e);xo(jc(n),9688,{name:e});const r=new xs(n.get(1),n.get(3)),o=new Zo(n.popFirst(5));return r.isEqual(t)||_o(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function Gf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Qf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yf extends Pf{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Rf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Po(No.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Yf._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Yf._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yf._jsonSchema={type:ai("string",Yf._jsonSchemaVersion),bundleSource:ai("string","DocumentSnapshot"),bundleName:ai("string"),bundle:ai("string")};class Xf extends Yf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Jf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Xf(this._firestore,this._userDataWriter,n.key,n,new Qf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Po(No.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Xf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Qf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Xf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Zf(t.type),doc:r,oldIndex:o,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Po(No.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zo.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Zf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Eo(61501,{type:e})}}function ep(e){e=ii(e,Hh);const t=ii(e.firestore,Zh);return Lh(ef(t),e._key).then(n=>ap(t,e,n))}Jf._jsonSchemaVersion="firestore/querySnapshot/1.0",Jf._jsonSchema={type:ai("string",Jf._jsonSchemaVersion),bundleSource:ai("string","QuerySnapshot"),bundleName:ai("string"),bundle:ai("string")};class tp extends Kf{constructor(e){super(),this.firestore=e}convertBytes(e){return new nf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hh(this.firestore,null,t)}}function np(e){e=ii(e,qh);const t=ii(e.firestore,Zh),n=ef(t),r=new tp(t);return Df(e._query),Oh(n,e._query).then(n=>new Jf(t,r,e,n))}function rp(e,t,n){e=ii(e,Hh);const r=ii(e.firestore,Zh),o=Gf(e.converter,t,n);return sp(r,[mf(pf(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,kl.none())])}function op(e,t,n){e=ii(e,Hh);const r=ii(e.firestore,Zh),o=pf(r);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=Sn(t))||t instanceof rf?wf(o,"updateDoc",e._key,t,n,a):vf(o,"updateDoc",e._key,t),sp(r,[i.toMutation(e._key,kl.exists(!0))])}function ip(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=Sn(e);let o={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof n[i]||Jh(n[i])||(o=n[i++]);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Jh(n[i])){const e=n[i];n[i]=e.next?.bind(e),n[i+1]=e.error?.bind(e),n[i+2]=e.complete?.bind(e)}let a,l,c;if(e instanceof Hh)l=ii(e.firestore,Zh),c=Na(e._key.path),a={next:t=>{n[i]&&n[i](ap(l,e,t))},error:n[i+1],complete:n[i+2]};else{const t=ii(e,qh);l=ii(t.firestore,Zh),c=t._query;const r=new tp(l);a={next:e=>{n[i]&&n[i](new Jf(l,r,t,e))},error:n[i+1],complete:n[i+2]},Df(e._query)}return function(e,t,n,r){const o=new Ih(r),i=new Wd(t,o,n);return e.asyncQueue.enqueueAndForget(async()=>Fd(await Bh(e),i)),()=>{o.Nu(),e.asyncQueue.enqueueAndForget(async()=>Ud(await Bh(e),i))}}(ef(l),c,s,a)}function sp(e,t){return function(e,t){const n=new Ao;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=_h(e);try{const e=await function(e,t){const n=To(e),r=di.now(),o=t.reduce((e,t)=>e.add(t.key),tl());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Wa(),l=tl();return n.Ns.getEntries(e,o).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(o=>{i=o;const s=[];for(const e of t){const t=xl(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new Pl(e.key,t,Js(t.value.mapValue),kl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:Qa(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ss(Vo)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await vh(r,e.changes),await vd(r.remoteStore)}catch(e){const t=Rd(e,"Failed to persist write");n.reject(t)}}(await Dh(e),t,n)),n.promise}(ef(e),t)}function ap(e,t,n){const r=n.docs.get(t._key),o=new tp(e);return new Yf(e,o,t._key,r,new Qf(n.hasPendingWrites,n.fromCache),t.converter)}function lp(){return new yf("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){vo=e}(Ur),Lr(new Cn("firestore",(e,n)=>{let{instanceIdentifier:r,options:o}=n;const i=e.getProvider("app").getImmediate(),s=new Zh(new Lo(e.getProvider("auth-internal")),new Fo(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Po(No.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xs(e.options.projectId,t)}(i,r),i);return o={useFetchStreams:t,...o},s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),$r(mo,go,e),$r(mo,go,"esm2020")}();function cp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const up=cp,dp=new fn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),hp=new Bn("@firebase/auth");function fp(e){if(hp.logLevel<=Nn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hp.error(`Auth (${Ur}): ${e}`,...n)}}function pp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vp(e,...n)}function mp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vp(e,...n)}function gp(e,t,n){const r={...up(),[t]:n};return new fn("auth","Firebase",r).create(t,{appName:e.name})}function yp(e){return gp(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return dp.create(e,...n)}function wp(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw vp(t,...r)}}function bp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw fp(t),new Error(t)}function kp(e,t){e||bp(t)}function _p(){return"undefined"!==typeof self&&self.location?.href||""}function Sp(){return"http:"===Cp()||"https:"===Cp()}function Cp(){return"undefined"!==typeof self&&self.location?.protocol||null}class Ep{constructor(e,t){this.shortDelay=e,this.longDelay=t,kp(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Sp()||an()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ip(e,t){kp(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class xp{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void bp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void bp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void bp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tp={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Np=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Pp=new Ep(3e4,6e4);function Ap(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Rp(e,t,n,r){return Dp(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const s=yn({key:e.config.apiKey,...i}).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:a,...o};return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Zt(e.emulatorConfig.host)&&(l.credentials="include"),xp.fetch()(await Lp(e,e.config.apiHost,n,s),l)})}async function Dp(e,t,n){e._canInitEmulator=!1;const r={...Tp,...t};try{const t=new jp(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Mp(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Mp(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Mp(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Mp(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw gp(e,a,s);pp(e,a)}}catch(AS){if(AS instanceof hn)throw AS;pp(e,"network-request-failed",{message:String(AS)})}}async function Bp(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Rp(e,t,n,r,o);return"mfaPendingCredential"in i&&pp(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function Lp(e,t,n,r){const o=`${t}${n}?${r}`,i=e,s=i.config.emulator?Ip(e.config,o):`${e.config.apiScheme}://${o}`;if(Np.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function Op(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jp{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(mp(this.auth,"network-request-failed")),Pp.get())})}}function Mp(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=mp(e,t,r);return o.customData._tokenResponse=n,o}function Fp(e){return void 0!==e&&void 0!==e.enterprise}class Up{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Op(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zp(e,t){return Rp(e,"GET","/v2/recaptchaConfig",Ap(e,t))}async function Vp(e,t){return Rp(e,"POST","/v1/accounts:lookup",t)}function $p(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(AS){}}function qp(e){return 1e3*Number(e)}function Hp(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return fp("JWT malformed, contained fewer than 3 sections"),null;try{const e=Wt(n);return e?JSON.parse(e):(fp("Failed to decode base64 JWT payload"),null)}catch(AS){return fp("Caught error parsing JWT payload as JSON",AS?.toString()),null}}function Wp(e){const t=Hp(e);return wp(t,"internal-error"),wp("undefined"!==typeof t.exp,"internal-error"),wp("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Kp(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(AS){throw AS instanceof hn&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(AS)&&e.auth.currentUser===e&&await e.auth.signOut(),AS}}class Gp{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(AS){return void("auth/network-request-failed"===AS?.code&&this.schedule(!0))}this.schedule()}}class Qp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$p(this.lastLoginAt),this.creationTime=$p(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yp(e){const t=e.auth,n=await e.getIdToken(),r=await Kp(e,Vp(t,{idToken:n}));wp(r?.users.length,t,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const i=o.providerUserInfo?.length?Xp(o.providerUserInfo):[],s=(a=e.providerData,l=i,[...a.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var a,l;const c=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!s?.length,d=!!c&&u,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Qp(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,h)}function Xp(e){return e.map(e=>{let{providerId:t,...n}=e;return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Jp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wp(e.idToken,"internal-error"),wp("undefined"!==typeof e.idToken,"internal-error"),wp("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Wp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){wp(0!==e.length,"internal-error");const t=Wp(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(wp(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await Dp(e,{},async()=>{const n=yn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=await Lp(e,r,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&Zt(e.emulatorConfig.host)&&(a.credentials="include"),xp.fetch()(i,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new Jp;return n&&(wp("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(wp("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(wp("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jp,this.toJSON())}_performRefresh(){return bp("not implemented")}}function Zp(e,t){wp("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class em{constructor(e){let{uid:t,auth:n,stsTokenManager:r,...o}=e;this.providerId="firebase",this.proactiveRefresh=new Gp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Kp(this,this.stsTokenManager.getToken(this.auth,e));return wp(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Sn(e),r=await n.getIdToken(t),o=Hp(r);wp(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,s=i?.sign_in_provider;return{claims:o,token:r,authTime:$p(qp(o.auth_time)),issuedAtTime:$p(qp(o.iat)),expirationTime:$p(qp(o.exp)),signInProvider:s||null,signInSecondFactor:i?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=Sn(e);await Yp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(wp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new em({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){wp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Yp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jr(this.auth.app))return Promise.reject(yp(this.auth));const e=await this.getIdToken();return await Kp(this,async function(e,t){return Rp(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,i=t.photoURL??void 0,s=t.tenantId??void 0,a=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:d,isAnonymous:h,providerData:f,stsTokenManager:p}=t;wp(u&&p,e,"internal-error");const m=Jp.fromJSON(this.name,p);wp("string"===typeof u,e,"internal-error"),Zp(n,e.name),Zp(r,e.name),wp("boolean"===typeof d,e,"internal-error"),wp("boolean"===typeof h,e,"internal-error"),Zp(o,e.name),Zp(i,e.name),Zp(s,e.name),Zp(a,e.name),Zp(l,e.name),Zp(c,e.name);const g=new em({uid:u,auth:e,email:r,emailVerified:d,displayName:n,isAnonymous:h,photoURL:i,phoneNumber:o,tenantId:s,stsTokenManager:m,createdAt:l,lastLoginAt:c});return f&&Array.isArray(f)&&(g.providerData=f.map(e=>({...e}))),a&&(g._redirectEventId=a),g}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Jp;r.updateFromServerResponse(t);const o=new em({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Yp(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];wp(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?Xp(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!o?.length,s=new Jp;s.updateFromIdToken(n);const a=new em({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Qp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(a,l),a}}const tm=new Map;function nm(e){kp(e instanceof Function,"Expected a class definition");let t=tm.get(e);return t?(kp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tm.set(e,t),t)}class rm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rm.type="NONE";const om=rm;function im(e,t,n){return`firebase:${e}:${t}:${n}`}class sm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=im(this.userKey,r.apiKey,o),this.fullPersistenceKey=im("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Vp(this.auth,{idToken:e}).catch(()=>{});return t?em._fromGetAccountInfoResponse(this.auth,t,e):null}return em._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new sm(nm(om),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let o=r[0]||nm(om);const i=im(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(i);if(t){let n;if("string"===typeof t){const r=await Vp(e,{idToken:t}).catch(()=>{});if(!r)break;n=await em._fromGetAccountInfoResponse(e,r,t)}else n=em._fromJSON(e,t);l!==o&&(s=n),o=l;break}}catch{}const a=r.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&a.length?(o=a[0],s&&await o._set(i,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==o)try{await e._remove(i)}catch{}})),new sm(o,e,n)):new sm(o,e,n)}}function am(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fm(t))return"Blackberry";if(pm(t))return"Webos";if(cm(t))return"Safari";if((t.includes("chrome/")||um(t))&&!t.includes("edge/"))return"Chrome";if(hm(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function lm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/firefox\//i.test(e)}function cm(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:on()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function um(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/crios\//i.test(e)}function dm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/iemobile/i.test(e)}function hm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/android/i.test(e)}function fm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/blackberry/i.test(e)}function pm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/webos/i.test(e)}function mm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gm(){return function(){const e=on();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ym(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return mm(e)||hm(e)||pm(e)||fm(e)||/windows phone/i.test(e)||dm(e)}function vm(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=am(on());break;case"Worker":t=`${am(on())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ur}/${r}`}class wm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(AS){r(AS)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(AS){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:AS?.message})}}}class bm{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class km{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sm(this),this.idTokenSubscription=new Sm(this),this.beforeStateQueue=new wm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=nm(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sm.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(AS){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Vp(this,{idToken:e}),n=await em._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,o=n?._redirectEventId,i=await this.tryRedirectSignIn(e);t&&t!==o||!i?.user||(n=i.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(AS){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(AS))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return wp(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(AS){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yp(e)}catch(AS){if("auth/network-request-failed"!==AS?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jr(this.app))return Promise.reject(yp(this));const t=e?Sn(e):null;return t&&wp(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&wp(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jr(this.app)?Promise.reject(yp(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jr(this.app)?Promise.reject(yp(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nm(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Rp(e,"GET","/v2/passwordPolicy",Ap(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new bm(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Rp(e,"POST","/v2/accounts:revokeToken",Ap(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&nm(e)||this._popupRedirectResolver;wp(t,this,"argument-error"),this.redirectPersistenceManager=await sm.create(this,[nm(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(wp(s,this,"internal-error"),s.then(()=>{i||o(this.currentUser)}),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wp(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e){if(hp.logLevel<=Nn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hp.warn(`Auth (${Ur}): ${e}`,...n)}}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _m(e){return Sn(e)}class Sm{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new bn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return wp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Em(e){return Cm.loadJS(e)}function Im(e){return`__${e}${Math.floor(1e6*Math.random())}`}class xm{constructor(){this.enterprise=new Tm}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Tm{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Nm="NO_RECAPTCHA";class Pm{constructor(e){this.type="recaptcha-enterprise",this.auth=_m(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;Fp(o)?o.enterprise.ready(()=>{o.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Nm)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new xm).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{zp(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Up(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(o=>{if(!t&&Fp(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Cm.recaptchaEnterpriseScript;0!==t.length&&(t+=o),Em(t).then(()=>{n(o,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Am(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Pm(e);let s;if(o)s=Nm;else try{s=await i.verify(n)}catch(l){s=await i.verify(n,!0)}const a={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Rm(e,t,n,r,o){if("EMAIL_PASSWORD_PROVIDER"===o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Am(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch(async o=>{if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Am(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)})}if("PHONE_PROVIDER"===o){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const o=await Am(e,t,n);return r(e,o).catch(async o=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===o.code||"auth/invalid-app-credential"===o.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const o=await Am(e,t,n,!1,!0);return r(e,o)}return Promise.reject(o)})}{const o=await Am(e,t,n,!1,!0);return r(e,o)}}return Promise.reject(o+" provider is not supported.")}async function Dm(e){const t=_m(e),n=await zp(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Up(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Pm(t).verify()}}function Bm(e,t,n){const r=_m(e);wp(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!n?.disableWarnings,i=Lm(t),{host:s,port:a}=function(e){const t=Lm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:Om(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Om(t)}}}(t),l=null===a?"":`:${a}`,c={url:`${i}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return wp(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void wp(mn(c,r.config.emulator)&&mn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Zt(s)?(en(`${i}//${s}${l}`),rn("Auth",!0)):o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Lm(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Om(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class jm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bp("not implemented")}_getIdTokenResponse(e){return bp("not implemented")}_linkToIdToken(e,t){return bp("not implemented")}_getReauthenticationResolver(e){return bp("not implemented")}}async function Mm(e,t){return Rp(e,"POST","/v1/accounts:signUp",t)}async function Fm(e,t){return Bp(e,"POST","/v1/accounts:signInWithPassword",Ap(e,t))}async function Um(e,t){return Rp(e,"POST","/v1/accounts:sendOobCode",Ap(e,t))}async function zm(e,t){return Um(e,t)}class Vm extends jm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Vm(e,t,"password")}static _fromEmailAndCode(e,t){return new Vm(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Rm(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Bp(e,"POST","/v1/accounts:signInWithEmailLink",Ap(e,t))}(e,{email:this._email,oobCode:this._password});default:pp(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Rm(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Bp(e,"POST","/v1/accounts:signInWithEmailLink",Ap(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:pp(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function $m(e,t){return Bp(e,"POST","/v1/accounts:signInWithIdp",Ap(e,t))}class qm extends jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pp("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...o}=t;if(!n||!r)return null;const i=new qm(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return $m(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$m(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$m(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yn(t)}return e}}async function Hm(e,t){return Rp(e,"POST","/v1/accounts:sendVerificationCode",Ap(e,t))}const Wm={USER_NOT_FOUND:"user-not-found"};class Km extends jm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Km({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Km({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Bp(e,"POST","/v1/accounts:signInWithPhoneNumber",Ap(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Bp(e,"POST","/v1/accounts:signInWithPhoneNumber",Ap(e,t));if(n.temporaryProof)throw Mp(e,"account-exists-with-different-credential",n);return n}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return Bp(e,"POST","/v1/accounts:signInWithPhoneNumber",Ap(e,{...t,operation:"REAUTH"}),Wm)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new Km({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class Gm{constructor(e){const t=vn(wn(e)),n=t.apiKey??null,r=t.oobCode??null,o=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);wp(n&&r&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=vn(wn(e)).link,n=t?vn(wn(t)).deep_link_id:null,r=vn(wn(e)).deep_link_id;return(r?vn(wn(r)).link:null)||r||n||t||e}(e);try{return new Gm(t)}catch{return null}}}class Qm{constructor(){this.providerId=Qm.PROVIDER_ID}static credential(e,t){return Vm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Gm.parseLink(t);return wp(n,"argument-error"),Vm._fromEmailAndCode(e,n.code,n.tenantId)}}Qm.PROVIDER_ID="password",Qm.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ym{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xm extends Ym{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jm extends Xm{constructor(){super("facebook.com")}static credential(e){return qm._fromParams({providerId:Jm.PROVIDER_ID,signInMethod:Jm.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jm.credentialFromTaggedObject(e)}static credentialFromError(e){return Jm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Jm.credential(t.oauthAccessToken)}catch{return null}}}Jm.FACEBOOK_SIGN_IN_METHOD="facebook.com",Jm.PROVIDER_ID="facebook.com";class Zm extends Xm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qm._fromParams({providerId:Zm.PROVIDER_ID,signInMethod:Zm.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zm.credentialFromTaggedObject(e)}static credentialFromError(e){return Zm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Zm.credential(n,r)}catch{return null}}}Zm.GOOGLE_SIGN_IN_METHOD="google.com",Zm.PROVIDER_ID="google.com";class eg extends Xm{constructor(){super("github.com")}static credential(e){return qm._fromParams({providerId:eg.PROVIDER_ID,signInMethod:eg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eg.credentialFromTaggedObject(e)}static credentialFromError(e){return eg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return eg.credential(t.oauthAccessToken)}catch{return null}}}eg.GITHUB_SIGN_IN_METHOD="github.com",eg.PROVIDER_ID="github.com";class tg extends Xm{constructor(){super("twitter.com")}static credential(e,t){return qm._fromParams({providerId:tg.PROVIDER_ID,signInMethod:tg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tg.credentialFromTaggedObject(e)}static credentialFromError(e){return tg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return tg.credential(n,r)}catch{return null}}}async function ng(e,t){return Bp(e,"POST","/v1/accounts:signUp",Ap(e,t))}tg.TWITTER_SIGN_IN_METHOD="twitter.com",tg.PROVIDER_ID="twitter.com";class rg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await em._fromIdTokenResponse(e,n,r),i=og(n);return new rg({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=og(n);return new rg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function og(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ig extends hn{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ig.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ig(e,t,n,r)}}function sg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw ig._fromErrorAndOperation(e,n,t,r);throw n})}async function ag(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Kp(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return rg._forOperation(e,"link",r)}async function lg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(jr(r.app))return Promise.reject(yp(r));const o="reauthenticate";try{const i=await Kp(e,sg(r,o,t,e),n);wp(i.idToken,r,"internal-error");const s=Hp(i.idToken);wp(s,r,"internal-error");const{sub:a}=s;return wp(e.uid===a,r,"user-mismatch"),rg._forOperation(e,o,i)}catch(AS){throw"auth/user-not-found"===AS?.code&&pp(r,"user-mismatch"),AS}}async function cg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(jr(e.app))return Promise.reject(yp(e));const r="signIn",o=await sg(e,r,t),i=await rg._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function ug(e,t){return cg(_m(e),t)}function dg(e,t,n){wp(n.url?.length>0,e,"invalid-continue-uri"),wp("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),wp("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(wp(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(wp(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function hg(e){const t=_m(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function fg(e,t,n){if(jr(e.app))return Promise.reject(yp(e));const r=_m(e),o=Rm(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ng,"EMAIL_PASSWORD_PROVIDER"),i=await o.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&hg(e),t}),s=await rg._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function pg(e,t,n){return jr(e.app)?Promise.reject(yp(e)):ug(Sn(e),Qm.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&hg(e),t})}async function mg(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=Sn(e),i={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Kp(o,async function(e,t){return Rp(e,"POST","/v1/accounts:update",t)}(o.auth,i));o.displayName=s.displayName||null,o.photoURL=s.photoUrl||null;const a=o.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=o.displayName,a.photoURL=o.photoURL),await o._updateTokensIfNecessary(s)}function gg(e){return Sn(e).signOut()}function yg(e,t){return Rp(e,"POST","/v2/accounts/mfaEnrollment:start",Ap(e,t))}new WeakMap;const vg="__sak";class wg{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vg,"1"),this.storage.removeItem(vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class bg extends wg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ym(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);gm()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bg.type="LOCAL";const kg=bg;function _g(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function Sg(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Cg{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Sg(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return _g(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Sg(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Sg(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=_g(n);const o=setInterval(()=>{const e=_g(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(o))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Cg.type="COOKIE";class Eg extends wg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Eg.type="SESSION";const Ig=Eg;class xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new xg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(!i?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map(async e=>e(t.origin,o)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Tg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xg.receivers=[];class Ng{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise((s,a)=>{const l=Tg("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(t.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Pg(){return window}function Ag(){return"undefined"!==typeof Pg().WorkerGlobalScope&&"function"===typeof Pg().importScripts}const Rg="firebaseLocalStorageDb",Dg="firebaseLocalStorage",Bg="fbase_key";class Lg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Og(e,t){return e.transaction([Dg],t?"readwrite":"readonly").objectStore(Dg)}function jg(){const e=indexedDB.open(Rg,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Dg,{keyPath:Bg})}catch(AS){n(AS)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Dg)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Rg);return new Lg(e).toPromise()}(),t(await jg()))})})}async function Mg(e,t,n){const r=Og(e,!0).put({[Bg]:t,value:n});return new Lg(r).toPromise()}function Fg(e,t){const n=Og(e,!0).delete(t);return new Lg(n).toPromise()}class Ug{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await jg()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(AS){if(t++>3)throw AS;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ag()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xg._getInstance(Ag()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Ng(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await Mg(e,vg,"1"),await Fg(e,vg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mg(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Og(e,!1).get(t),r=await new Lg(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Fg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Og(e,!1).getAll();return new Lg(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ug.type="LOCAL";const zg=Ug;function Vg(e,t){return Rp(e,"POST","/v2/accounts/mfaSignIn:start",Ap(e,t))}Im("rcb"),new Ep(3e4,6e4);const $g="recaptcha";async function qg(e,t,n){if(!e._getRecaptchaConfig())try{await Dm(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){wp("enroll"===t.type,e,"internal-error");const o={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Rm(e,o,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Nm){wp(n?.type===$g,e,"argument-error");return yg(e,await Hg(e,t,n))}return yg(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{wp("signin"===t.type,e,"internal-error");const o=r.multiFactorHint?.uid||r.multiFactorUid;wp(o,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Rm(e,i,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Nm){wp(n?.type===$g,e,"argument-error");return Vg(e,await Hg(e,t,n))}return Vg(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},o=Rm(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Nm){wp(n?.type===$g,e,"argument-error");return Hm(e,await Hg(e,t,n))}return Hm(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function Hg(e,t,n){wp(n.type===$g,e,"argument-error");const r=await n.verify();wp("string"===typeof r,e,"argument-error");const o={...t};if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,n=o.phoneEnrollmentInfo.clientType,i=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,n=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),o}return Object.assign(o,{recaptchaToken:r}),o}class Wg{constructor(e){this.providerId=Wg.PROVIDER_ID,this.auth=_m(e)}verifyPhoneNumber(e,t){return qg(this.auth,e,Sn(t))}static credential(e,t){return Km._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wg.credentialFromTaggedObject(t)}static credentialFromError(e){return Wg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Km._fromTokenResponse(n,r):null}}function Kg(e,t){return t?nm(t):(wp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Wg.PROVIDER_ID="phone",Wg.PHONE_SIGN_IN_METHOD="phone";class Gg extends jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $m(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $m(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $m(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Qg(e){return cg(e.auth,new Gg(e),e.bypassAuthState)}function Yg(e){const{auth:t,user:n}=e;return wp(n,t,"internal-error"),lg(n,new Gg(e),e.bypassAuthState)}async function Xg(e){const{auth:t,user:n}=e;return wp(n,t,"internal-error"),ag(n,new Gg(e),e.bypassAuthState)}class Jg{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(AS){this.reject(AS)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:s}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(AS){this.reject(AS)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qg;case"linkViaPopup":case"linkViaRedirect":return Xg;case"reauthViaPopup":case"reauthViaRedirect":return Yg;default:pp(this.auth,"internal-error")}}resolve(e){kp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zg=new Ep(2e3,1e4);class ey extends Jg{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,ey.currentPopupAction&&ey.currentPopupAction.cancel(),ey.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wp(e,this.auth,"internal-error"),e}async onExecution(){kp(1===this.filter.length,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(mp(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mp(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ey.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mp(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Zg.get())};e()}}ey.currentPopupAction=null;const ty=new Map;class ny extends Jg{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ty.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=iy(t),r=oy(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(AS){e=()=>Promise.reject(AS)}ty.set(this.auth._key(),e)}return this.bypassAuthState||ty.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ry(e,t){ty.set(e._key(),t)}function oy(e){return nm(e._redirectPersistence)}function iy(e){return im("pendingRedirect",e.config.apiKey,e.name)}async function sy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(jr(e.app))return Promise.reject(yp(e));const r=_m(e),o=Kg(r,t),i=new ny(r,o,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class ay{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cy(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!cy(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(mp(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ly(e))}saveEventToCache(e){this.cachedEventUids.add(ly(e)),this.lastProcessedEventTime=Date.now()}}function ly(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function cy(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===n?.code}const uy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dy=/^https?/;async function hy(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Rp(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(fy(n))return}catch{}pp(e,"unauthorized-domain")}function fy(e){const t=_p(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!dy.test(n))return!1;if(uy.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const py=new Ep(3e4,6e4);function my(){const e=Pg().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function gy(e){return new Promise((t,n)=>{function r(){my(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{my(),n(mp(e,"network-request-failed"))},timeout:py.get()})}if(Pg().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!Pg().gapi?.load){const t=Im("iframefcb");return Pg()[t]=()=>{gapi.load?r():n(mp(e,"network-request-failed"))},Em(`${Cm.gapiScript}?onload=${t}`).catch(e=>n(e))}r()}}).catch(e=>{throw yy=null,e})}let yy=null;const vy=new Ep(5e3,15e3),wy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},by=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ky(e){const t=e.config;wp(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ip(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Ur},o=by.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${yn(r).slice(1)}`}async function _y(e){const t=await function(e){return yy=yy||gy(e),yy}(e),n=Pg().gapi;return wp(n,e,"internal-error"),t.open({where:document.body,url:ky(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wy,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=mp(e,"network-request-failed"),i=Pg().setTimeout(()=>{r(o)},vy.get());function s(){Pg().clearTimeout(i),n(t)}t.ping(s).then(s,()=>{r(o)})}))}const Sy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(AS){}}}function Ey(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Sy,width:r.toString(),height:o.toString(),top:i,left:s},c=on().toLowerCase();n&&(a=um(c)?"_blank":n),lm(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){return mm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:on())&&!!window.navigator?.standalone}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Cy(null);const d=window.open(t||"",a,u);wp(d,e,"popup-blocked");try{d.focus()}catch(AS){}return new Cy(d)}const Iy="__/auth/handler",xy="emulator/auth/handler",Ty=encodeURIComponent("fac");async function Ny(e,t,n,r,o,i){wp(e.config.authDomain,e,"auth-domain-config-required"),wp(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ur,eventId:o};if(t instanceof Ym){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof Xm){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${Ty}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Iy}`;return Ip(t,xy)}(e)}?${yn(a).slice(1)}${c}`}const Py="webStorageSupport";const Ay=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ig,this._completeRedirectFn=sy,this._overrideRedirectResult=ry}async _openPopup(e,t,n,r){kp(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return Ey(e,await Ny(e,t,n,_p(),r),Tg())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Pg().location.href=e}(await Ny(e,t,n,_p(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(kp(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await _y(e),n=new ay(e);return t.register("authEvent",t=>{wp(t?.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Py,{type:Py},n=>{const r=n?.[0]?.[Py];void 0!==r&&t(!!r),pp(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hy(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ym()||cm()||mm()}};var Ry="@firebase/auth",Dy="1.11.0";class By{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){wp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ly=Xt("authIdTokenMaxAge")||300;let Oy=null;var jy;Cm={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=mp("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},jy="Browser",Lr(new Cn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;wp(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:jy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vm(jy)},c=new km(r,o,i,l);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(nm);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Lr(new Cn("auth-internal",e=>(e=>new By(e))(_m(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),$r(Ry,Dy,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(jy)),$r(Ry,Dy,"esm2020");$r("firebase","12.0.0","app");const My="@firebase/installations",Fy="0.6.19",Uy=1e4,zy=`w:${Fy}`,Vy="FIS_v2",$y=36e5,qy=new fn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Hy(e){return e instanceof hn&&e.code.includes("request-failed")}function Wy(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Ky(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Gy(e,t){const n=(await t.json()).error;return qy.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Qy(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Yy(e,t){let{refreshToken:n}=t;const r=Qy(e);return r.append("Authorization",function(e){return`${Vy} ${e}`}(n)),r}async function Xy(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Jy(e){return new Promise(t=>{setTimeout(t,e)})}const Zy=/^[cdef][\w-]{21}$/;function ev(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Zy.test(t)?t:""}catch{return""}}function tv(e){return`${e.appName}!${e.appId}`}const nv=new Map;function rv(e,t){const n=tv(e);ov(n,t),function(e,t){const n=sv();n&&n.postMessage({key:e,fid:t});av()}(n,t)}function ov(e,t){const n=nv.get(e);if(n)for(const r of n)r(t)}let iv=null;function sv(){return!iv&&"BroadcastChannel"in self&&(iv=new BroadcastChannel("[Firebase] FID Change"),iv.onmessage=e=>{ov(e.data.key,e.data.fid)}),iv}function av(){0===nv.size&&iv&&(iv.close(),iv=null)}const lv="firebase-installations-store";let cv=null;function uv(){return cv||(cv=Kn("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(lv)}})),cv}async function dv(e,t){const n=tv(e),r=(await uv()).transaction(lv,"readwrite"),o=r.objectStore(lv),i=await o.get(n);return await o.put(t,n),await r.done,i&&i.fid===t.fid||rv(e,t.fid),t}async function hv(e){const t=tv(e),n=(await uv()).transaction(lv,"readwrite");await n.objectStore(lv).delete(t),await n.done}async function fv(e,t){const n=tv(e),r=(await uv()).transaction(lv,"readwrite"),o=r.objectStore(lv),i=await o.get(n),s=t(i);return void 0===s?await o.delete(n):await o.put(s,n),await r.done,!s||i&&i.fid===s.fid||rv(e,s.fid),s}async function pv(e){let t;const n=await fv(e.appConfig,n=>{const r=function(e){const t=e||{fid:ev(),registrationStatus:0};return yv(t)}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(qy.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:o}=t;const i=Wy(n),s=Qy(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:o,authVersion:Vy,appId:n.appId,sdkVersion:zy},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await Xy(()=>fetch(i,c));if(u.ok){const e=await u.json();return{fid:e.fid||o,registrationStatus:2,refreshToken:e.refreshToken,authToken:Ky(e.authToken)}}throw await Gy("Create Installation",u)}(e,t);return dv(e.appConfig,n)}catch(AS){throw Hy(AS)&&409===AS.customData.serverCode?await hv(e.appConfig):await dv(e.appConfig,{fid:t.fid,registrationStatus:0}),AS}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:mv(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function mv(e){let t=await gv(e.appConfig);for(;1===t.registrationStatus;)await Jy(100),t=await gv(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await pv(e);return n||t}return t}function gv(e){return fv(e,e=>{if(!e)throw qy.create("installation-not-found");return yv(e)})}function yv(e){return 1===(t=e).registrationStatus&&t.registrationTime+Uy<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function vv(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const o=function(e,t){let{fid:n}=t;return`${Wy(e)}/${n}/authTokens:generate`}(n,t),i=Yy(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={installation:{sdkVersion:zy,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await Xy(()=>fetch(o,l));if(c.ok){return Ky(await c.json())}throw await Gy("Generate Auth Token",c)}async function wv(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await fv(e.appConfig,r=>{if(!kv(r))throw qy.create("not-registered");const o=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+$y}(e)}(o))return r;if(1===o.requestStatus)return t=async function(e,t){let n=await bv(e.appConfig);for(;1===n.authToken.requestStatus;)await Jy(100),n=await bv(e.appConfig);const r=n.authToken;return 0===r.requestStatus?wv(e,t):r}(e,n),r;{if(!navigator.onLine)throw qy.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}(r);return t=async function(e,t){try{const n=await vv(e,t),r={...t,authToken:n};return await dv(e.appConfig,r),n}catch(AS){if(!Hy(AS)||401!==AS.customData.serverCode&&404!==AS.customData.serverCode){const n={...t,authToken:{requestStatus:0}};await dv(e.appConfig,n)}else await hv(e.appConfig);throw AS}}(e,n),n}});return t?await t:r.authToken}function bv(e){return fv(e,e=>{if(!kv(e))throw qy.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Uy<Date.now()?{...e,authToken:{requestStatus:0}}:e;var n})}function kv(e){return void 0!==e&&2===e.registrationStatus}async function _v(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await pv(e);t&&await t}(n);return(await wv(n,t)).token}function Sv(e){return qy.create("missing-app-config-values",{valueName:e})}const Cv="installations",Ev=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Sv("App Configuration");if(!e.name)throw Sv("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Sv(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Or(t,"heartbeat"),_delete:()=>Promise.resolve()}},Iv=e=>{const t=Or(e.getProvider("app").getImmediate(),Cv).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await pv(t);return r?r.catch(console.error):wv(t).catch(console.error),n.fid}(t),getToken:e=>_v(t,e)}};Lr(new Cn(Cv,Ev,"PUBLIC")),Lr(new Cn("installations-internal",Iv,"PRIVATE")),$r(My,Fy),$r(My,Fy,"esm2020");const xv="analytics",Tv="https://www.googletagmanager.com/gtag/js",Nv=new Bn("@firebase/analytics"),Pv=new fn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Av(e){if(!e.startsWith(Tv)){const t=Pv.create("invalid-gtag-resource",{gtagURL:e});return Nv.warn(t.message),""}return e}function Rv(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Dv(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Av}),r=document.createElement("script"),o=`${Tv}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Bv(e,t,n,r){return async function(o){try{for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if("event"===o){const[r,o]=s;await async function(e,t,n,r,o){try{let i=[];if(o&&o.send_to){let e=o.send_to;Array.isArray(e)||(e=[e]);const r=await Rv(n);for(const n of e){const e=r.find(e=>e.measurementId===n),o=e&&t[e.appId];if(!o){i=[];break}i.push(o)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,o||{})}catch(AS){Nv.error(AS)}}(e,t,n,r,o)}else if("config"===o){const[o,i]=s;await async function(e,t,n,r,o,i){const s=r[o];try{if(s)await t[s];else{const e=(await Rv(n)).find(e=>e.measurementId===o);e&&await t[e.appId]}}catch(AS){Nv.error(AS)}e("config",o,i)}(e,t,n,r,o,i)}else if("consent"===o){const[t,n]=s;e("consent",t,n)}else if("get"===o){const[t,n,r]=s;e("get",t,n,r)}else if("set"===o){const[t]=s;e("set",t)}else e(o,...s)}catch(AS){Nv.error(AS)}}}const Lv=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ov(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function jv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lv,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:o,measurementId:i}=e.options;if(!r)throw Pv.create("no-app-id");if(!o){if(i)return{measurementId:i,appId:r};throw Pv.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Fv;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),Mv({appId:r,apiKey:o,measurementId:i},s,a,t)}async function Mv(e,t,n){let{throttleEndTimeMillis:r,backoffCount:o}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lv;const{appId:s,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),i=setTimeout(n,o);e.addEventListener(()=>{clearTimeout(i),r(Pv.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(AS){if(a)return Nv.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${AS?.message}]`),{appId:s,measurementId:a};throw AS}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:Ov(n)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),i=await fetch(o,r);if(200!==i.status&&304!==i.status){let e="";try{const t=await i.json();t.error?.message&&(e=t.error.message)}catch(s){}throw Pv.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return i.deleteThrottleMetadata(s),t}catch(AS){const r=AS;if(!function(e){if(!(e instanceof hn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(i.deleteThrottleMetadata(s),a)return Nv.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${r?.message}]`),{appId:s,measurementId:a};throw AS}const l=503===Number(r?.customData?.httpStatus)?_n(o,i.intervalMillis,30):_n(o,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1};return i.setThrottleMetadata(s,c),Nv.debug(`Calling attemptFetch again in ${l} millis`),Mv(e,c,n,i)}}class Fv{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Uv,zv;function Vv(e){zv=e}function $v(e){Uv=e}async function qv(e,t,n,r,o,i,s){const a=jv(e);a.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Nv.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Nv.error(e)),t.push(a);const l=async function(){if(!cn())return Nv.warn(Pv.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await un()}catch(AS){return Nv.warn(Pv.create("indexeddb-unavailable",{errorInfo:AS?.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[c,u]=await Promise.all([a,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Tv)&&n.src.includes(e))return n;return null})(i)||Dv(i,c.measurementId),zv&&(o("consent","default",zv),Vv(void 0)),o("js",new Date);const d=s?.config??{};return d.origin="firebase",d.update=!0,null!=u&&(d.firebase_id=u),o("config",c.measurementId,d),Uv&&(o("set",Uv),$v(void 0)),c.measurementId}class Hv{constructor(e){this.app=e}_delete(){return delete Wv[this.app.options.appId],Promise.resolve()}}let Wv={},Kv=[];const Gv={};let Qv,Yv,Xv="dataLayer",Jv="gtag",Zv=!1;function ew(e,t,n){!function(){const e=[];if(an()&&e.push("This is a browser extension environment."),dn()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Pv.create("invalid-analytics-context",{errorInfo:t});Nv.warn(n.message)}}();const r=e.options.appId;if(!r)throw Pv.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Pv.create("no-api-key");Nv.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wv[r])throw Pv.create("already-exists",{id:r});if(!Zv){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Xv);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,o){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[o]&&"function"===typeof window[o]&&(i=window[o]),window[o]=Bv(i,e,t,n),{gtagCore:i,wrappedGtag:window[o]}}(Wv,Kv,Gv,Xv,Jv);Yv=e,Qv=t,Zv=!0}Wv[r]=qv(e,Kv,Gv,t,Qv,Xv,n);return new Hv(e)}function tw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();e=Sn(e);const t=Or(e,xv);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Or(e,xv);if(n.isInitialized()){const e=n.getImmediate();if(mn(t,n.getOptions()))return e;throw Pv.create("already-initialized")}const r=n.initialize({options:t});return r}(e)}const nw="@firebase/analytics",rw="0.10.18";Lr(new Cn(xv,(e,t)=>{let{options:n}=t;return ew(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Lr(new Cn("analytics-internal",function(e){try{const t=e.getProvider(xv).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=Sn(e),async function(e,t,n,r,o){if(o&&o.global)e("event",n,r);else{const o=await t;e("event",n,{...r,send_to:o})}}(Yv,Wv[e.app.options.appId],t,n,r).catch(e=>Nv.error(e))}(t,e,n,r)}}catch(AS){throw Pv.create("interop-component-reg-failed",{reason:AS})}},"PRIVATE")),$r(nw,rw),$r(nw,rw,"esm2020");const ow="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",iw="google.c.a.c_id",sw=1e4;var aw,lw;function cw(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function uw(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(aw||(aw={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(lw||(lw={}));const dw="fcm_token_details_db",hw="fcm_token_object_Store";const fw="firebase-messaging-store";let pw=null;function mw(){return pw||(pw=Kn("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(fw)}})),pw}async function gw(e){const t=vw(e),n=await mw(),r=await n.transaction(fw).objectStore(fw).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(dw))return null}let t=null;return(await Kn(dw,5,{upgrade:async(n,r,o,i)=>{if(r<2)return;if(!n.objectStoreNames.contains(hw))return;const s=i.objectStore(hw),a=await s.index("fcmSenderId").get(e);if(await s.clear(),a)if(2===r){const e=a;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:e.createTime??Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:cw(e.vapidKey)}}}else if(3===r){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:cw(e.auth),p256dh:cw(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:cw(e.vapidKey)}}}else if(4===r){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:cw(e.auth),p256dh:cw(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:cw(e.vapidKey)}}}}})).close(),await Gn(dw),await Gn("fcm_vapid_details_db"),await Gn("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await yw(e,t),t}}async function yw(e,t){const n=vw(e),r=(await mw()).transaction(fw,"readwrite");return await r.objectStore(fw).put(t,n),await r.done,t}function vw(e){let{appConfig:t}=e;return t.appId}const ww=new fn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function bw(e,t){const n={method:"DELETE",headers:await _w(e)};try{const r=await fetch(`${kw(e.appConfig)}/${t}`,n),o=await r.json();if(o.error){const e=o.error.message;throw ww.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw ww.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}}function kw(e){let{projectId:t}=e;return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}async function _w(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function Sw(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:o}=e;const i={web:{endpoint:r,auth:n,p256dh:t}};return o!==ow&&(i.web.applicationPubKey=o),i}async function Cw(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:uw(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:cw(t.getKey("auth")),p256dh:cw(t.getKey("p256dh"))},r=await gw(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,o=t.auth===e.auth,i=t.p256dh===e.p256dh;return n&&r&&o&&i}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await _w(e),r=Sw(t.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{const n=await fetch(`${kw(e.appConfig)}/${t.token}`,o);i=await n.json()}catch(s){throw ww.create("token-update-failed",{errorInfo:s?.toString()})}if(i.error){const e=i.error.message;throw ww.create("token-update-failed",{errorInfo:e})}if(!i.token)throw ww.create("token-update-no-token");return i.token}(e.firebaseDependencies,t),r={...t,token:n,createTime:Date.now()};return await yw(e.firebaseDependencies,r),n}catch(AS){throw AS}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await bw(e.firebaseDependencies,r.token)}catch(AS){console.warn(AS)}return Ew(e.firebaseDependencies,n)}return Ew(e.firebaseDependencies,n)}async function Ew(e,t){const n=await async function(e,t){const n=await _w(e),r=Sw(t),o={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{const t=await fetch(kw(e.appConfig),o);i=await t.json()}catch(s){throw ww.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(i.error){const e=i.error.message;throw ww.create("token-subscribe-failed",{errorInfo:e})}if(!i.token)throw ww.create("token-subscribe-no-token");return i.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await yw(e,r),r.token}function Iw(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const o=t.notification.image;o&&(e.notification.image=o);const i=t.notification.icon;i&&(e.notification.icon=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const n=t.fcmOptions?.link??t.notification?.click_action;n&&(e.fcmOptions.link=n);const r=t.fcmOptions?.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function xw(e){return ww.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Tw{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw xw("App Configuration Object");if(!e.name)throw xw("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw xw(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Nw(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Service worker not registered after 10000 ms")),sw),o=e.installing||e.waiting;e.active?(clearTimeout(r),t()):o?o.onstatechange=e=>{"activated"===e.target?.state&&(o.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}(e.swRegistration)}catch(AS){throw ww.create("failed-service-worker-registration",{browserErrorMessage:AS?.message})}}async function Pw(e,t){if(!navigator)throw ww.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw ww.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=ow)}(e,t?.vapidKey),await async function(e,t){if(t||e.swRegistration||await Nw(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw ww.create("invalid-sw-registration");e.swRegistration=t}}(e,t?.serviceWorkerRegistration),Cw(e)}async function Aw(e,t,n){const r=function(e){switch(e){case lw.NOTIFICATION_CLICKED:return"notification_open";case lw.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[iw],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function Rw(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===lw.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(Iw(n)):e.onMessageHandler.next(Iw(n)));const r=n.data;(function(e){return"object"===typeof e&&!!e&&iw in e})(r)&&"1"===r["google.c.a.e"]&&await Aw(e,n.messageType,r)}const Dw="@firebase/messaging",Bw="0.12.23",Lw=e=>{const t=new Tw(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>Rw(t,e)),t},Ow=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>Pw(t,e)}};function jw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return async function(){try{await un()}catch(AS){return!1}return"undefined"!==typeof window&&cn()&&dn()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then(e=>{if(!e)throw ww.create("unsupported-browser")},e=>{throw ww.create("indexed-db-unsupported")}),Or(Sn(e),"messaging").getImmediate()}Lr(new Cn("messaging",Lw,"PUBLIC")),Lr(new Cn("messaging-internal",Ow,"PRIVATE")),$r(Dw,Bw),$r(Dw,Bw,"esm2020");const Mw={apiKey:"AIzaSyB27nVr6lKWiTgj0lW0wQx5m1-lslhMipw",authDomain:"fans-food-stf.firebaseapp.com",projectId:"fans-food-stf",storageBucket:"fans-food-stf.firebasestorage.app",messagingSenderId:"267118373830",appId:"1:267118373830:web:dbec72cb78e58940fc60c7",measurementId:"G-0J0Q8GCTX4"},Fw=zr(Mw);let Uw=null;(async()=>{try{const e="undefined"!==typeof window,t=!!e&&navigator.onLine,n=!!e&&await async function(){if(an())return!1;if(!dn())return!1;if(!cn())return!1;try{return await un()}catch(e){return!1}}().catch(()=>!1),r=e&&("https:"===window.location.protocol||"localhost"===window.location.hostname);e&&t&&n&&r&&Mw.measurementId?Uw=tw(Fw):console.warn("Analytics not initialized (supported:",n,"online:",t,"https/local:",r,")")}catch(e){console.warn("Firebase Analytics not supported in this environment:",e)}})();const zw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();const t=Or(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Or(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(mn(n.getOptions(),t??{}))return e;pp(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ay,persistence:[zg,kg,Ig]}),r=Xt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(o=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ly)return;const r=t?.token;Oy!==r&&(Oy=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Sn(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Sn(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var o;const i=Qt("auth");return i&&Bm(n,`http://${i}`),n}(Fw),Vw=function(e,t){const n="object"==typeof e?e:Vr(),r="string"==typeof e?e:t||Is,o=Or(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=(e=>{const t=Qt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&$h(o,...e)}return o}(Fw);let $w=null,qw=!1;const Hw=()=>{if(qw)return $w;try{const e="undefined"!==typeof window&&"serviceWorker"in navigator,t="undefined"!==typeof window&&"PushManager"in window,n="undefined"!==typeof window&&"Notification"in window,r="undefined"!==typeof window&&window.isSecureContext;e&&t&&n&&r?($w=jw(Fw),console.log("Firebase Messaging initialized successfully")):(console.warn("Firebase Messaging not supported in this environment"),$w=null)}catch(e){console.warn("Firebase Messaging initialization failed:",e.message||e),$w=null}return qw=!0,$w},Ww=async()=>{try{if(!Hw())throw new Error("Firebase Messaging not supported");return"granted"===await Notification.requestPermission()?(console.log("Notification permission granted."),"granted"):(console.log("Notification permission denied."),null)}catch(e){return console.error("An error occurred while requesting permission:",e),null}};class Kw{constructor(){let{id:e="",email:t="",phone:n="",firstName:r="",lastName:o="",image:i=null,fcmToken:s="",favoriteFoods:a=[],favoriteRestaurants:l=[],createdAt:c=new Date,updatedAt:u=new Date,isActive:d=!0,type:h="customer"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=e,this.email=t,this.phone=n,this.firstName=r,this.lastName=o,this.image=i,this.fcmToken=s,this.favoriteFoods=a,this.favoriteRestaurants=l,this.createdAt=c,this.updatedAt=u,this.isActive=d,this.type=h}static fromMap(e,t){const n=e=>{if(e&&"function"===typeof e.toDate)return e.toDate();if(e instanceof Date)return e;if("number"===typeof e)return new Date(e<1e12?1e3*e:e);if("string"===typeof e){const t=new Date(e);if(!isNaN(t.getTime()))return t}return new Date};return new Kw({id:e,email:t.email||"",phone:t.phone||"",firstName:t.firstName||"",lastName:t.lastName||"",image:t.image||null,fcmToken:t.fcmToken||"",favoriteFoods:t.favoriteFoods||[],favoriteRestaurants:t.favoriteRestaurants||[],createdAt:n(t.createdAt),updatedAt:n(t.updatedAt),isActive:void 0===t.isActive||t.isActive,type:t.type||"customer"})}toMap(){return{id:this.id,email:this.email,phone:this.phone,firstName:this.firstName,lastName:this.lastName,image:this.image,fcmToken:this.fcmToken,favoriteFoods:this.favoriteFoods,favoriteRestaurants:this.favoriteRestaurants,createdAt:this.createdAt,updatedAt:new Date,isActive:this.isActive,type:this.type}}getFullName(){return`${this.firstName} ${this.lastName}`.trim()}getDisplayName(){return this.firstName||"User"}addToFavoriteFoods(e){this.favoriteFoods.includes(e)||(this.favoriteFoods.push(e),this.updatedAt=new Date)}removeFromFavoriteFoods(e){this.favoriteFoods=this.favoriteFoods.filter(t=>t!==e),this.updatedAt=new Date}addFavoriteRestaurant(e){return this.favoriteRestaurants.includes(e)?this:new Kw({...this.toMap(),favoriteRestaurants:[...this.favoriteRestaurants,e]})}removeFavoriteRestaurant(e){return new Kw({...this.toMap(),favoriteRestaurants:this.favoriteRestaurants.filter(t=>t!==e)})}updateProfile(e){return new Kw({...this.toMap(),...e})}}const Gw=new class{constructor(){this.collectionName="customers"}async registerUser(e){try{const{email:t,password:n,firstName:r,lastName:o,phone:i}=e,s=(()=>{if(!i)return"";const e=String(i).trim();return(e.startsWith("+")?"+":"")+e.replace(/\D/g,"")||e})(),a=(await fg(zw,t,n)).user;await mg(a,{displayName:`${r} ${o}`});const l=new Kw({id:a.uid,email:a.email,firstName:r,lastName:o,phone:s,fcmToken:"",favoriteFoods:[],favoriteRestaurants:[],createdAt:new Date,updatedAt:new Date,isActive:!0,type:"customer"}),c={...l.toMap(),createdAt:lp(),updatedAt:lp()};return await rp(Gh(Vw,this.collectionName,a.uid),c),{success:!0,user:l}}catch(t){return console.error("Error registering user:",t),"auth/email-already-in-use"===t.code?{success:!1,error:"This email is already registered. Please try signing in instead."}:"auth/weak-password"===t.code?{success:!1,error:"Password is too weak. Please choose a stronger password (at least 6 characters)."}:"auth/invalid-email"===t.code?{success:!1,error:"Please enter a valid email address."}:"auth/operation-not-allowed"===t.code?{success:!1,error:"Email/password accounts are not enabled. Please contact support."}:"auth/too-many-requests"===t.code?{success:!1,error:"Too many failed attempts. Please try again later."}:{success:!1,error:"Registration failed. Please try again."}}}async signInUser(e,t){try{const n=(await pg(zw,e,t)).user,r=await ep(Gh(Vw,this.collectionName,n.uid));if(!r.exists())throw new Error("User data not found. Please contact support.");const o=Kw.fromMap(n.uid,r.data());return await this.updateLastActive(o.id),o}catch(n){throw console.error("Error signing in user:",n),new Error(this.getErrorMessage(n.code))}}async signOutUser(){try{await gg(zw)}catch(e){throw console.error("Error signing out:",e),new Error("Failed to sign out. Please try again.")}}async getUserById(e){try{const t=await ep(Gh(Vw,this.collectionName,e));return t.exists()?Kw.fromMap(e,t.data()):null}catch(t){return console.error("Error getting user:",t),null}}async updateUserProfile(e,t){try{const n={...t,updatedAt:lp()};await op(Gh(Vw,this.collectionName,e),n)}catch(n){throw console.error("Error updating user profile:",n),new Error("Failed to update profile. Please try again.")}}async updateLastActive(e){try{await op(Gh(Vw,this.collectionName,e),{updatedAt:lp()})}catch(t){console.error("Error updating last active:",t)}}async addFavoriteFood(e,t){try{const n=await this.getUserById(e);n&&(n.addToFavoriteFoods(t),await op(Gh(Vw,this.collectionName,e),{favoriteFoods:n.favoriteFoods,updatedAt:lp()}))}catch(n){throw console.error("Error adding favorite food:",n),new Error("Failed to add to favorites. Please try again.")}}async removeFavoriteFood(e,t){try{const n=await this.getUserById(e);n&&(n.removeFromFavoriteFoods(t),await op(Gh(Vw,this.collectionName,e),{favoriteFoods:n.favoriteFoods,updatedAt:lp()}))}catch(n){throw console.error("Error removing favorite food:",n),new Error("Failed to remove from favorites. Please try again.")}}async addFavoriteRestaurant(e,t){try{const n=await this.getUserById(e);if(n){const r=n.addFavoriteRestaurant(t);await op(Gh(Vw,this.collectionName,e),{favoriteRestaurants:r.favoriteRestaurants,updatedAt:lp()})}}catch(n){throw console.error("Error adding favorite restaurant:",n),new Error("Failed to add to favorites. Please try again.")}}getErrorMessage(e){return{"auth/email-already-in-use":"This email is already registered. Please sign in instead.","auth/invalid-email":"Please enter a valid email address.","auth/operation-not-allowed":"Email/password accounts are not enabled. Please contact support.","auth/weak-password":"Password should be at least 6 characters long.","auth/user-disabled":"This account has been disabled. Please contact support.","auth/user-not-found":"No account found with this email address.","auth/wrong-password":"Incorrect password. Please try again.","auth/invalid-credential":"Invalid email or password. Please check your credentials.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/network-request-failed":"Network error. Please check your connection and try again."}[e]||"An unexpected error occurred. Please try again."}getFallbackUser(){return new Kw({id:"demo-user",email:"demo@foodmunch.com",firstName:"Demo",lastName:"User",phone:"+1 (555) 123-4567",fcmToken:"",favoriteFoods:[],favoriteRestaurants:[],createdAt:new Date,updatedAt:new Date,isActive:!0,type:"customer"})}};var Qw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Yw=e.createContext&&e.createContext(Qw),Xw=["attr","size","title"];function Jw(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zw.apply(this,arguments)}function eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(n),!0).forEach(function(t){nb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rb(t){return t&&t.map((t,n)=>e.createElement(t.tag,tb({key:n},t.attr),rb(t.child)))}function ob(t){return n=>e.createElement(ib,Zw({attr:tb({},t.attr)},n),rb(t.child))}function ib(t){var n=n=>{var r,{attr:o,size:i,title:s}=t,a=Jw(t,Xw),l=i||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",Zw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,a,{className:r,style:tb(tb({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&e.createElement("title",null,s),t.children)};return void 0!==Yw?e.createElement(Yw.Consumer,null,e=>n(e)):n(Qw)}function sb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(e)}function ab(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function lb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"},child:[]}]})(e)}function cb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},child:[]}]})(e)}function ub(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(e)}function db(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},child:[]}]})(e)}function hb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(e)}function fb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(e)}function pb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function mb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},child:[]}]})(e)}function gb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(e)}function yb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(e)}function vb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(e)}function wb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function bb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"},child:[]}]})(e)}function kb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(e)}function _b(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},child:[]}]})(e)}function Sb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(e)}function Cb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2l-1.5 1.5zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11v14z"},child:[]},{tag:"path",attr:{d:"M9 7h6v2H9zM16 7h2v2h-2zM9 10h6v2H9zM16 10h2v2h-2z"},child:[]}]})(e)}function Eb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(e)}function Ib(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m8.1 13.34 2.83-2.83L3.91 3.5a4.008 4.008 0 0 0 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"},child:[]}]})(e)}function xb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(e)}function Tb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(e)}function Nb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(e)}function Pb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(e)}function Ab(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function Rb(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(e)}function Db(e){return ob({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(e)}const Bb=()=>(0,_t.jsx)("footer",{className:"app-footer",children:(0,_t.jsxs)("div",{className:"footer-inner",children:[(0,_t.jsx)("div",{className:"brand",children:"Fans Munch"}),(0,_t.jsxs)("nav",{className:"links",children:[(0,_t.jsx)(ot,{to:"/home",className:"link",children:"Home"}),(0,_t.jsx)(ot,{to:"/settings/about",className:"link",children:"About"}),(0,_t.jsx)(ot,{to:"/settings/feedback",className:"link",children:"Contact Us"}),(0,_t.jsx)(ot,{to:"/auth",className:"link",children:"Login"})]}),(0,_t.jsxs)("div",{className:"copy",children:["\xa9 ",(new Date).getFullYear()," Fans Munch"]})]})}),Lb=()=>{const{t:t,lang:n,setLang:r}=Ft(),[o,i]=(0,e.useState)(!0),[s,a]=(0,e.useState)({firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:""}),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(!1),[h,f]=(0,e.useState)(!1),[p,m]=(0,e.useState)(""),g=te(),y=e=>{a({...s,[e.target.name]:e.target.value}),m("")};return(0,_t.jsxs)("div",{className:"auth-screen",dir:"he"===n?"rtl":"ltr",children:[(0,_t.jsxs)("div",{className:"auth-upper-section",children:[(0,_t.jsx)("button",{type:"button",className:"lang-toggle",onClick:()=>{const e="he"===n?"en":"he";r(e);try{Rt.setLanguagePreference(e)}catch(t){}},children:"he"===n?"EN":"HE"}),(0,_t.jsxs)("div",{className:"auth-header",children:[(0,_t.jsx)("img",{src:"/app_icon.png",alt:"Fan Munch Logo",className:"app-logo"}),(0,_t.jsx)("h1",{className:"auth-title",children:t(o?"auth.title_login":"auth.title_register")})]})]}),(0,_t.jsxs)("div",{className:"auth-container",children:[(0,_t.jsxs)("form",{className:"auth-form",onSubmit:async e=>{e.preventDefault(),f(!0),m("");try{const r=new URLSearchParams(window.location.search).get("next");let i=r&&r.startsWith("/")?r:null;if(!i)try{const e=localStorage.getItem("postLoginNext");e&&e.startsWith("/")&&(i=e)}catch(n){}const a=e=>{try{localStorage.removeItem("postLoginNext")}catch(n){}if(Nt.getSelectedStadium()||!("/cart"===e||"/order/confirm"===e||null!==e&&void 0!==e&&e.includes("/cart")||null!==e&&void 0!==e&&e.includes("/order")))g(e||"/home",{replace:!0});else{try{localStorage.setItem("postStadiumNext",e)}catch(n){}g("/stadium-selection",{replace:!0})}};if(o){console.log("\ud83d\udd11 User signing in...");const t=await Gw.signInUser(s.email,s.password);Tt.setUserData(t.toMap()),Tt.setUserToken(`token_${t.id||Date.now()}`);try{const e=await Ww();if(e){await Gw.updateUserProfile(t.id,{fcmToken:e});try{Tt.setUserData({...t.toMap(),fcmToken:e})}catch(n){}}}catch(e){console.warn("[Auth] FCM token not saved:",(null===e||void 0===e?void 0:e.message)||e)}console.log("\u2705 Sign in completed"),a(i||"/home")}else{if(!s.firstName||!s.lastName||!s.phone||!s.email||!s.password||!s.confirmPassword)return void m(t("auth.fill_required"));if(String(s.phone||"").replace(/\D/g,"").length<7)return void m("Please enter a valid phone number");if(s.password!==s.confirmPassword)return void m(t("auth.passwords_no_match"));console.log("\ud83d\udcdd User registering...");const r=await Gw.registerUser(s);if(r.success){Tt.setUserData(r.user.toMap()),Tt.setUserToken(`token_${r.user.id||Date.now()}`);try{const e=await Ww();if(e){await Gw.updateUserProfile(r.user.id,{fcmToken:e});try{Tt.setUserData({...r.user.toMap(),fcmToken:e})}catch(n){}}}catch(e){console.warn("[Auth] FCM token not saved (register):",(null===e||void 0===e?void 0:e.message)||e)}console.log("\u2705 Registration completed"),a(i||"/home")}else m(r.error)}}catch(r){m(r.message)}finally{f(!1)}},children:[!o&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{htmlFor:"firstName",children:t("auth.first_name")}),(0,_t.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:y,placeholder:t("auth.first_name"),required:!0})]}),(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{htmlFor:"lastName",children:t("auth.last_name")}),(0,_t.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:y,placeholder:t("auth.last_name"),required:!0})]}),(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{htmlFor:"phone",children:t("auth.phone")||"Phone"}),(0,_t.jsx)("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:y,placeholder:t("auth.phone_ph")||"+972 50-123-4567",required:!0})]})]}),(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{htmlFor:"email",children:t("auth.email")}),(0,_t.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:y,placeholder:t("auth.email_ph"),required:!0})]}),(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{htmlFor:"password",children:t("auth.password")}),(0,_t.jsxs)("div",{className:"password-input-wrap",children:[(0,_t.jsx)("input",{type:l?"text":"password",id:"password",name:"password",value:s.password,onChange:y,placeholder:t("auth.password_ph"),required:!0}),(0,_t.jsx)("button",{type:"button",className:"toggle-visibility","aria-label":l?"Hide password":"Show password",onClick:()=>c(e=>!e),children:l?(0,_t.jsx)(mb,{}):(0,_t.jsx)(gb,{})})]}),o&&(0,_t.jsx)("button",{type:"button",className:"forgot-password",onClick:()=>g("/forgot-password"),children:t("auth.forgot_password")})]}),!o&&(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{htmlFor:"confirmPassword",children:t("auth.confirm_password")}),(0,_t.jsxs)("div",{className:"password-input-wrap",children:[(0,_t.jsx)("input",{type:u?"text":"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:y,placeholder:t("auth.confirm_password_ph"),required:!0}),(0,_t.jsx)("button",{type:"button",className:"toggle-visibility","aria-label":u?"Hide password":"Show password",onClick:()=>d(e=>!e),children:u?(0,_t.jsx)(mb,{}):(0,_t.jsx)(gb,{})})]})]}),p&&(0,_t.jsx)("div",{className:"error-message",children:p}),(0,_t.jsx)("button",{type:"submit",className:"auth-button",disabled:h,children:t(h?"auth.please_wait":o?"auth.sign_in":"auth.create_account")})]}),(0,_t.jsx)("div",{className:"auth-toggle",children:(0,_t.jsxs)("p",{className:"toggle-text",children:[t(o?"auth.toggle_no_account":"auth.toggle_have_account"),(0,_t.jsx)("button",{type:"button",className:"toggle-button",onClick:()=>{i(!o),m(""),a({firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:""})},children:t(o?"auth.toggle_register_now":"auth.toggle_sign_in")})]})})]}),(0,_t.jsx)(Bb,{})]})};const Ob=new class{constructor(){this.currentUser=null,this.authStateListeners=[]}init(){!function(e,t,n,r){Sn(e).onAuthStateChanged(t,n,r)}(zw,e=>{this.currentUser=e,this.authStateListeners.forEach(t=>t(e))})}onAuthStateChange(e){return this.authStateListeners.push(e),()=>{this.authStateListeners=this.authStateListeners.filter(t=>t!==e)}}async register(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{const o=(await fg(zw,e,t)).user;return await mg(o,{displayName:n}),await rp(Gh(Vw,"users",o.uid),{uid:o.uid,email:o.email,displayName:n,phoneNumber:r,createdAt:(new Date).toISOString(),isActive:!0,role:"customer",fcmToken:null}),{success:!0,user:{uid:o.uid,email:o.email,displayName:o.displayName}}}catch(o){return console.error("Registration error:",o),{success:!1,error:o.message}}}async signIn(e,t){try{const n=(await pg(zw,e,t)).user;return{success:!0,user:{uid:n.uid,email:n.email,displayName:n.displayName}}}catch(n){return console.error("Sign in error:",n),{success:!1,error:n.message}}}async signOut(){try{return await gg(zw),{success:!0}}catch(e){return console.error("Sign out error:",e),{success:!1,error:e.message}}}getCurrentUser(){return this.currentUser}async getUserProfile(e){try{const t=await ep(Gh(Vw,"users",e));return t.exists()?{success:!0,user:t.data()}:{success:!1,error:"User not found"}}catch(t){return console.error("Get user profile error:",t),{success:!1,error:t.message}}}async updateUserProfile(e,t){try{return await op(Gh(Vw,"users",e),{...t,updatedAt:(new Date).toISOString()}),{success:!0}}catch(n){return console.error("Update profile error:",n),{success:!1,error:n.message}}}async saveFCMToken(e,t){try{return await op(Gh(Vw,"users",e),{fcmToken:t,tokenUpdatedAt:(new Date).toISOString()}),{success:!0}}catch(n){return console.error("Save FCM token error:",n),{success:!1,error:n.message}}}async resetPassword(e){try{return await async function(e,t,n){const r=_m(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&dg(r,o,n),await Rm(r,o,"getOobCode",zm,"EMAIL_PASSWORD_PROVIDER")}(zw,e),{success:!0}}catch(t){return console.error("Reset password error:",t),{success:!1,error:t.message}}}async getIdToken(){try{return this.currentUser?await this.currentUser.getIdToken():null}catch(e){return console.error("Get ID token error:",e),null}}},jb=()=>{const{t:t,lang:n}=Ft(),r=te(),[o,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)("");return(0,_t.jsx)("div",{className:"forgot-screen",dir:"he"===n?"rtl":"ltr",children:(0,_t.jsxs)("div",{className:"forgot-container",children:[(0,_t.jsx)("h1",{className:"forgot-title",children:t("auth.forgot_password")}),(0,_t.jsx)("p",{className:"forgot-subtitle",children:t("auth.reset_instructions")}),(0,_t.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d(""),c(""),!o||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o))return void d(t("auth.email_invalid"));a(!0);const n=await Ob.resetPassword(o);a(!1),n.success?c(t("auth.reset_sent")):d(n.error||t("auth.reset_failed"))},className:"forgot-form",children:[(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{htmlFor:"email",children:t("auth.email")}),(0,_t.jsx)("input",{type:"email",id:"email",name:"email",value:o,onChange:e=>i(e.target.value),placeholder:t("auth.email_ph"),required:!0})]}),l&&(0,_t.jsx)("div",{className:"success-message",children:l}),u&&(0,_t.jsx)("div",{className:"error-message",children:u}),(0,_t.jsx)("button",{type:"submit",className:"auth-button",disabled:s,children:t(s?"auth.please_wait":"auth.send_reset_link")})]}),(0,_t.jsx)("button",{className:"back-link",type:"button",onClick:()=>r("/auth"),children:t("auth.back_to_login")})]})})};class Mb{constructor(e){let{id:t,name:n,about:r="",location:o,capacity:i,imageUrl:s="",teams:a=[],color:l="#3D70FF",createdAt:c=(new Date).toISOString(),updatedAt:u=(new Date).toISOString()}=e;this.id=t,this.name=n,this.about=r,this.location=o,this.capacity=i,this.imageUrl=s,this.teams=a,this.color=l,this.createdAt=c,this.updatedAt=u}static fromMap(e){return new Mb({id:e.id,name:e.name||"",about:e.about||"",location:e.location||"",capacity:e.capacity||0,imageUrl:e.imageUrl||"",teams:e.teams||[],color:e.color||"#3D70FF",createdAt:e.createdAt||(new Date).toISOString(),updatedAt:e.updatedAt||(new Date).toISOString()})}toMap(){return{id:this.id,name:this.name,about:this.about,location:this.location,capacity:this.capacity,imageUrl:this.imageUrl,teams:this.teams,color:this.color,createdAt:this.createdAt,updatedAt:this.updatedAt}}getFormattedCapacity(){return this.capacity.toLocaleString()}getDisplayName(){return`${this.name} - ${this.location}`}hasTeam(e){return this.teams.some(t=>t.toLowerCase().includes(e.toLowerCase()))}update(e){return new Mb({...this.toMap(),...e,updatedAt:(new Date).toISOString()})}}const Fb=Mb;const Ub=new class{constructor(){this.collectionName="stadiums",this.stadiumsRef=Kh(Vw,this.collectionName)}async getAllStadiums(){try{const e=Of(this.stadiumsRef,zf("name","asc")),t=await np(e),n=[];return t.forEach(e=>{const t={id:e.id,...e.data()};n.push(Fb.fromMap(t))}),n}catch(e){return console.error("Error fetching stadiums:",e),this.getFallbackStadiums()}}async getStadiumById(e){try{const t=Gh(Vw,this.collectionName,e),n=await ep(t);if(n.exists()){const e={id:n.id,...n.data()};return Fb.fromMap(e)}return console.log("No stadium found with ID:",e),null}catch(t){return console.error("Error fetching stadium by ID:",t),null}}async getStadiumsByLocation(e){try{const t=Of(this.stadiumsRef,Mf("location","==",e),zf("name","asc")),n=await np(t),r=[];return n.forEach(e=>{const t={id:e.id,...e.data()};r.push(Fb.fromMap(t))}),r}catch(t){return console.error("Error fetching stadiums by location:",t),[]}}async getFeaturedStadiums(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;try{const t=Of(this.stadiumsRef,zf("capacity","desc"),$f(e)),n=await np(t),r=[];return n.forEach(e=>{const t={id:e.id,...e.data()};r.push(Fb.fromMap(t))}),r}catch(t){return console.error("Error fetching featured stadiums:",t),this.getFallbackStadiums().slice(0,e)}}async searchStadiums(e){try{const t=await np(this.stadiumsRef),n=[];return t.forEach(t=>{const r={id:t.id,...t.data()},o=Fb.fromMap(r);(o.name.toLowerCase().includes(e.toLowerCase())||o.location.toLowerCase().includes(e.toLowerCase()))&&n.push(o)}),n}catch(t){return console.error("Error searching stadiums:",t),[]}}getFallbackStadiums(){return[{id:"metlife-stadium",name:"MetLife Stadium",location:"East Rutherford, NJ",about:"Home to the New York Giants and New York Jets",capacity:82500,imageUrl:"",teams:["Giants","Jets"],color:"#0B2265",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"madison-square-garden",name:"Madison Square Garden",location:"New York, NY",about:"The World's Most Famous Arena",capacity:20789,imageUrl:"",teams:["Knicks","Rangers"],color:"#F58426",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"yankee-stadium",name:"Yankee Stadium",location:"Bronx, NY",about:"Home of the New York Yankees",capacity:54251,imageUrl:"",teams:["Yankees"],color:"#132448",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"barclays-center",name:"Barclays Center",location:"Brooklyn, NY",about:"Home to the Brooklyn Nets and New York Islanders",capacity:17732,imageUrl:"",teams:["Nets","Islanders"],color:"#000000",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"citi-field",name:"Citi Field",location:"Queens, NY",about:"Home of the New York Mets",capacity:41922,imageUrl:"",teams:["Mets"],color:"#002D72",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"red-bull-arena",name:"Red Bull Arena",location:"Harrison, NJ",about:"Home of the New York Red Bulls",capacity:25e3,imageUrl:"",teams:["Red Bulls"],color:"#C4122E",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"wankhede-stadium",name:"Wankhede Stadium",location:"Mumbai, India",about:"Iconic cricket stadium in Mumbai",capacity:33e3,imageUrl:"",teams:["India","Mumbai Indians"],color:"#1E88E5",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"eden-gardens",name:"Eden Gardens",location:"Kolkata, India",about:"Historic cricket ground in Kolkata",capacity:68e3,imageUrl:"",teams:["India","Kolkata Knight Riders"],color:"#6A1B9A",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"gaddafi-stadium",name:"Gaddafi Stadium",location:"Lahore, Pakistan",about:"Premier cricket stadium in Lahore",capacity:27e3,imageUrl:"",teams:["Pakistan","Lahore Qalandars"],color:"#2E7D32",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"national-stadium-karachi",name:"National Stadium",location:"Karachi, Pakistan",about:"Major cricket venue in Karachi",capacity:34e3,imageUrl:"",teams:["Pakistan","Karachi Kings"],color:"#EF6C00",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}].map(e=>Fb.fromMap(e))}async isFirebaseAvailable(){try{const e=Of(this.stadiumsRef,$f(1));return await np(e),!0}catch(e){return console.warn("Firebase not available:",e.message),!1}}},zb=Ub,Vb=t=>{let{message:n,type:r="success",duration:o=3e3,onClose:i}=t;const[s,a]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const e=setTimeout(()=>{a(!1),setTimeout(()=>{i&&i()},300)},o);return()=>clearTimeout(e)},[o,i]);return(0,_t.jsxs)("div",{className:`toast ${r} ${s?"show":"hide"}`,children:[(()=>{switch(r){case"success":default:return(0,_t.jsx)(sb,{className:"toast-icon success"});case"error":return(0,_t.jsx)(yb,{className:"toast-icon error"});case"info":return(0,_t.jsx)(db,{className:"toast-icon info"})}})(),(0,_t.jsx)("span",{className:"toast-message",children:n}),(0,_t.jsx)("button",{className:"toast-close",onClick:()=>{a(!1),setTimeout(()=>{i&&i()},300)},children:(0,_t.jsx)(Ab,{})})]})};let $b=0;const qb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;window.dispatchEvent(new CustomEvent("showToast",{detail:{message:e,type:t,duration:n}}))},Hb=()=>{const[t,n]=(0,e.useState)([]);(0,e.useEffect)(()=>{const e=e=>{const{message:t,type:n="success",duration:o=3e3}=e.detail;r(t,n,o)};return window.addEventListener("showToast",e),()=>{window.removeEventListener("showToast",e)}},[]);const r=(e,t,r)=>{const o={id:++$b,message:e,type:t,duration:r};n(e=>[...e,o])};return(0,_t.jsx)("div",{className:"toast-container",children:t.map(e=>(0,_t.jsx)(Vb,{message:e.message,type:e.type,duration:e.duration,onClose:()=>{return t=e.id,void n(e=>e.filter(e=>e.id!==t));var t}},e.id))})},Wb=()=>{const[t,n]=(0,e.useState)(null),[r,o]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),[a,l]=(0,e.useState)(null),c=te(),{t:u,lang:d}=Ft();(0,e.useEffect)(()=>{(async()=>{try{s(!0),l(null);const e=await zb.getAllStadiums(),t=zb.getFallbackStadiums().map(e=>({...e,_isStatic:!0})),n=new Set(e.map(e=>e.id)),r=t.filter(e=>!n.has(e.id));o([...e,...r])}catch(e){console.error("Error fetching stadiums:",e),l("Failed to load stadiums. Please try again.");const t=zb.getFallbackStadiums().map(e=>({...e,_isStatic:!0}));o(t)}finally{s(!1)}})()},[]);return(0,_t.jsxs)("div",{className:"stadium-selection-screen",dir:"he"===d?"rtl":"ltr",children:[(0,_t.jsx)("div",{className:"stadium-bg",style:{backgroundImage:"url(/assets/images/on-boarding-1.png)"}}),(0,_t.jsx)("div",{className:"stadium-overlay"}),(0,_t.jsxs)("div",{className:"stadium-container",children:[(0,_t.jsxs)("div",{className:"stadium-header",children:[(0,_t.jsx)("h1",{className:"stadium-title animate-down",children:u("stadium.title")}),(0,_t.jsx)("p",{className:"stadium-subtitle animate-up",children:u("stadium.subtitle")})]}),i&&(0,_t.jsxs)("div",{className:"loading-container",children:[(0,_t.jsx)("div",{className:"loading-spinner"}),(0,_t.jsx)("p",{children:u("stadium.loading")})]}),a&&(0,_t.jsxs)("div",{className:"error-container",children:[(0,_t.jsx)("p",{className:"error-message",children:a}),(0,_t.jsx)("button",{className:"retry-button",onClick:()=>window.location.reload(),children:u("stadium.retry")})]}),!i&&!a&&(0,_t.jsx)("div",{className:"stadium-grid",children:r.map(e=>(0,_t.jsxs)("div",{className:"stadium-card "+((null===t||void 0===t?void 0:t.id)===e.id?"selected":""),onClick:()=>(e=>{if(null!==e&&void 0!==e&&e._isStatic)try{qb("Coming soon in this stadium","info",2e3)}catch(t){}else n(e)})(e),style:{"--stadium-color":e.color},children:[(0,_t.jsxs)("div",{className:"stadium-info",children:[(0,_t.jsx)("h3",{className:"stadium-name",children:e.name}),e._isStatic&&(0,_t.jsx)("div",{style:{marginTop:6,fontSize:12,color:"#6b7280"},children:"(Coming soon)"})]}),(null===t||void 0===t?void 0:t.id)===e.id&&(0,_t.jsx)("div",{className:"selected-indicator",children:(0,_t.jsx)("span",{children:"\u2713"})})]},e.id))}),(0,_t.jsx)("div",{className:"stadium-actions "+(t&&!t._isStatic?"show":""),children:(0,_t.jsx)("button",{className:"continue-button "+(t&&!t._isStatic?"active":"disabled"),onClick:()=>{if(t){const n=Fb.fromMap(t);Nt.setSelectedStadium(n.toMap());let r="/home";try{const e=localStorage.getItem("postStadiumNext");e&&e.startsWith("/")&&(r=e,localStorage.removeItem("postStadiumNext"))}catch(e){}c(r)}},disabled:!t||!(null===t||void 0===t||!t._isStatic),children:t?`${u("stadium.continue_to")} ${t.name}`:u("stadium.select_button")})})]})]})},Kb=t=>{let{onChanged:n}=t;const[r,o]=(0,e.useState)(""),{t:i}=Ft();return(0,_t.jsx)("div",{className:"search-filter-widget",children:(0,_t.jsx)("div",{className:"search-container",children:(0,_t.jsxs)("div",{className:"search-input-wrapper",children:[(0,_t.jsx)(fb,{className:"search-icon"}),(0,_t.jsx)("input",{type:"text",className:"search-input",placeholder:i("home.search_placeholder"),value:r,onChange:e=>{const t=e.target.value;o(t),n&&n(t)}})]})})})},Gb=t=>{const n=te(),[r,o]=(0,e.useState)(""),[i,s]=(0,e.useState)(null),[a,l]=(0,e.useState)(null),{t:c,lang:u}=Ft();(0,e.useEffect)(()=>{const e=Nt.getSelectedStadium();e&&s(e);const t=Tt.getUserData();l(t)},[]);return(0,_t.jsxs)("div",{className:"home-top-section "+("he"===u?"rtl":""),dir:"he"===u?"rtl":"ltr",children:[(0,_t.jsxs)("div",{className:"home-header",children:[(0,_t.jsxs)("div",{className:"stadium-selector",onClick:()=>{n("/stadium-selection")},children:[(0,_t.jsx)("span",{className:"loc-badge",children:(0,_t.jsx)("img",{src:"/assets/icons/location.png",alt:"Location",className:"location-icon"})}),(0,_t.jsx)("div",{className:"stadium-info",children:(0,_t.jsxs)("div",{className:"stadium-name-container",children:[(0,_t.jsx)("span",{className:"stadium-name",children:i?i.name:c("home.select_stadium")}),"he"===u?(0,_t.jsx)(_b,{size:20,className:"dropdown-arrow"}):(0,_t.jsx)(Sb,{size:20,className:"dropdown-arrow"})]})})]}),(0,_t.jsx)("button",{className:"cart-button",onClick:()=>{n("/cart")},children:(0,_t.jsx)(pb,{size:24})})]}),(0,_t.jsxs)("div",{className:"welcome-message",children:[(0,_t.jsx)("h1",{children:(()=>{const e=(new Date).getHours();return c(e>=5&&e<12?"home.greeting_morning":e>=12&&e<17?"home.greeting_afternoon":e>=17&&e<21?"home.greeting_evening":"home.greeting_night")})()}),(0,_t.jsx)("h2",{children:a?`${a.firstName} ${a.lastName}!`:"Guest!"})]}),(0,_t.jsx)("div",{className:"search-container",children:(0,_t.jsx)(Kb,{onChanged:e=>{o(e),t.onSearch&&t.onSearch(e)},onFilterTap:()=>{console.log("Filter button clicked")}})})]})};const Qb=t=>{let{selectedCategory:n="all",onSelect:r}=t;const[o,i]=(0,e.useState)(n||"all"),s=null!==n&&void 0!==n?n:o,[a,l]=(0,e.useState)([]),{t:c,lang:u}=Ft();(0,e.useEffect)(()=>{let e=!1;return(async()=>{try{const t=(await np(Kh(Vw,"categories"))).docs.map(e=>{var t,n;const r=e.data()||{},o=(null===r||void 0===r||null===(t=r.nameMap)||void 0===t?void 0:t[u])||(null===r||void 0===r||null===(n=r.nameMap)||void 0===n?void 0:n.en)||(null===r||void 0===r?void 0:r.name)||e.id,i=(null===r||void 0===r?void 0:r.icon)||"\ud83c\udf54";return{id:(null===r||void 0===r?void 0:r.docId)||e.id,name:o,icon:i,color:"#3D70FF"}}),n={id:"all",name:c("home.cat_all"),icon:xb,color:"#3D70FF"};e||l([n,...t])}catch(AS){console.warn("[CategoryList] Failed to load categories:",(null===AS||void 0===AS?void 0:AS.message)||AS),l([{id:"all",name:c("home.cat_all"),icon:xb,color:"#3D70FF"}])}})(),()=>{e=!0}},[Vw,u,c]);return(0,_t.jsxs)("div",{className:"category-list",children:[(0,_t.jsx)("div",{className:"section-header",children:(0,_t.jsx)("h2",{className:"section-title",children:c("home.categories")})}),(0,_t.jsx)("div",{className:"categories-container",children:a.map(e=>{const t="string"===typeof e.icon,n=t?null:e.icon,o=s===e.id;return(0,_t.jsxs)("button",{className:"category-card "+(o?"selected":""),onClick:()=>{return t=e.id,void(r?r(t):i(t));var t},children:[(0,_t.jsx)("div",{className:"category-icon-wrapper",style:{backgroundColor:o?e.color:`${e.color}15`},children:t?(0,_t.jsx)("span",{className:"category-icon",style:{fontSize:22},children:e.icon}):(0,_t.jsx)(n,{className:"category-icon",style:{color:o?"white":e.color}})}),(0,_t.jsx)("div",{className:"category-info",children:(0,_t.jsx)("h3",{className:"category-name",children:e.name})})]},e.id)})})]})},Yb=["/assets/images/on-boarding-1.png","/assets/images/on-boarding-2.png","/assets/images/on-boarding-3.png"];function Xb(e){const t=String(e||"food");let n=0;for(let o=0;o<t.length;o++)n=(n<<5)-n+t.charCodeAt(o),n|=0;const r=Math.abs(n)%Yb.length;return Yb[r]}const Jb=function(e){let{menuItems:t=[],loading:n=!1,error:r=null,searchTerm:o=""}=e;const i=te(),{t:s,lang:a}=Ft(),l=()=>o.trim()?`${s("home.search_results")} (${t.length})`:s("home.popular_menu");if(n)return(0,_t.jsxs)("div",{className:"menu-list",children:[(0,_t.jsx)("div",{className:"section-header",children:(0,_t.jsx)("h2",{className:"section-title",children:l()})}),(0,_t.jsx)("div",{className:"menu-loading",children:(0,_t.jsx)("div",{className:"menu-shimmer-grid",children:[...Array(6)].map((e,t)=>(0,_t.jsxs)("div",{className:"menu-shimmer-card-grid",children:[(0,_t.jsx)("div",{className:"shimmer-image"}),(0,_t.jsxs)("div",{className:"shimmer-content",children:[(0,_t.jsx)("div",{className:"shimmer-line"}),(0,_t.jsx)("div",{className:"shimmer-line short"})]})]},t))})})]});if(!n&&0===t.length){const e=o.trim()?`${s("home.no_results_for")} "${o}"`:s("home.no_menu");return(0,_t.jsxs)("div",{className:"menu-list",children:[(0,_t.jsx)("div",{className:"section-header",children:(0,_t.jsx)("h2",{className:"section-title",children:l()})}),(0,_t.jsx)("div",{className:"menu-empty",children:(0,_t.jsx)("p",{children:e})})]})}return(0,_t.jsxs)("div",{className:"menu-list",children:[(0,_t.jsxs)("div",{className:"section-header",children:[(0,_t.jsx)("h2",{className:"section-title",children:l()}),!o&&(0,_t.jsx)("button",{className:"see-all-button",onClick:()=>i("/menu"),children:(0,_t.jsx)("span",{children:s("home.see_all")})}),r&&(0,_t.jsx)("p",{className:"section-subtitle error-text",children:r})]}),(0,_t.jsx)("div",{className:"menu-grid-container",children:(0,_t.jsx)("div",{className:"menu-grid",children:t.map(e=>{return(0,_t.jsxs)("div",{className:"menu-card-grid",onClick:()=>(e=>{console.log("\ud83c\udf7d\ufe0f Navigating to food detail:",e.name),i(`/food/${e.id}`)})(e),children:[(0,_t.jsxs)("div",{className:"menu-image-grid",children:[(0,_t.jsx)("img",{src:e.getPrimaryImage()||Xb(e.id||e.name),alt:e.name,onError:t=>{t.currentTarget.src=Xb(e.id||e.name)}}),e.getFoodTypeBadges().length>0&&(0,_t.jsx)("div",{className:"food-type-badges",children:e.getFoodTypeBadges().map((e,t)=>(0,_t.jsx)("span",{className:"food-type-badge",children:e},t))})]}),(0,_t.jsxs)("div",{className:"menu-content-grid",children:[(()=>{const t=e.nameMap&&(e.nameMap[a]||e.nameMap.en)||e.name;return(0,_t.jsx)("h3",{className:"menu-name-grid",children:t})})(),(0,_t.jsx)("p",{className:"menu-price-grid",children:(t=e.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"ILS",maximumFractionDigits:2}).format(t||0))}),(0,_t.jsxs)("div",{className:"menu-prep-time",children:[(0,_t.jsx)(kb,{className:"time-icon-small"}),(0,_t.jsx)("span",{children:e.getPreparationTimeText()})]})]})]},e.id);var t})})})]})},Zb="/assets/images/on-boarding-2.png";function ek(){return Zb}const tk=[{id:"1",name:"Burger King",description:"American \u2022 Burger \u2022 Fast Food",rating:4.5,reviewCount:124,deliveryTime:"15-20 min",image:Zb,items:["Burgers","Fries","Chicken","Drinks"]},{id:"2",name:"Pizza Hut",description:"Italian \u2022 Pizza \u2022 Pasta",rating:4.2,reviewCount:89,deliveryTime:"20-25 min",image:Zb,items:["Pizza","Pasta","Garlic Bread","Desserts"]},{id:"3",name:"Subway",description:"American \u2022 Sandwich \u2022 Healthy",rating:4,reviewCount:67,deliveryTime:"10-15 min",image:Zb,items:["Subs","Salads","Cookies","Drinks"]}],nk=t=>{let{onShopSelect:n}=t;const[r,o]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),[a,l]=(0,e.useState)(null),c=te(),{t:u}=Ft();(0,e.useEffect)(()=>{d()},[]);const d=async()=>{try{s(!0),l(null);const e=Nt.getSelectedStadium();if(console.log("\ud83c\udfdf\ufe0f Loading shops for stadium:",e),e&&e.id){console.log("\ud83d\udd0d Fetching shops for stadium ID:",e.id);const t=Of(Kh(Vw,"shops"),Mf("stadiumId","==",e.id),Mf("shopAvailability","==",!0)),n=await np(t);console.log("\ud83d\udce6 Found shops in Firebase:",n.size);const r=[];n.forEach(e=>{try{var t,n,o,i;console.log("\ud83d\udcc4 Processing shop document:",e.id);const s=e.data();console.log("\ud83d\udccb Shop data:",s);const a={id:e.id,name:s.name||"",description:s.description||"",location:s.location||"",floor:s.floor||"",gate:s.gate||"",stadiumId:s.stadiumId||"",stadiumName:s.stadiumName||"",shopUserFcmToken:s.shopUserFcmToken||"",admins:s.admins||[],createdAt:(null===(t=s.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||s.createdAt||new Date,updatedAt:(null===(o=s.updatedAt)||void 0===o||null===(i=o.toDate)||void 0===i?void 0:i.call(o))||s.updatedAt||new Date};r.push(a),console.log("\u2705 Created shop object:",a.name)}catch(a){console.error("\u274c Error processing shop document",e.id,":",a)}}),o(r),console.log("\u2705 Loaded",r.length,"shops")}else console.log("\u26a0\ufe0f No stadium selected"),o([])}catch(e){console.error("\u274c Error loading shops:",e),l(u("home.error_fetch_shops")),o([])}finally{s(!1)}};if(i)return(0,_t.jsxs)("div",{className:"shop-list",children:[(0,_t.jsx)("div",{className:"section-header",children:(0,_t.jsx)("h2",{className:"section-title",children:u("home.shops")})}),(0,_t.jsx)("div",{className:"shop-shimmer",children:[1,2,3].map(e=>(0,_t.jsxs)("div",{className:"shop-card-shimmer",children:[(0,_t.jsx)("div",{className:"shop-image-shimmer"}),(0,_t.jsxs)("div",{className:"shop-content-shimmer",children:[(0,_t.jsx)("div",{className:"shop-name-shimmer"}),(0,_t.jsx)("div",{className:"shop-description-shimmer"}),(0,_t.jsx)("div",{className:"shop-details-shimmer"})]})]},e))})]});if(a)return(0,_t.jsxs)("div",{className:"shop-list",children:[(0,_t.jsx)("div",{className:"section-header",children:(0,_t.jsx)("h2",{className:"section-title",children:u("home.shops")})}),(0,_t.jsxs)("div",{className:"error-container",children:[(0,_t.jsx)("p",{className:"error-text",children:a}),(0,_t.jsx)("button",{className:"retry-button",onClick:d,children:u("home.retry")})]})]});if(0===r.length)return(0,_t.jsxs)("div",{className:"shop-list",children:[(0,_t.jsx)("div",{className:"section-header",children:(0,_t.jsx)("h2",{className:"section-title",children:u("home.shops")})}),(0,_t.jsx)("div",{className:"empty-container",children:(0,_t.jsx)("p",{className:"empty-text",children:u("home.no_shops")})})]});const h=(r.length>0?r:tk).map(e=>({...e,items:Array.isArray(e.items)?e.items:[]}));return(0,_t.jsxs)("div",{className:"shop-list",children:[(0,_t.jsx)("div",{className:"section-header",children:(0,_t.jsx)("h2",{className:"section-title",children:u("home.shops")})}),(0,_t.jsx)("div",{className:"restaurant-list",children:h.map(e=>(0,_t.jsxs)("div",{className:"restaurant-card",onClick:()=>(e=>{c(`/shop-menu/${e.id}`)})(e),children:[(0,_t.jsx)("div",{className:"restaurant-image",children:(0,_t.jsx)("img",{src:e.image||ek(),alt:e.name,onError:e=>{e.currentTarget.src=ek()}})}),(0,_t.jsxs)("div",{className:"restaurant-details",children:[(0,_t.jsx)("div",{className:"restaurant-header",children:(0,_t.jsx)("h3",{className:"restaurant-name",children:e.name})}),(0,_t.jsx)("p",{className:"restaurant-description",children:e.description}),(0,_t.jsx)("div",{className:"restaurant-footer",children:(0,_t.jsxs)("div",{className:"food-items",children:[e.items.slice(0,2).map((e,t)=>(0,_t.jsx)("span",{className:"food-tag",children:e},t)),e.items.length>2&&(0,_t.jsxs)("span",{className:"food-tag more",children:["+",e.items.length-2," ",u("home.more_suffix")]})]})})]})]},e.id))})]})};class rk{constructor(e){var t,n,r,o,i,s,a,l;let{id:c="",docId:u=null,name:d="",nameMap:h={},description:f="",descriptionMap:p={},price:m=0,currency:g="USD",category:y="",images:v=[],isAvailable:w=!0,preparationTime:b=15,shopIds:k=[],shopId:_="",stadiumId:S="",customization:C={toppings:[],extras:[],sauces:[],sizes:[]},toppings:E=[],extras:I=[],sauces:x=[],sizes:T=[],allergens:N=[],nutritionalInfo:P={},foodType:A={halal:!1,kosher:!1,vegan:!1},createdAt:R=new Date,updatedAt:D=new Date,quantity:B=1}=e;this.id=c||u||"",this.docId=u||c||null,this.name=d,this.nameMap=h||{},this.description=f,this.descriptionMap=p||{},this.price=m,this.currency=g,this.category=y,this.images=v,this.isAvailable=w,this.preparationTime=b;const L=Array.isArray(k)?k:[k].filter(Boolean);_&&!L.includes(_)&&L.push(_),this.shopIds=L,this.shopId=_||L[0]||"",this.stadiumId=S,this.customization={toppings:null!==(t=null!==(n=null===C||void 0===C?void 0:C.toppings)&&void 0!==n?n:E)&&void 0!==t?t:[],extras:null!==(r=null!==(o=null===C||void 0===C?void 0:C.extras)&&void 0!==o?o:I)&&void 0!==r?r:[],sauces:null!==(i=null!==(s=null===C||void 0===C?void 0:C.sauces)&&void 0!==s?s:x)&&void 0!==i?i:[],sizes:null!==(a=null!==(l=null===C||void 0===C?void 0:C.sizes)&&void 0!==l?l:T)&&void 0!==a?a:[]},this.allergens=N,this.nutritionalInfo=P,this.foodType=A,this.createdAt=R,this.updatedAt=D,this.quantity=B}static fromMap(e,t){var n,r,o;return new rk({id:e,docId:t.docId||e,name:t.name||(null===t||void 0===t||null===(n=t.nameMap)||void 0===n?void 0:n.en)||"",nameMap:t.nameMap||{},description:t.description||(null===t||void 0===t||null===(r=t.descriptionMap)||void 0===r?void 0:r.en)||"",descriptionMap:t.descriptionMap||{},price:null!==(o=t.price)&&void 0!==o?o:0,currency:t.currency||"USD",category:t.category||"",images:t.images||[],isAvailable:void 0===t.isAvailable||t.isAvailable,preparationTime:t.preparationTime||15,shopIds:t.shopIds||(t.shopId?[t.shopId]:[]),shopId:t.shopId||"",stadiumId:t.stadiumId||"",customization:t.customization||{toppings:t.toppings||[],extras:t.extras||[],sauces:t.sauces||[],sizes:t.sizes||[]},allergens:t.allergens||[],nutritionalInfo:t.nutritionalInfo||{},foodType:t.foodType||{halal:!1,kosher:!1,vegan:!1},createdAt:rk.parseFirestoreDate(t.createdAt),updatedAt:rk.parseFirestoreDate(t.updatedAt),quantity:t.quantity||1})}static fromFirestore(e){var t,n,r;return new rk({id:e.id||e.docId||"",docId:e.docId||e.id||null,name:e.name||(null===e||void 0===e||null===(t=e.nameMap)||void 0===t?void 0:t.en)||"",nameMap:e.nameMap||{},description:e.description||(null===e||void 0===e||null===(n=e.descriptionMap)||void 0===n?void 0:n.en)||"",descriptionMap:e.descriptionMap||{},price:null!==(r=e.price)&&void 0!==r?r:0,currency:e.currency||"USD",category:e.category||"",images:e.images||[],isAvailable:void 0===e.isAvailable||e.isAvailable,preparationTime:e.preparationTime||15,shopIds:e.shopIds||(e.shopId?[e.shopId]:[]),shopId:e.shopId||"",stadiumId:e.stadiumId||"",customization:e.customization||{toppings:e.toppings||[],extras:e.extras||[],sauces:e.sauces||[],sizes:e.sizes||[]},allergens:e.allergens||[],nutritionalInfo:e.nutritionalInfo||{},foodType:e.foodType||{halal:!1,kosher:!1,vegan:!1},createdAt:rk.parseFirestoreDate(e.createdAt),updatedAt:rk.parseFirestoreDate(e.updatedAt)})}toMap(){var e,t,n,r;return{id:this.id,docId:this.docId,name:this.name,nameMap:this.nameMap,description:this.description,descriptionMap:this.descriptionMap,price:this.price,currency:this.currency,category:this.category,images:this.images,isAvailable:this.isAvailable,preparationTime:this.preparationTime,shopIds:this.shopIds,shopId:this.shopId,stadiumId:this.stadiumId,customization:this.customization,toppings:(null===(e=this.customization)||void 0===e?void 0:e.toppings)||[],extras:(null===(t=this.customization)||void 0===t?void 0:t.extras)||[],sauces:(null===(n=this.customization)||void 0===n?void 0:n.sauces)||[],sizes:(null===(r=this.customization)||void 0===r?void 0:r.sizes)||[],allergens:this.allergens,nutritionalInfo:this.nutritionalInfo,foodType:this.foodType,createdAt:this.createdAt,updatedAt:this.updatedAt,quantity:this.quantity}}toFirestore(){return{name:this.name,nameMap:this.nameMap,description:this.description,descriptionMap:this.descriptionMap,price:this.price,category:this.category,images:this.images,isAvailable:this.isAvailable,preparationTime:this.preparationTime,shopIds:this.shopIds,stadiumId:this.stadiumId,customization:this.customization,allergens:this.allergens,nutritionalInfo:this.nutritionalInfo,foodType:this.foodType,currency:this.currency,docId:this.docId,createdAt:this.createdAt instanceof Date?di.fromDate(this.createdAt):this.createdAt,updatedAt:this.updatedAt instanceof Date?di.fromDate(this.updatedAt):this.updatedAt}}getFormattedPrice(){const e=(this.currency||"USD").toUpperCase();return`${"ILS"===e?"\u20aa":"EUR"===e?"\u20ac":"$"}${this.price.toFixed(2)}`}getPrimaryImage(){return this.images.length>0?this.images[0]:"/api/placeholder/200/150"}getPreparationTimeText(){return`${this.preparationTime} min`}hasAllergens(){return this.allergens.length>0}getAllergensText(){return this.allergens.join(", ")}isFoodType(e){return this.foodType[e]||!1}getFoodTypeBadges(){const e=[];return this.foodType.halal&&e.push("Halal"),this.foodType.kosher&&e.push("Kosher"),this.foodType.vegan&&e.push("Vegan"),e}get available(){return this.isAvailable}updateQuantity(e){return new rk({...this.toMap(),quantity:Math.max(0,e)})}getTotalPrice(){return this.price*this.quantity}getFormattedTotalPrice(){const e=(this.currency||"USD").toUpperCase();return`${"ILS"===e?"\u20aa":"EUR"===e?"\u20ac":"$"}${this.getTotalPrice().toFixed(2)}`}static parseFirestoreDate(e){return e?"function"===typeof(null===e||void 0===e?void 0:e.toDate)?e.toDate():e instanceof Date?e:"string"===typeof e||"number"===typeof e?new Date(e):new Date:new Date}}const ok=rk;const ik=new class{constructor(){this.collectionName="menuItems"}async getMenuItemsByShop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{if(!e)return{success:!1,error:"Invalid shopId"};const n=Of(Kh(Vw,"menuItems"),Mf("shopIds","array-contains",e),$f(t)),r=await np(n),o=[];return r.forEach(e=>{try{const t=ok.fromMap(e.id,e.data());t.isAvailable&&o.push(t)}catch(AS){console.error("Error mapping food",e.id,AS)}}),{success:!0,foods:o}}catch(n){return console.error("Error fetching shop menu:",n),{success:!1,error:"Failed to fetch shop menu"}}}async getStadiumMenu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{console.log("Fetching menu for stadium:",e);const n=Of(Kh(Vw,"menuItems"),Mf("stadiumId","==",e),$f(t)),r=await np(n);console.log("Found menu items:",r.size);const o=[];return r.forEach(e=>{try{console.log("Processing document:",e.id);const t=e.data();console.log("Document data:",t);const n=ok.fromMap(e.id,t);n.isAvailable&&o.push(n)}catch(t){console.error("Error processing document",e.id,":",t)}}),o.sort((e,t)=>{var n,r,o,i;const s=(null===(n=e.createdAt)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))||e.createdAt||new Date(0);return((null===(o=t.createdAt)||void 0===o||null===(i=o.toDate)||void 0===i?void 0:i.call(o))||t.createdAt||new Date(0))-s}),console.log("Returning",o.length,"menu items"),{success:!0,foods:o}}catch(n){return console.error("Error fetching stadium menu:",n),{success:!1,error:"Failed to fetch menu items"}}}async getAllMenuItems(){try{const e=Of(Kh(Vw,"menuItems"),$f(50)),t=await np(e);console.log("Found all menu items:",t.size);const n=[];return t.forEach(e=>{try{const t=e.data(),r=ok.fromMap(e.id,t);r.isAvailable&&n.push(r)}catch(t){console.error("Error processing document",e.id,":",t)}}),{success:!0,foods:n}}catch(e){return console.error("Error fetching all menu items:",e),{success:!1,error:"Failed to fetch menu items"}}}async getMenuItemsByCategory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let n;if(n=t?await this.getStadiumMenu(t,50):await this.getAllMenuItems(),!n.success)return n;let r=n.foods;return"all"!==e&&(r=r.filter(t=>t.category===e||t.categoryMap&&t.categoryMap[e]||"string"===typeof t.category&&t.category.toLowerCase()===e.toLowerCase())),{success:!0,foods:r}}catch(n){return console.error("Error fetching menu items by category:",n),{success:!1,error:"Failed to fetch menu items"}}}async searchMenuItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let n;if(n=t?await this.getStadiumMenu(t,50):await this.getAllMenuItems(),!n.success)return n;let r=n.foods;const o=e.toLowerCase();return r=r.filter(e=>{const t=e.nameMap&&(e.nameMap.he||e.nameMap.en)||e.name||"",n=e.descriptionMap&&(e.descriptionMap.he||e.descriptionMap.en)||e.description||"";return t.toLowerCase().includes(o)||n.toLowerCase().includes(o)||e.category&&e.category.toLowerCase().includes(o)}),{success:!0,foods:r}}catch(n){return console.error("Error searching menu items:",n),{success:!1,error:"Failed to search menu items"}}}};class sk{constructor(e){let{id:t,allergens:n=[],category:r="",createdAt:o,customization:i={},description:s="",extras:a=[],images:l=[],isAvailable:c=!0,active:u=!0,name:d="",nutritionalInfo:h={},preparationTime:f=15,price:p=0,discountPercentage:m=0,sauces:g=[],shopId:y="",stadiumId:v="",sizes:w=[],toppings:b=[],updatedAt:k,foodType:_={halal:!1,kosher:!1,vegan:!1},quantity:S=1}=e;this.id=t,this.allergens=n,this.category=r,this.createdAt=o,this.customization=i,this.description=s,this.extras=a,this.images=l,this.isAvailable=c,this.active=u,this.name=d,this.nutritionalInfo=h,this.preparationTime=f,this.price=p,this.discountPercentage=m,this.sauces=g,this.shopId=y,this.stadiumId=v,this.sizes=w,this.toppings=b,this.updatedAt=k,this.foodType=_,this.quantity=S}static fromMap(e,t){var n,r,o,i;return new sk({id:e,allergens:t.allergens||[],category:t.category||"",createdAt:(null===(n=t.createdAt)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))||t.createdAt||new Date,customization:t.customization||{},description:t.description||"",extras:t.extras||[],images:t.images||[],isAvailable:void 0===t.isAvailable||t.isAvailable,active:void 0===t.active||t.active,name:t.name||"",nutritionalInfo:t.nutritionalInfo||{},preparationTime:t.preparationTime||15,price:parseFloat(t.price)||0,discountPercentage:parseFloat(t.discountPercentage)||0,sauces:t.sauces||[],shopId:t.shopId||"",stadiumId:t.stadiumId||"",sizes:t.sizes||[],toppings:t.toppings||[],updatedAt:(null===(o=t.updatedAt)||void 0===o||null===(i=o.toDate)||void 0===i?void 0:i.call(o))||t.updatedAt||new Date,foodType:t.foodType||{halal:!1,kosher:!1,vegan:!1},quantity:t.quantity||1})}toMap(){return{id:this.id,allergens:this.allergens,category:this.category,createdAt:this.createdAt,customization:this.customization,description:this.description,extras:this.extras,images:this.images,isAvailable:this.isAvailable,active:this.active,name:this.name,nutritionalInfo:this.nutritionalInfo,preparationTime:this.preparationTime,price:this.price,discountPercentage:this.discountPercentage,sauces:this.sauces,shopId:this.shopId,stadiumId:this.stadiumId,sizes:this.sizes,toppings:this.toppings,updatedAt:this.updatedAt,foodType:this.foodType,quantity:this.quantity}}getFormattedPrice(){return`\u20aa${this.price.toFixed(2)}`}getDiscountedPrice(){return this.price*(1-this.discountPercentage/100)}getFormattedDiscountedPrice(){return`\u20aa${this.getDiscountedPrice().toFixed(2)}`}getPrimaryImage(){return this.images&&this.images.length>0?this.images[0]:"/api/placeholder/200/150"}hasValidDiscount(){return this.discountPercentage>0&&this.active&&this.isAvailable}getFoodTypeBadges(){const e=[];return this.foodType.halal&&e.push("Halal"),this.foodType.kosher&&e.push("Kosher"),this.foodType.vegan&&e.push("Vegan"),e}getDiscountBadgeText(){return`${Math.round(this.discountPercentage)}% OFF`}}const ak=sk;const lk=new class{constructor(){this.collectionName="offers"}async getStadiumOffers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{console.log("\ud83d\udd0d Fetching offers for stadium:",e);const n=Of(Kh(Vw,"offers"),Mf("stadiumId","==",e),$f(t)),r=await np(n);console.log("\ud83d\udce6 Found offers in Firebase:",r.size);const o=[];return r.forEach(e=>{try{console.log("\ud83d\udcc4 Processing offer document:",e.id);const t=e.data();console.log("\ud83d\udccb Offer data:",t);const n=ak.fromMap(e.id,t);console.log("\u2705 Created offer object:",n),o.push(n)}catch(t){console.error("\u274c Error processing offer document",e.id,":",t)}}),o.sort((e,t)=>{var n,r,o,i;const s=(null===(n=e.createdAt)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))||e.createdAt||new Date(0);return((null===(o=t.createdAt)||void 0===o||null===(i=o.toDate)||void 0===i?void 0:i.call(o))||t.createdAt||new Date(0))-s}),console.log("Returning",o.length,"valid offers"),{success:!0,offers:o}}catch(n){return console.error("Error fetching stadium offers:",n),{success:!1,error:"Failed to fetch offers"}}}async getAllOffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;try{const t=Of(Kh(Vw,"offers"),Mf("active","==",!0),zf("createdAt","desc"),$f(e)),n=await np(t),r=[];return n.forEach(e=>{try{const t=e.data(),n=ak.fromMap(e.id,t);n.hasValidDiscount()&&r.push(n)}catch(t){console.error("Error processing offer document",e.id,":",t)}}),{success:!0,offers:r}}catch(t){return console.error("Error fetching all offers:",t),{success:!1,error:"Failed to fetch offers"}}}async searchOffers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let n=[];if(t){const e=await this.getStadiumOffers(t,50);n=e.success?e.offers:[]}else{const e=await this.getAllOffers(50);n=e.success?e.offers:[]}return e&&e.trim()&&(n=n.filter(t=>{var n,r;return t.name.toLowerCase().includes(e.toLowerCase())||(null===(n=t.description)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||(null===(r=t.category)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase()))})),{success:!0,offers:n}}catch(n){return console.error("Error searching offers:",n),{success:!1,error:"Failed to search offers"}}}};const ck=function(){te();const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)([]),[i,s]=(0,e.useState)([]),[a,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(null),[f,p]=(0,e.useState)("all"),[m,g]=(0,e.useState)(!0),[y,v]=(0,e.useState)(!0),[w,b]=(0,e.useState)(null),[k,_]=(0,e.useState)(null);(0,e.useEffect)(()=>{console.log("\ud83c\udfe0 Loading Home dashboard"),console.log("\ud83d\udd0d [HOME] Checking URL for seat parameters..."),console.log("\ud83d\udd0d [HOME] Current URL:",window.location.href);const e=new URLSearchParams(window.location.search);console.log("\ud83d\udd0d [HOME] URL params:",Object.fromEntries(e.entries()));const t=e.has("row")||e.has("seat")||e.has("section");if(console.log("\ud83d\udd0d [HOME] Has seat params?",t),t){const t={row:e.get("row")||"",seatNo:e.get("seat")||e.get("seatNo")||"",section:e.get("section")||"",sectionId:e.get("sectionId")||"",entrance:e.get("entrance")||e.get("gate")||"",stand:e.get("stand")||"",seatDetails:e.get("details")||e.get("seatDetails")||"",area:e.get("area")||""};console.log("\u2705 [HOME] Extracted seat data:",t),sessionStorage.setItem("pending_seat_data",JSON.stringify(t)),console.log("\ud83d\udcbe [HOME] Saved to sessionStorage:",sessionStorage.getItem("pending_seat_data")),console.log("\ud83d\udccd [HOME] Seat data stored successfully for later use!")}else console.log("\u26a0\ufe0f [HOME] No seat parameters found in URL");S(),C()},[]),(0,e.useEffect)(()=>{E(),I()},[c,t,i,d,f]);const S=async()=>{try{g(!0),b(null);const e=Nt.getSelectedStadium();let t;t=e&&e.id?await ik.getStadiumMenu(e.id,20):await ik.getAllMenuItems(),t.success?n(t.foods):(b(t.error||"Failed to load menu items"),n([]))}catch(e){console.error("Error loading menu items:",e),b("Failed to load menu items"),n([])}finally{g(!1)}},C=async()=>{try{v(!0),_(null);const e=Nt.getSelectedStadium();let t;console.log("\ud83c\udfdf\ufe0f Selected stadium for offers:",e),e&&e.id?(console.log("\ud83d\udd0d Fetching offers for stadium ID:",e.id),t=await lk.getStadiumOffers(e.id,10)):(console.log("\ud83d\udd0d No stadium selected, fetching all offers"),t=await lk.getAllOffers()),t.success?s(t.offers):(_(t.error||"Failed to load offers"),s([]))}catch(e){console.error("Error loading offers:",e),_("Failed to load offers"),s([])}finally{v(!1)}},E=()=>{let e=t;if(d&&(e=e.filter(e=>Array.isArray(e.shopIds)&&e.shopIds.includes(d))),f&&"all"!==f&&(e=e.filter(e=>(e.category||"").toLowerCase()===String(f).toLowerCase())),c.trim()){const t=c.toLowerCase();e=e.filter(e=>{var n,r,o;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(o=e.category)||void 0===o?void 0:o.toLowerCase().includes(t))||e.nameMap&&Object.values(e.nameMap).some(e=>String(e).toLowerCase().includes(t))||e.descriptionMap&&Object.values(e.descriptionMap).some(e=>String(e).toLowerCase().includes(t))})}o(e)},I=()=>{if(c.trim()){const e=i.filter(e=>{var t,n;return e.name.toLowerCase().includes(c.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(n=e.category)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase()))});l(e)}else l(i)};return(0,_t.jsxs)("div",{className:"home-page",children:[(0,_t.jsx)(Gb,{}),(0,_t.jsxs)("div",{className:"home-content",children:[(0,_t.jsx)(Qb,{selectedCategory:f,onSelect:e=>p(e)}),(0,_t.jsx)(Jb,{menuItems:r,loading:m,error:w,searchTerm:c}),(0,_t.jsx)(nk,{onShopSelect:e=>{h((null===e||void 0===e?void 0:e.id)||null)}})]})]})},uk={PENDING:0,PREPARING:1,DELIVERING:2,DELIVERED:3,CANCELED:4,toString:e=>{switch(e){case uk.PENDING:return"Pending";case uk.PREPARING:return"Preparing";case uk.DELIVERING:return"Delivering";case uk.DELIVERED:return"Delivered";case uk.CANCELED:return"Canceled";default:return"Pending"}},getColor:e=>{switch(e){case uk.PENDING:return"#FF9800";case uk.PREPARING:return"#2196F3";case uk.DELIVERING:return"#9C27B0";case uk.DELIVERED:return"#4CAF50";case uk.CANCELED:return"#F44336";default:return"#FF9800"}}};class dk{constructor(e){var t;let{cart:n=[],subtotal:r=0,deliveryFee:o=0,discount:i=0,total:s=0,tipAmount:a=0,userInfo:l={},stadiumId:c="",shopId:u="",orderId:d="",orderCode:h="",deliveryUserId:f=null,status:p=uk.PENDING,createdAt:m=null,deliveryTime:g=null,seatInfo:y={},id:v=null,tipPercentage:w=0,isTipAdded:b=!1,customerLocation:k=null,location:_=null,updatedAt:S=null}=e;this.cart=n,this.subtotal=r,this.deliveryFee=o,this.discount=i,this.total=s,this.tipAmount=a,this.userInfo=l,this.stadiumId=c,this.shopId=u,this.orderId=d,this.orderCode=h,this.deliveryUserId=f,this.status=p,this.createdAt=m,this.deliveryTime=g,this.seatInfo=y,this.id=v,this.tipPercentage=w,this.isTipAdded=b,this.customerLocation=k,this.location=_,this.updatedAt=S,this.platform="string"===typeof(null===(t=arguments[0])||void 0===t?void 0:t.platform)&&arguments[0].platform.trim()?arguments[0].platform:"Web"}static fromMap(e,t){try{console.log("[Order.fromMap] id:",e,"raw data:",t)}catch(r){}const n=new dk({id:e,cart:t.cart||[],subtotal:parseFloat(t.subtotal||0),deliveryFee:parseFloat(t.deliveryFee||0),discount:parseFloat(t.discount||0),total:parseFloat(t.total||0),tipAmount:parseFloat(t.tipAmount||0),tipPercentage:parseFloat(t.tipPercentage||0),isTipAdded:!!t.isTipAdded,userInfo:t.userInfo||{},stadiumId:t.stadiumId||"",shopId:t.shopId||"",orderId:t.orderId||"",orderCode:t.orderCode||"",deliveryUserId:t.deliveryUserId||null,status:t.status||uk.PENDING,createdAt:t.createdAt,updatedAt:t.updatedAt,deliveryTime:t.deliveryTime,seatInfo:t.seatInfo||{},customerLocation:t.customerLocation||null,location:t.location||null});n.platform=t.platform||"Web";try{console.log("[Order.fromMap] instance:",n)}catch(r){}return n}toMap(){var e,t,n;try{console.log("[Order.toMap] Start. Order instance:",this)}catch(o){}const r={cart:this.cart.map(e=>{const t=e.categoryId||e.category||"",n=(()=>{const t=e.descriptionMap||{},n="string"===typeof e.description?e.description:"";return{en:"string"===typeof t.en&&t.en.trim().length>0?t.en:n,he:"string"===typeof t.he&&t.he.trim().length>0?t.he:n}})(),r=(()=>{const t=e.nameMap||{};if(t&&Object.keys(t).length>0)return t;const n=e.name||"";return{en:t.en||n,he:t.he||n}})(),i={id:e.id,docId:e.docId||e.id,allergens:e.allergens||[],category:t,createdAt:e.createdAt instanceof Date?e.createdAt:e.createdAt&&e.createdAt.toDate?e.createdAt.toDate():e.createdAt?new Date(e.createdAt):new Date,customization:e.customization||{},description:e.description||"",descriptionMap:n,extras:e.extras||[],images:e.images||[],isAvailable:void 0===e.isAvailable||e.isAvailable,name:e.name||"",nameMap:r,nutritionalInfo:e.nutritionalInfo||{},preparationTime:e.preparationTime||15,price:parseFloat((e.price||0).toFixed(2)),currency:e.currency||"ILS",sauces:e.sauces||[],shopIds:Array.isArray(e.shopIds)?[...e.shopIds]:e.shopId?[e.shopId]:[],shopId:e.shopId||"",stadiumId:e.stadiumId||"",sizes:e.sizes||[],toppings:e.toppings||[],updatedAt:e.updatedAt instanceof Date?e.updatedAt:e.updatedAt&&e.updatedAt.toDate?e.updatedAt.toDate():e.updatedAt?new Date(e.updatedAt):new Date,foodType:e.foodType||{halal:!1,kosher:!1,vegan:!1},quantity:e.quantity||1,originalPrice:e.originalPrice||e.price||0,discountedPrice:e.discountedPrice||null};try{console.log("[Order.toMap] Cart item mapped:",{id:e.id,shopId:i.shopId,shopIds:i.shopIds,price:i.price})}catch(o){}return i}),subtotal:parseFloat(this.subtotal.toFixed(2)),deliveryFee:parseFloat(this.deliveryFee.toFixed(2)),discount:parseFloat(this.discount.toFixed(2)),total:parseFloat(this.total.toFixed(2)),tipAmount:parseFloat(this.tipAmount.toFixed(2)),tipPercentage:parseFloat((this.tipPercentage||0).toFixed(2)),isTipAdded:!!this.isTipAdded,userInfo:this.userInfo,stadiumId:this.stadiumId,shopId:this.shopId,orderId:this.orderId,orderCode:this.orderCode,deliveryUserId:this.deliveryUserId,status:this.status,createdAt:this.createdAt?this.createdAt instanceof Date?di.fromDate(this.createdAt):"function"===typeof(null===(e=this.createdAt)||void 0===e?void 0:e.toDate)?this.createdAt:di.fromDate(new Date(this.createdAt)):di.fromDate(new Date),updatedAt:this.updatedAt?this.updatedAt instanceof Date?di.fromDate(this.updatedAt):"function"===typeof(null===(t=this.updatedAt)||void 0===t?void 0:t.toDate)?this.updatedAt:di.fromDate(new Date(this.updatedAt)):di.fromDate(new Date),deliveryTime:this.deliveryTime?this.deliveryTime instanceof Date?di.fromDate(this.deliveryTime):"function"===typeof(null===(n=this.deliveryTime)||void 0===n?void 0:n.toDate)?this.deliveryTime:di.fromDate(new Date(this.deliveryTime)):null,seatInfo:this.seatInfo,customerLocation:(()=>{const e=this.customerLocation;return e?e instanceof sf?e:"number"===typeof(null===e||void 0===e?void 0:e.lat)&&"number"===typeof(null===e||void 0===e?void 0:e.lng)?new sf(e.lat,e.lng):"number"===typeof(null===e||void 0===e?void 0:e.latitude)&&"number"===typeof(null===e||void 0===e?void 0:e.longitude)?new sf(e.latitude,e.longitude):Array.isArray(e)&&2===e.length?new sf(Number(e[0]),Number(e[1])):e:null})(),location:(()=>{const e=this.location;return e?e instanceof sf?e:"number"===typeof(null===e||void 0===e?void 0:e.lat)&&"number"===typeof(null===e||void 0===e?void 0:e.lng)?new sf(e.lat,e.lng):"number"===typeof(null===e||void 0===e?void 0:e.latitude)&&"number"===typeof(null===e||void 0===e?void 0:e.longitude)?new sf(e.latitude,e.longitude):Array.isArray(e)&&2===e.length?new sf(Number(e[0]),Number(e[1])):e:null})(),platform:"string"===typeof this.platform&&this.platform.trim()?this.platform:"Web"};try{console.log("[Order.toMap] Result payload:",r)}catch(o){}return r}static createFromCart(e){let{cartItems:t,subtotal:n,deliveryFee:r,discount:o,tipAmount:i,tipPercentage:s=0,userData:a,seatInfo:l,stadiumId:c,shopId:u,customerLocation:d=null,location:h=null,deliveryUserId:f=null}=e;try{console.log("[Order.createFromCart] Input:",{cartItems:t,subtotal:n,deliveryFee:r,discount:o,tipAmount:i,tipPercentage:s,userData:a,seatInfo:l,stadiumId:c,shopId:u,customerLocation:d,location:h})}catch(w){}const p=n+r+i-o,m=Date.now().toString(),g=new Date,y=Math.floor(1e5+9e5*Math.random()).toString(),v=new dk({cart:[...t],subtotal:n,deliveryFee:r,discount:o,total:p,tipAmount:i,tipPercentage:s,isTipAdded:i>0,userInfo:{userEmail:a.email||"",userName:a.firstName||"",userPhoneNo:a.phone||"",userId:a.id||""},stadiumId:c,shopId:u,orderId:m,orderCode:y,deliveryUserId:f,status:uk.PENDING,createdAt:g,updatedAt:new Date,deliveryTime:null,seatInfo:{row:l.row||"",seatNo:l.seatNo||"",section:l.section||"",seatDetails:l.seatDetails||"",area:l.area||"",entrance:l.entrance||"",stand:l.stand||"",ticketImage:l.ticketImage||""},customerLocation:d,location:h});v.platform="Web";try{console.log("[Order.createFromCart] New Order instance:",v)}catch(w){}return v}getStatusString(){return uk.toString(this.status)}getStatusColor(){return uk.getColor(this.status)}isActive(){return this.status!==uk.DELIVERED&&this.status!==uk.CANCELED}getFormattedDate(){if(!this.createdAt)return"";let e;return this.createdAt instanceof Date?e=this.createdAt:this.createdAt&&"function"===typeof this.createdAt.toDate?e=this.createdAt.toDate():"number"!==typeof this.createdAt&&"string"!==typeof this.createdAt||(e=new Date(this.createdAt)),!e||isNaN(e.getTime())?"":e.toLocaleDateString()+" "+e.toLocaleTimeString()}getSummary(){return{orderId:this.orderId,total:this.total,itemCount:this.cart.reduce((e,t)=>e+(t.quantity||1),0),status:this.getStatusString(),date:this.getFormattedDate(),shopId:this.shopId,stadiumId:this.stadiumId}}}const hk=new class{constructor(){this.collectionName="orders"}async createOrder(e){try{console.log("\ud83d\udce6 Creating order in Firebase...",e);const t=e.toMap(),n={...t};t.customerLocation&&"object"===typeof t.customerLocation&&null!=t.customerLocation.latitude&&null!=t.customerLocation.longitude&&(n.customerLocation=new sf(t.customerLocation.latitude,t.customerLocation.longitude)),t.location&&"object"===typeof t.location&&null!=t.location.latitude&&null!=t.location.longitude&&(n.location=new sf(t.location.latitude,t.location.longitude));const r={...n,createdAt:di.fromDate(e.createdAt),updatedAt:di.fromDate(e.updatedAt||new Date),deliveryTime:e.deliveryTime?di.fromDate(e.deliveryTime):null},o=await function(e,t){const n=ii(e.firestore,Zh),r=Gh(e),o=Gf(e.converter,t);return sp(n,[mf(pf(e.firestore),"addDoc",r._key,o,null!==e.converter,{}).toMutation(r._key,kl.exists(!1))]).then(()=>r)}(Kh(Vw,this.collectionName),r);console.log("\u2705 Order created successfully with ID:",o.id),await op(o,{id:o.id,updatedAt:di.fromDate(new Date)});return new dk({...e,id:o.id})}catch(t){throw console.error("\u274c Error creating order:",t),new Error(`Failed to create order: ${t.message}`)}}async fetchOrdersForUser(e){try{if(console.log("\ud83d\udccb Fetching orders for user:",e),!e)throw new Error("User ID is required to fetch orders");const t=Of(Kh(Vw,this.collectionName),Mf("userInfo.userId","==",e),zf("createdAt","desc")),n=await np(t),r=[];return n.forEach(e=>{const t=e.data(),n=dk.fromMap(e.id,t);r.push(n)}),console.log("\u2705 Fetched orders:",r.length),r}catch(t){throw console.error("\u274c Error fetching orders:",t),new Error(`Failed to fetch orders: ${t.message}`)}}streamOrdersForUser(e,t){try{if(console.log("\ud83d\udd04 Setting up real-time orders stream for user:",e),!e)throw new Error("User ID is required to stream orders");const n=Kh(Vw,this.collectionName),r=ip(Of(n,Mf("userInfo.userId","==",e),zf("createdAt","desc")),e=>{const n=[];e.forEach(e=>{const t=e.data(),r=dk.fromMap(e.id,t);n.push(r)}),console.log("\ud83d\udd04 Orders updated:",n.length),t(n)},e=>{console.error("\u274c Error in orders stream:",e),t([],e)});return r}catch(n){throw console.error("\u274c Error setting up orders stream:",n),new Error(`Failed to set up orders stream: ${n.message}`)}}async fetchAllOrders(){try{console.log("\ud83d\udccb Fetching all orders...");const e=Of(Kh(Vw,this.collectionName),zf("createdAt","desc")),t=await np(e),n=[];return t.forEach(e=>{const t=e.data(),r=dk.fromMap(e.id,t);n.push(r)}),console.log("\u2705 Fetched all orders:",n.length),n}catch(e){throw console.error("\u274c Error fetching all orders:",e),new Error(`Failed to fetch all orders: ${e.message}`)}}async fetchOrdersForShop(e){try{if(console.log("\ud83d\udccb Fetching orders for shop:",e),!e)throw new Error("Shop ID is required to fetch orders");const t=Of(Kh(Vw,this.collectionName),Mf("shopId","==",e),zf("createdAt","desc")),n=await np(t),r=[];return n.forEach(e=>{const t=e.data(),n=dk.fromMap(e.id,t);r.push(n)}),console.log("\u2705 Fetched shop orders:",r.length),r}catch(t){throw console.error("\u274c Error fetching shop orders:",t),new Error(`Failed to fetch shop orders: ${t.message}`)}}async sendNotificationToShop(e){try{console.log("\ud83d\udd14 Sending notification to shop for order:",e.orderId),console.log("\ud83d\udcdd Notification logic not implemented yet")}catch(t){console.error("\u274c Error sending shop notification:",t)}}calculateOrderTotals(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o=e.reduce((e,t)=>e+t.price*t.quantity,0),i=o+t+n-r;return{subtotal:Math.round(100*o)/100,deliveryFee:Math.round(100*t)/100,tipAmount:Math.round(100*n)/100,discount:Math.round(100*r)/100,total:Math.round(100*i)/100}}},fk=hk,pk=()=>{const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)(!0),[i,s]=(0,e.useState)(null),[a,l]=(0,e.useState)("active"),[c,u]=(0,e.useState)({}),d=te(),{t:h}=Ft();(0,e.useEffect)(()=>{const e=Tt.getUserData();if(!e||!e.id)return n([]),void o(!1);o(!0);const t=fk.streamOrdersForUser(e.id,async(e,t)=>{if(t)return s(h("orders.error_loading")),n([]),void o(!1);try{const t=[...new Set(e.map(e=>e.shopId).filter(Boolean))],r={};for(const e of t)r[e]=await f(e);u(r),n(e)}catch(AS){console.log("Shop details fetch error:",AS)}finally{o(!1)}});return()=>{"function"===typeof t&&t()}},[]);const f=async e=>{try{const i=Gh(Vw,"shops",e),s=await ep(i);if(s.exists()){var t,n,r,o;const e=s.data();return{id:s.id,name:e.name||"Unknown Shop",description:e.description||"",location:e.location||"",floor:e.floor||"",gate:e.gate||"",stadiumId:e.stadiumId||"",stadiumName:e.stadiumName||"",shopUserFcmToken:e.shopUserFcmToken||"",admins:e.admins||[],createdAt:(null===(t=e.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||e.createdAt||new Date,updatedAt:(null===(r=e.updatedAt)||void 0===r||null===(o=r.toDate)||void 0===o?void 0:o.call(r))||e.updatedAt||new Date}}return console.log("\u274c Shop not found:",e),{name:"Unknown Shop",id:e}}catch(i){return console.error("\u274c Error fetching shop:",e,i),{name:"Unknown Shop",id:e}}},p=e=>{switch(e){case uk.PENDING:return h("orders.pending");case uk.PREPARING:return h("orders.preparing");case uk.DELIVERING:return h("orders.delivering");case uk.DELIVERED:return h("orders.delivered");case uk.CANCELED:return h("orders.cancelled");default:return h("orders.pending")}},m=e=>{try{const t=Array.isArray(null===e||void 0===e?void 0:e.cart)?e.cart[0]:null,n=(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.title);return n||(null!==e&&void 0!==e&&e.shopId&&c[e.shopId]?c[e.shopId].name:h("orders.order"))}catch(t){return h("orders.order")}},g=t.filter(e=>"active"===a?[uk.PENDING,uk.PREPARING,uk.DELIVERING].includes(e.status):"completed"===a?e.status===uk.DELIVERED:"cancelled"!==a||e.status===uk.CANCELED);return(0,_t.jsx)("div",{className:"orders-screen",children:(0,_t.jsxs)("div",{className:"orders-container",children:[(0,_t.jsxs)("div",{className:"orders-header",children:[(0,_t.jsx)("h1",{className:"orders-title",children:h("orders.my_orders")}),(0,_t.jsx)("p",{className:"orders-subtitle",children:h("orders.subtitle")})]}),(0,_t.jsxs)("div",{className:"orders-tabs",children:[(0,_t.jsx)("button",{className:"tab-button "+("active"===a?"active":""),onClick:()=>l("active"),children:h("orders.active")}),(0,_t.jsx)("button",{className:"tab-button "+("completed"===a?"active":""),onClick:()=>l("completed"),children:h("orders.completed")})]}),(0,_t.jsx)("div",{className:"orders-list",children:r?(0,_t.jsxs)("div",{className:"loading-state",children:[(0,_t.jsx)("div",{className:"loading-spinner"}),(0,_t.jsx)("p",{children:h("orders.loading")})]}):i?(0,_t.jsxs)("div",{className:"error-state",children:[(0,_t.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,_t.jsx)("h3",{children:h("orders.error_loading")}),(0,_t.jsx)("p",{children:i}),(0,_t.jsx)("button",{className:"retry-button",onClick:()=>window.location.reload(),children:h("orders.try_again")})]}):0===g.length?(0,_t.jsxs)("div",{className:"empty-state",children:[(0,_t.jsx)("div",{className:"empty-icon",children:"\ud83c\udf7d\ufe0f"}),(0,_t.jsx)("h3",{children:h("orders.no_orders")}),(0,_t.jsx)("p",{children:h("orders.empty_hint")})]}):g.map(e=>{return(0,_t.jsxs)("div",{className:"order-card",children:[(0,_t.jsxs)("div",{className:"order-top",children:[(0,_t.jsxs)("div",{className:"order-number",children:[h("orders.order")," #",e.orderId]}),(0,_t.jsx)("span",{className:"status-badge "+(t=e.status,[uk.PENDING,uk.PREPARING,uk.DELIVERING].includes(t)?"status-active":t===uk.DELIVERED?"status-completed":t===uk.CANCELED?"status-cancelled":"status-active"),children:p(e.status)})]}),(0,_t.jsxs)("div",{className:"order-restaurant",children:[(0,_t.jsx)("span",{className:"shop-avatar","aria-hidden":!0,children:"\ud83c\udf54"}),(0,_t.jsx)("span",{className:"shop-name",children:m(e)})]}),(0,_t.jsxs)("div",{className:"order-meta",children:[(0,_t.jsxs)("div",{className:"order-meta-left",children:[(0,_t.jsxs)("span",{className:"meta-item",children:[Array.isArray(e.cart)?e.cart.reduce((e,t)=>e+(t.quantity||1),0):0," ",h("orders.items")]}),(0,_t.jsx)("span",{className:"meta-dot",children:"\u2022"}),(0,_t.jsx)("span",{className:"meta-item",children:e.getFormattedDate()})]}),(0,_t.jsxs)("div",{className:"order-price",children:["\u20aa",e.total.toFixed(2)]})]}),e.status===uk.DELIVERING&&(0,_t.jsx)("div",{className:"order-delivery-instruction",children:(0,_t.jsx)("span",{className:"delivery-instruction-text",children:h("orders.track_for_qr")})}),e.status!==uk.DELIVERED&&e.status!==uk.CANCELED&&(0,_t.jsx)("div",{className:"order-actions",children:(0,_t.jsx)("button",{className:"track-button",onClick:()=>(e=>{const t=e.id;t&&d(`/order/${t}`)})(e),children:h("orders.track")})})]},e.id||e.orderId);var t})})]})})},mk="food_munch_cart",gk={getCartItems:()=>{try{const e=localStorage.getItem(mk);if(!e)return console.log("\ud83d\udce6 No cart data found, returning empty array"),[];const t=JSON.parse(e);let n;return Array.isArray(t)?n=t:t&&Array.isArray(t.items)?n=t.items:(console.warn("\u26a0\ufe0f Invalid cart data format, returning empty array"),n=[]),console.log("\ud83d\udce6 Retrieved cart from storage:",n.length,"items"),n}catch(e){return console.error("\u274c Error getting cart items:",e),[]}},getCart:()=>gk.getCartItems(),addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{if(console.log("\ud83d\uded2 Adding to cart:",e.name,"Quantity:",t),!e||!e.id||!e.name)return console.error("\u274c Invalid food object:",e),{success:!1,message:"Invalid food item"};let n=gk.getCartItems();Array.isArray(n)||(console.warn("\u26a0\ufe0f Cart is not an array, initializing empty cart"),n=[]);const r=n.findIndex(t=>t.id===e.id);if(r>=0)n[r].quantity+=t,console.log("\ud83d\udcc8 Updated existing item quantity:",n[r].quantity);else{const r=e.discountPercentage&&e.discountPercentage>0?e.price*(1-e.discountPercentage/100):e.price,o={id:e.id,name:e.name,nameMap:e.nameMap||{},price:r,originalPrice:e.price,discountPercentage:e.discountPercentage||0,images:e.images||[],quantity:t,shopId:e.shopId||(Array.isArray(e.shopIds)&&e.shopIds.length>0?e.shopIds[0]:""),shopIds:Array.isArray(e.shopIds)?[...e.shopIds]:e.shopId?[e.shopId]:[],stadiumId:e.stadiumId,preparationTime:e.preparationTime||15,description:e.description||"",descriptionMap:e.descriptionMap||{},allergens:e.allergens||[],category:e.category||"",currency:e.currency||"ILS",addedAt:(new Date).toISOString()};n.push(o),console.log("\u2705 Added new item to cart:",o.name)}return localStorage.setItem(mk,JSON.stringify(n)),console.log("\ud83d\udcbe Cart saved to storage. Total items:",n.length),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cartItems:n,totalItems:gk.getTotalItems(),totalPrice:gk.getTotalPrice()}})),{success:!0,cartItems:n,totalItems:gk.getTotalItems(),message:`${e.name} added to cart!`}}catch(n){return console.error("\u274c Error adding to cart:",n),{success:!1,message:"Failed to add item to cart"}}},removeFromCart:e=>{try{const t=gk.getCartItems(),n=t.find(t=>t.id===e);if(n){console.log("\ud83d\uddd1\ufe0f Removing item from cart:",n.name);const r=t.filter(t=>t.id!==e);return localStorage.setItem(mk,JSON.stringify(r)),console.log("\ud83d\udcbe Cart updated. Remaining items:",r.length),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cartItems:r,totalItems:gk.getTotalItems(),totalPrice:gk.getTotalPrice()}})),r}return console.log("\u26a0\ufe0f Item not found in cart:",e),t}catch(t){return console.error("\u274c Error removing from cart:",t),gk.getCartItems()}},updateQuantity:(e,t)=>{try{const n=gk.getCartItems(),r=n.findIndex(t=>t.id===e);if(r>=0){if(t<=0)return gk.removeFromCart(e);n[r].quantity=t,localStorage.setItem(mk,JSON.stringify(n)),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cartItems:n,totalItems:gk.getTotalItems(),totalPrice:gk.getTotalPrice()}})),console.log("\ud83d\udcca Updated quantity for:",e,"New quantity:",t)}return n}catch(n){return console.error("\u274c Error updating quantity:",n),gk.getCartItems()}},getTotalItems:()=>{try{return gk.getCartItems().reduce((e,t)=>e+t.quantity,0)}catch(e){return console.error("\u274c Error getting total items:",e),0}},getTotalPrice:()=>{try{return gk.getCartItems().reduce((e,t)=>e+t.price*t.quantity,0)}catch(e){return console.error("\u274c Error getting total price:",e),0}},clearCart:()=>{try{return localStorage.removeItem(mk),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cartItems:[],totalItems:0,totalPrice:0}})),console.log("\ud83e\uddf9 Cart cleared"),[]}catch(e){return console.error("\u274c Error clearing cart:",e),[]}},isInCart:e=>{try{return gk.getCartItems().some(t=>t.id===e)}catch(t){return console.error("\u274c Error checking if item in cart:",t),!1}},getItemQuantity:e=>{try{const t=gk.getCartItems().find(t=>t.id===e);return t?t.quantity:0}catch(t){return console.error("\u274c Error getting item quantity:",t),0}}},yk=e=>{let{isFromHome:t=!1}=e;const n=te(),{t:r}=Ft();return(0,_t.jsxs)("div",{className:"cart-hero",style:{backgroundImage:"url(/assets/images/on-boarding-1.png)"},children:[!t&&(0,_t.jsx)("button",{className:"cart-back-button",onClick:()=>n(-1),"aria-label":"Back",children:(0,_t.jsx)(Tb,{})}),(0,_t.jsx)("div",{className:"cart-hero-overlay"}),(0,_t.jsx)("h1",{className:"cart-hero-title",children:r("cart.add_to_cart")})]})},vk=e=>{let{isFromHome:t=!1}=e;return(0,_t.jsx)("div",{className:"cart-screen",children:(0,_t.jsxs)("div",{className:"cart-container",children:[(0,_t.jsx)(yk,{isFromHome:t}),(0,_t.jsxs)("div",{className:"loading-state",children:[(0,_t.jsx)("div",{className:"loading-spinner"}),(0,_t.jsx)("p",{children:"Loading cart..."})]})]})})},wk=()=>{const{t:e}=Ft();return(0,_t.jsxs)("div",{className:"empty-cart",children:[(0,_t.jsx)(pb,{size:100,className:"empty-cart-icon"}),(0,_t.jsx)("h3",{className:"empty-cart-title",children:e("cart.empty")})]})},bk=e=>{let{item:t,onUpdateQuantity:n,onAddToCart:r,onRemoveFromCart:o}=e;return(0,_t.jsxs)("div",{className:"cart-item-wrapper",children:[(0,_t.jsxs)("div",{className:"cart-item",children:[(0,_t.jsxs)("div",{className:"item-info",children:[(0,_t.jsxs)("div",{className:"item-header",children:[(0,_t.jsx)("h4",{className:"item-name",children:t.name}),(0,_t.jsxs)("div",{className:"quantity-controls",children:[(0,_t.jsx)("button",{className:"quantity-btn remove",onClick:()=>n(t.id,t.quantity-1),children:(0,_t.jsx)(bb,{size:16})}),(0,_t.jsx)("span",{className:"quantity-display",children:t.quantity}),(0,_t.jsx)("button",{className:"quantity-btn add",onClick:()=>r(t.id),children:(0,_t.jsx)(wb,{size:16})})]})]}),(0,_t.jsx)("div",{className:"item-price-section",children:(0,_t.jsx)("span",{className:"item-price",children:(i=t.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"ILS",maximumFractionDigits:2}).format(i||0))})})]}),(0,_t.jsxs)("div",{className:"item-image-container",children:[t.images&&t.images.length>0?(0,_t.jsx)("img",{src:t.images[0],alt:t.name,className:"item-image",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,_t.jsx)("div",{className:"image-placeholder",style:{display:t.images&&t.images.length>0?"none":"flex"},children:(0,_t.jsx)(pb,{size:40})})]})]}),(0,_t.jsx)("button",{className:"delete-button",onClick:()=>o(t.id),title:"Remove item",children:(0,_t.jsx)(ab,{size:20})})]});var i},kk=e=>{let{cartItems:t,onUpdateQuantity:n,onAddToCart:r,onRemoveFromCart:o}=e;return(0,_t.jsx)("div",{className:"cart-items-list",children:t.map((e,t)=>(0,_t.jsx)(bk,{item:e,onUpdateQuantity:n,onAddToCart:r,onRemoveFromCart:o},e.id))})},_k=e=>{let{cartItems:t,calculateSubtotal:n,calculateDeliveryFee:r,calculateTip:o,calculateDiscount:i,calculateTotal:s,onPlaceOrder:a}=e;const{t:l}=Ft();if(0===t.length)return null;const c=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"ILS",maximumFractionDigits:2}).format(e||0),u={USD:.27,EUR:.25},d=(e,t)=>{const n=(e||0)*(u[t]||1),r="USD"===t?"en-US":"EUR"===t?"de-DE":"he-IL";return new Intl.NumberFormat(r,{style:"currency",currency:t,maximumFractionDigits:2}).format(n)};return(0,_t.jsx)("div",{className:"price-info-widget",children:(0,_t.jsxs)("div",{className:"price-info-content",children:[(0,_t.jsxs)("div",{className:"price-row",children:[(0,_t.jsx)("span",{children:l("cart.subtotal")}),(0,_t.jsx)("span",{children:c(n())})]}),(0,_t.jsxs)("div",{className:"price-row",children:[(0,_t.jsx)("span",{children:l("cart.delivery")}),(0,_t.jsx)("span",{children:c(r())})]}),(0,_t.jsxs)("div",{className:"price-row total",children:[(0,_t.jsx)("span",{children:l("cart.total")}),(0,_t.jsx)("span",{children:c(s())})]}),(0,_t.jsxs)("div",{className:"currency-row",children:[(0,_t.jsx)("span",{className:"currency-badge usd",children:d(s(),"USD")}),(0,_t.jsx)("span",{className:"currency-badge ils",children:c(s())}),(0,_t.jsx)("span",{className:"currency-badge eur",children:d(s(),"EUR")})]}),(0,_t.jsx)("button",{className:"place-order-button",onClick:a,children:l("cart.place_order")})]})})},Sk={position:"fixed",inset:0,background:"rgba(250, 250, 250, 0.37)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},Ck={width:"min(92vw, 420px)",background:"#fff",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.2)",overflow:"hidden"},Ek={padding:"16px 20px 0 20px",fontWeight:700,fontSize:18,color:"#111827"},Ik={padding:"8px 20px 0 20px",fontSize:14,color:"#4b5563",lineHeight:1.5},xk={display:"flex",gap:12,padding:20,justifyContent:"flex-end"},Tk={background:"#111827",color:"#fff",border:"none",borderRadius:8,padding:"10px 16px",fontWeight:600,cursor:"pointer",borderColor:"#111827"},Nk={background:"#f3f4f6",color:"#111827",border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 16px",fontWeight:600,cursor:"pointer"};function Pk(e){let{open:t,onCancel:n,onConfirm:r}=e;return t?(0,_t.jsx)("div",{style:Sk,role:"dialog","aria-modal":"true","aria-labelledby":"auth-modal-title",children:(0,_t.jsxs)("div",{style:Ck,children:[(0,_t.jsx)("div",{style:Ek,id:"auth-modal-title",children:"Sign in required"}),(0,_t.jsx)("div",{style:Ik,children:"You need to sign in to place an order. Create an account or sign in to continue to checkout."}),(0,_t.jsxs)("div",{style:xk,children:[(0,_t.jsx)("button",{type:"button",style:Nk,onClick:n,children:"Not now"}),(0,_t.jsx)("button",{type:"button",style:Tk,onClick:r,children:"Sign in"})]})]})}):null}const Ak=t=>{let{isFromHome:n=!1}=t;const r=te(),[o,i]=(0,e.useState)([]),[s,a]=(0,e.useState)(!0),[l,c]=(0,e.useState)(!1);(0,e.useEffect)(()=>{u();const e=()=>{u()};return window.addEventListener("cartUpdated",e),()=>{window.removeEventListener("cartUpdated",e)}},[]);const u=()=>{a(!0);try{const e=gk.getCartItems();console.log("\ud83d\udce6 Loaded cart from storage:",e),i(e)}catch(e){console.error("\u274c Error loading cart:",e),i([])}finally{a(!1)}},d=(e,t)=>{const n=o.find(t=>t.id===e);if(n)if(1===n.quantity&&t<n.quantity)window.confirm(`Remove ${n.name} from cart?`)&&h(e);else try{gk.updateQuantity(e,t),qb("success","Cart updated")}catch(r){console.error("Error updating quantity:",r),qb("error","Failed to update cart")}},h=e=>{try{gk.removeFromCart(e),qb("success","Item removed from cart")}catch(t){console.error("Error removing from cart:",t),qb("error","Failed to remove item")}},f=()=>o.reduce((e,t)=>e+t.price*t.quantity,0),p=()=>{const e=o.reduce((e,t)=>e+(t.quantity||0),0);return 2*e},m=()=>0,g=()=>0;return s?(0,_t.jsx)(vk,{isFromHome:n}):(0,_t.jsxs)("div",{className:"cart-screen",children:[(0,_t.jsxs)("div",{className:"cart-container",children:[(0,_t.jsx)(yk,{isFromHome:n}),0===o.length?(0,_t.jsx)(wk,{}):(0,_t.jsx)(kk,{cartItems:o,onUpdateQuantity:d,onAddToCart:e=>{const t=o.find(t=>t.id===e);t&&d(e,t.quantity+1)},onRemoveFromCart:h})]}),(0,_t.jsx)(_k,{cartItems:o,calculateSubtotal:f,calculateDeliveryFee:p,calculateTip:m,calculateDiscount:g,calculateTotal:()=>f()+p()+0-0,onPlaceOrder:async()=>{if(0===o.length)return void qb("Cart is empty","error",3e3);if(!Tt.isLoggedIn||!Tt.isLoggedIn())return void c(!0);const e=await(async()=>{try{const t=Nt.getSelectedStadium();let n;try{if(null!==t&&void 0!==t&&t.id){const e=Of(Kh(Vw,"shops"),Mf("shopAvailability","==",!0),Mf("stadiumId","==",t.id));n=await np(e)}}catch(e){}if(!n||n.empty){const e=Of(Kh(Vw,"shops"),Mf("shopAvailability","==",!0));n=await np(e)}return 0!==n.docs.map(e=>({id:e.id,data:e.data()})).length||(qb("No shops are open right now. Please try again later.","error",5e3),!1)}catch(t){return console.error("Error checking shop availability:",t),qb("Unable to check shop availability. Please try again.","error",4e3),!1}})();e&&r("/tip")}}),(0,_t.jsx)(Pk,{open:l,onCancel:()=>{c(!1)},onConfirm:()=>{try{localStorage.setItem("postLoginNext","/cart")}catch(e){}c(!1),r("/auth?next=%2Fcart")}})]})},Rk=t=>{let{isFromHome:n=!1}=t;const r=te(),[o,i]=(0,e.useState)([]),[s,a]=(0,e.useState)(!0);(0,e.useEffect)(()=>{l();const e=()=>{l()};return window.addEventListener("cartUpdated",e),()=>{window.removeEventListener("cartUpdated",e)}},[]);const l=()=>{a(!0);try{const e=gk.getCartItems();console.log("\ud83d\udce6 Loaded cart from storage:",e),i(e)}catch(e){console.error("\u274c Error loading cart:",e),i([])}finally{a(!1)}},c=(e,t)=>{const n=o.find(t=>t.id===e);if(n)if(1===n.quantity&&t<n.quantity)window.confirm(`Remove ${n.name} from cart?`)&&u(e);else try{gk.updateQuantity(e,t),qb("success","Cart updated")}catch(r){console.error("Error updating quantity:",r),qb("error","Failed to update cart")}},u=e=>{try{gk.removeFromCart(e),qb("success","Item removed from cart")}catch(t){console.error("Error removing from cart:",t),qb("error","Failed to remove item")}};return s?(0,_t.jsx)(vk,{isFromHome:n}):(0,_t.jsxs)("div",{className:"precart-screen",children:[(0,_t.jsxs)("div",{className:"precart-container",children:[(0,_t.jsx)(yk,{isFromHome:n}),0===o.length?(0,_t.jsx)(wk,{}):(0,_t.jsx)(kk,{cartItems:o,onUpdateQuantity:c,onAddToCart:e=>{const t=o.find(t=>t.id===e);t&&c(e,t.quantity+1)},onRemoveFromCart:u})]}),(0,_t.jsxs)("div",{className:"precart-actions",children:[(0,_t.jsx)("button",{className:"continue-shopping-btn",onClick:()=>{r("/menu")},children:"Continue Shopping"}),(0,_t.jsx)("button",{className:"checkout-btn",onClick:()=>{0!==o.length?r("/cart"):qb("error","Cart is empty")},disabled:0===o.length,children:"Checkout"})]})]})};function Dk(e){return ob({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M370 378c28.89 23.52 46 46.07 46 86m-274-86c-28.89 23.52-46 46.06-46 86m288-256c28.89-23.52 32-56.07 32-96m-288 94c-28.89-23.52-32-54.06-32-94m368 176.13h-80m-256 0H48M256 192v256"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 448h0c-70.4 0-128-57.6-128-128v-96.07c0-65.07 57.6-96 128-96h0c70.4 0 128 25.6 128 96V320c0 70.4-57.6 128-128 128z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M179.43 143.52a49.08 49.08 0 0 1-3.43-15.73A80 80 0 0 1 255.79 48h.42A80 80 0 0 1 336 127.79a41.91 41.91 0 0 1-3.12 14.3"},child:[]}]})(e)}function Bk(e){return ob({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M408 64H104a56.16 56.16 0 0 0-56 56v192a56.16 56.16 0 0 0 56 56h40v80l93.72-78.14a8 8 0 0 1 5.13-1.86H408a56.16 56.16 0 0 0 56-56V120a56.16 56.16 0 0 0-56-56z"},child:[]},{tag:"circle",attr:{cx:"160",cy:"216",r:"32"},child:[]},{tag:"circle",attr:{cx:"256",cy:"216",r:"32"},child:[]},{tag:"circle",attr:{cx:"352",cy:"216",r:"32"},child:[]}]})(e)}function Lk(e){return ob({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M416 221.25V416a48 48 0 0 1-48 48H144a48 48 0 0 1-48-48V96a48 48 0 0 1 48-48h98.75a32 32 0 0 1 22.62 9.37l141.26 141.26a32 32 0 0 1 9.37 22.62z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 56v120a32 32 0 0 0 32 32h120m-232 80h160m-160 80h160"},child:[]}]})(e)}function Ok(e){return ob({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184 184-82.39 184-184S349.61 64 248 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M220 220h32v116"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M208 340h88"},child:[]},{tag:"path",attr:{d:"M248 130a26 26 0 1 0 26 26 26 26 0 0 0-26-26z"},child:[]}]})(e)}function jk(e){return ob({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M48 112h288M192 64v48m80 336 96-224 96 224m-162.5-64h133M281.3 112S257 206 199 277 80 384 80 384"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 336s-35-27-72-75-56-85-56-85"},child:[]}]})(e)}function Mk(e){return ob({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 208v-95a80 80 0 0 0-160 0v95"},child:[]},{tag:"rect",attr:{width:"320",height:"272",x:"96",y:"208",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"},child:[]}]})(e)}function Fk(e){return ob({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(e)}function Uk(e){return ob({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"},child:[]}]})(e)}const zk=()=>{const t=te(),{t:n}=Ft(),[r,o]=(0,e.useState)(null),[i,s]=(0,e.useState)({active:0,completed:0,cancelled:0}),[a,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{c()},[]),(0,e.useEffect)(()=>{null!==r&&(r&&r.id||t("/auth"))},[r,t]);const c=()=>{try{const e=Tt.getUserData();o(e),console.log("\ud83d\udc64 Loaded user data:",e)}catch(e){console.error("\u274c Error loading user data:",e),o(null)}};(0,e.useEffect)(()=>{const e=Tt.getUserData();if(!e||!e.id)return;l(!0);const t=fk.streamOrdersForUser(e.id,(e,t)=>{if(t)return s({active:0,completed:0,cancelled:0}),void l(!1);const n={active:e.filter(e=>[uk.PENDING,uk.PREPARING,uk.DELIVERING].includes(e.status)).length,completed:e.filter(e=>e.status===uk.DELIVERED).length,cancelled:e.filter(e=>e.status===uk.CANCELED).length};s(n),l(!1)});return()=>{"function"===typeof t&&t()}},[]);const u=[{icon:jk,title:n("profile.language"),subtitle:n("profile.language_sub"),action:()=>t("/settings/language")},{icon:Ok,title:n("profile.about"),subtitle:n("profile.about_sub"),action:()=>t("/settings/about")},{icon:Lk,title:n("profile.terms"),subtitle:n("profile.terms_sub"),action:()=>t("/settings/terms")},{icon:Bk,title:n("profile.feedback"),subtitle:n("profile.feedback_sub"),action:()=>t("/settings/feedback")},{icon:Mk,title:n("profile.privacy"),subtitle:n("profile.privacy_sub"),action:()=>t("/settings/privacy")},{icon:Dk,title:n("profile.report"),subtitle:n("profile.report_sub"),action:()=>t("/settings/report")}];return(0,_t.jsxs)("div",{className:"profile-screen",children:[(0,_t.jsxs)("div",{className:"profile-hero",children:[(0,_t.jsx)("div",{className:"hero-overlay"}),(0,_t.jsxs)("div",{className:"hero-content",children:[(0,_t.jsxs)("div",{className:"hero-left",children:[(0,_t.jsx)("div",{className:"profile-avatar small",children:null!==r&&void 0!==r&&r.photoUrl?(0,_t.jsx)("img",{src:r.photoUrl,alt:"Profile",className:"avatar-image"}):(0,_t.jsx)(Uk,{className:"avatar-icon"})}),(0,_t.jsxs)("div",{className:"hero-user",children:[(0,_t.jsx)("div",{className:"hero-name",children:r?`${r.firstName} ${r.lastName}`:""}),(0,_t.jsx)("div",{className:"hero-email",children:(null===r||void 0===r?void 0:r.email)||""})]})]}),(0,_t.jsxs)("button",{className:"logout-chip",onClick:()=>{console.log("\ud83d\udeba User signing out..."),At.clearAllStorage(),t("/auth"),console.log("\u2705 Sign out completed")},children:[(0,_t.jsx)(Fk,{})," ",n("profile.logout")]})]})]}),(0,_t.jsxs)("div",{className:"profile-container",children:[(0,_t.jsxs)("div",{className:"stats-card",children:[(0,_t.jsxs)("div",{className:"stats-col",children:[(0,_t.jsx)("div",{className:"stats-number",children:a?"\u2026":i.active}),(0,_t.jsx)("div",{className:"stats-label",children:n("profile.active")})]}),(0,_t.jsx)("div",{className:"divider"}),(0,_t.jsxs)("div",{className:"stats-col",children:[(0,_t.jsx)("div",{className:"stats-number green",children:a?"\u2026":i.completed}),(0,_t.jsx)("div",{className:"stats-label",children:n("profile.completed")})]})]}),(0,_t.jsxs)("div",{className:"settings-section",children:[(0,_t.jsx)("div",{className:"section-header",children:n("profile.settings")}),(0,_t.jsx)("div",{className:"settings-list",children:u.map((e,t)=>{const n=e.icon;return(0,_t.jsxs)("div",{className:"settings-item",onClick:e.action,children:[(0,_t.jsxs)("div",{className:"settings-item-left",children:[(0,_t.jsx)(n,{className:"settings-icon"}),(0,_t.jsxs)("div",{className:"settings-text",children:[(0,_t.jsx)("div",{className:"settings-title",children:e.title}),(0,_t.jsx)("div",{className:"settings-subtitle",children:e.subtitle})]})]}),(0,_t.jsx)("div",{className:"settings-arrow",children:"\u203a"})]},t)})})]})]})]})},Vk=e=>{var t;let{food:n,onBack:r,isFavorite:o,onToggleFavorite:i}=e;return(0,_t.jsxs)("div",{className:"food-detail-header",children:[(0,_t.jsx)("button",{className:"fd-back-button",onClick:r,children:(0,_t.jsx)(Tb,{})}),(0,_t.jsx)("button",{className:"fd-fav-button "+(o?"liked":""),onClick:i,"aria-label":"Favorite",children:o?(0,_t.jsx)(cb,{}):(0,_t.jsx)(lb,{})}),(0,_t.jsxs)("div",{className:"food-image-container",children:[null!==n&&void 0!==n&&n.images&&n.images.length>0?(0,_t.jsx)("img",{src:n.images[0],alt:n.name,className:"food-image",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,_t.jsx)("div",{className:"food-image-placeholder",style:{display:(null===n||void 0===n||null===(t=n.images)||void 0===t?void 0:t.length)>0?"none":"flex"},children:(0,_t.jsx)(xb,{className:"placeholder-icon"})}),(0,_t.jsx)("div",{className:"image-fade"})]}),(0,_t.jsx)("div",{className:"header-curve"})]})},$k=e=>{let{food:t,rating:n,testimonials:r,orderCount:o}=e;const{t:i}=Ft(),s=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"ILS",maximumFractionDigits:2}).format(e||0),a=(null===t||void 0===t?void 0:t.discountPercentage)&&t.discountPercentage>0,l=a?t.price*(1-t.discountPercentage/100):null===t||void 0===t?void 0:t.price;return(0,_t.jsxs)("div",{className:"food-info-section",children:[(0,_t.jsxs)("div",{className:"food-title-row",children:[(0,_t.jsx)("h1",{className:"food-name",children:null===t||void 0===t?void 0:t.name}),(0,_t.jsxs)("div",{className:"food-rating",children:[(0,_t.jsx)(Db,{className:"star-icon"}),(0,_t.jsx)("span",{className:"rating-value",children:n.toFixed(1)}),(0,_t.jsxs)("span",{className:"rating-count",children:["(",r.length,")"]})]})]}),(0,_t.jsxs)("div",{className:"food-meta",children:[(0,_t.jsx)("div",{className:"food-price-container",children:a?(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{className:"discounted-price",children:s(l)}),(0,_t.jsx)("div",{className:"original-price",children:s(null===t||void 0===t?void 0:t.price)}),(0,_t.jsxs)("div",{className:"discount-badge",children:[Math.round(t.discountPercentage),"% ",i("food.off")]})]}):(0,_t.jsx)("div",{className:"food-price",children:s(null===t||void 0===t?void 0:t.price)})}),(0,_t.jsxs)("div",{className:"food-prep-time",children:[(0,_t.jsx)(kb,{className:"time-icon"}),(0,_t.jsxs)("span",{children:[(null===t||void 0===t?void 0:t.preparationTime)||15," ",i("food.min")]})]}),(0,_t.jsxs)("div",{className:"order-count",children:[o," ",i("food.orders")]})]})]})},qk=e=>{let{description:t}=e;const{t:n}=Ft();return(0,_t.jsxs)("div",{className:"section",children:[(0,_t.jsx)("h2",{className:"section-title",children:n("food.description")}),(0,_t.jsx)("p",{className:"food-description",children:(r=t,(r?r.replace(/,\s*([\u05d0-\u05ea]+),/g,"$1."):r)||n("food.no_description"))})]});var r},Hk=e=>{let{allergens:t}=e;return t&&0!==t.length?(0,_t.jsxs)("div",{className:"section",children:[(0,_t.jsx)("h2",{className:"section-title",children:"Allergens"}),(0,_t.jsx)("ul",{className:"allergens-list",children:t.map((e,t)=>(0,_t.jsxs)("li",{className:"allergen-item",children:[(0,_t.jsx)("span",{className:"bullet-point",children:"\u2022"}),e]},t))})]}):null},Wk=e=>{let{testimonials:t}=e;return t&&0!==t.length?(0,_t.jsxs)("div",{className:"section",children:[(0,_t.jsx)("h2",{className:"section-title",children:"Testimonials"}),(0,_t.jsx)("div",{className:"testimonials-list",children:t.map(e=>{var t,n;return(0,_t.jsxs)("div",{className:"testimonial-item",children:[(0,_t.jsxs)("div",{className:"testimonial-header",children:[(0,_t.jsx)("div",{className:"testimonial-rating",children:[...Array(5)].map((t,n)=>(0,_t.jsx)(Db,{className:"star "+(n<e.rating?"filled":"empty")},n))}),(0,_t.jsx)("span",{className:"testimonial-date",children:new Date((null===(t=e.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||e.createdAt).toLocaleDateString()})]}),(0,_t.jsx)("p",{className:"testimonial-text",children:e.comment}),(0,_t.jsxs)("p",{className:"testimonial-author",children:["- ",e.customerName]})]},e.id)})})]}):null},Kk=e=>{let{onAddToCart:t}=e;const{t:n,lang:r}=Ft(),o="he"===r;return(0,_t.jsx)("div",{className:"food-detail-bottom-bar",dir:o?"rtl":"ltr",children:(0,_t.jsx)("button",{className:"add-to-cart-btn-full",onClick:()=>{try{t&&t(1)}catch(e){}},children:n("cart.add_to_cart")})})},Gk=e=>{let{onBack:t}=e;return(0,_t.jsxs)("div",{className:"food-detail-screen",children:[(0,_t.jsx)("div",{className:"food-detail-header",children:(0,_t.jsx)("button",{className:"back-button",onClick:t,children:(0,_t.jsx)(Tb,{})})}),(0,_t.jsxs)("div",{className:"loading-container",children:[(0,_t.jsx)("div",{className:"loading-spinner"}),(0,_t.jsx)("p",{children:"Loading food details..."})]})]})},Qk=e=>{let{error:t,onBack:n,onRetry:r}=e;const{t:o}=Ft();return(0,_t.jsxs)("div",{className:"food-detail-screen",children:[(0,_t.jsx)("div",{className:"food-detail-header",children:(0,_t.jsx)("button",{className:"back-button",onClick:n,children:(0,_t.jsx)(Tb,{})})}),(0,_t.jsxs)("div",{className:"error-container",children:[(0,_t.jsx)("p",{className:"error-text",children:t||o("food.not_found")}),(0,_t.jsx)("button",{className:"retry-button",onClick:r,children:o("food.try_again")})]})]})},Yk=()=>{const{foodId:t}=ne(),n=te(),[r,o]=(0,e.useState)(null),[i,s]=(0,e.useState)([]),[a,l]=(0,e.useState)(0),[c,u]=(0,e.useState)(0),[d,h]=(0,e.useState)(!0),[f,p]=(0,e.useState)(null),[m,g]=(0,e.useState)(!1);(0,e.useEffect)(()=>{t&&y()},[t]);const y=async()=>{try{h(!0),p(null),await v(),await w(),await b()}catch(e){console.error("\u274c Error initializing food detail screen:",e),p("Failed to load food details")}finally{h(!1)}},v=async()=>{try{console.log("\ud83d\udd0d Fetching food details for ID:",t);let n=null;try{const e=Gh(Vw,"menuItems",t),r=await ep(e);r.exists()&&(n={id:r.id,...r.data()},console.log("\u2705 Food details loaded from menuItems:",n.name))}catch(e){console.log("\u2139\ufe0f Not found in menuItems, trying offers...")}if(!n)try{const e=Gh(Vw,"offers",t),r=await ep(e);r.exists()&&(n={id:r.id,...r.data()},console.log("\u2705 Food details loaded from offers:",n.name))}catch(e){console.log("\u2139\ufe0f Not found in offers either")}if(!n)throw new Error("Food not found in menuItems or offers");o(n),k(n.id)}catch(f){throw console.error("\u274c Error fetching food details:",f),f}},w=async()=>{try{console.log("\ud83d\udcca Fetching order count for food:",t);const e=Of(Kh(Vw,"orders"),Mf("foodId","==",t)),n=await np(e);u(n.size),console.log("\u2705 Order count loaded:",n.size)}catch(f){console.error("\u274c Error fetching order count:",f)}},b=async()=>{try{console.log("\ud83d\udcac Fetching testimonials for food:",t);const e=Gh(Vw,"menuItems",t),n=Of(Kh(Vw,"testimonials"),Mf("target","==",e)),r=await np(n),o=[];if(r.forEach(e=>{o.push({id:e.id,...e.data()})}),s(o),o.length>0){const e=o.reduce((e,t)=>e+(t.rating||0),0),t=e/o.length;l(t),console.log("\u2705 Testimonials loaded:",o.length,"Average rating:",t)}else l(0),console.log("\u2139\ufe0f No testimonials found")}catch(f){console.error("\u274c Error fetching testimonials:",f)}},k=e=>{const t=Tt.getUserData();t&&t.favorites&&g(t.favorites.includes(e))},_=()=>{n(-1)};return d?(0,_t.jsx)(Gk,{onBack:_}):f||!r?(0,_t.jsx)(Qk,{error:f,onBack:_,onRetry:y}):(0,_t.jsxs)("div",{className:"food-detail-screen",children:[(0,_t.jsx)(Vk,{food:r,onBack:_,isFavorite:m,onToggleFavorite:()=>{try{const e=Tt.getUserData();if(!e)return;let t=e.favorites||[];m?(t=t.filter(e=>e!==r.id),console.log("\ud83d\udc94 Removed from favorites:",r.name)):(t.push(r.id),console.log("\u2764\ufe0f Added to favorites:",r.name));const n={...e,favorites:t};Tt.setUserData(n),g(!m)}catch(f){console.error("\u274c Error toggling favorite:",f)}}}),(0,_t.jsx)("div",{className:"food-detail-content",children:(0,_t.jsxs)("div",{className:"food-card",children:[(0,_t.jsx)($k,{food:r,rating:a,testimonials:i,orderCount:c}),(0,_t.jsx)(qk,{description:r.description}),(0,_t.jsx)(Hk,{allergens:r.allergens}),(0,_t.jsx)(Wk,{testimonials:i})]})}),(0,_t.jsx)(Kk,{onAddToCart:()=>{try{console.log("\ud83d\uded2 Adding to cart:",r.name);const e=gk.addToCart(r,1);e.success?(qb(`${r.name} added to cart! (${e.totalItems} items)`,"success",3e3),console.log("\u2705 Added to cart successfully:",e.message),setTimeout(()=>{n("/precart")},800)):(qb(e.message,"error",4e3),console.error("\u274c Failed to add to cart:",e.message))}catch(f){console.error("\u274c Error adding to cart:",f),qb("Failed to add item to cart","error",4e3)}}})]})},Xk=e=>{let{onBack:t}=e;return(0,_t.jsx)("div",{className:"tip-header",children:(0,_t.jsx)("button",{className:"back-button",onClick:t,"aria-label":"Back",children:(0,_t.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,_t.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})})})},Jk=e=>{let{options:t=[2,4,6,8],selected:n,onChange:r}=e;return(0,_t.jsx)("div",{className:"tip-options",children:t.map(e=>{return(0,_t.jsx)("button",{className:"tip-option "+(n===e?"selected":""),onClick:()=>r(e),children:(t=e,new Intl.NumberFormat("en-US",{style:"currency",currency:"ILS",maximumFractionDigits:0}).format(t||0))},e);var t})})},Zk=e=>{let{value:t,onChange:n,inputRef:r}=e;const{t:o}=Ft();return(0,_t.jsxs)("div",{className:"custom-tip-section",children:[(0,_t.jsx)("label",{className:"custom-tip-label",children:o("tip.custom_tip_label")}),(0,_t.jsx)("input",{type:"number",className:"custom-tip-input",placeholder:o("tip.custom_tip_placeholder"),value:t,onChange:e=>n(e.target.value),min:"0",max:"500",ref:r})]})},e_=e=>{let{tipAmount:t=0,onCustomTip:n}=e;const{t:r}=Ft();return(0,_t.jsx)("div",{className:"tip-amount-section",children:(0,_t.jsxs)("div",{className:"tip-amount-row",children:[(0,_t.jsx)("span",{className:"tip-label",children:r("tip.tip_amount")}),(0,_t.jsx)("span",{className:"tip-amount",children:(o=t,new Intl.NumberFormat("en-US",{style:"currency",currency:"ILS",maximumFractionDigits:2}).format(o||0))}),n&&(0,_t.jsx)("button",{type:"button",className:"custom-tip-link",onClick:n,children:r("tip.custom_tip")})]})});var o},t_=e=>{let{onAddTip:t,onSkipTip:n,tipAmount:r=0}=e;const{t:o}=Ft();return(0,_t.jsxs)("div",{className:"tip-actions",children:[(0,_t.jsxs)("button",{className:"add-tip-button",onClick:t,children:[o("tip.add_tip")," (",(i=r,new Intl.NumberFormat("en-US",{style:"currency",currency:"ILS",maximumFractionDigits:2}).format(i||0)),")"]}),(0,_t.jsx)("button",{className:"skip-tip-button",onClick:n,children:o("tip.skip")})]});var i},n_=()=>{const t=te(),{t:n}=Ft(),[r,o]=(0,e.useState)(0),[i,s]=(0,e.useState)(0),[a,l]=(0,e.useState)(0),[c,u]=(0,e.useState)(""),d=(0,e.useRef)(null);(0,e.useEffect)(()=>{const e=gk.getTotalPrice();l(e);o(4),s(4)},[]);const h=e=>{s(e),o(e)};return(0,_t.jsx)("div",{className:"tip-screen",children:(0,_t.jsxs)("div",{className:"tip-container",children:[(0,_t.jsx)(Xk,{onBack:()=>t(-1)}),(0,_t.jsx)("h1",{className:"tip-title",children:n("tip.title")}),(0,_t.jsxs)("p",{className:"tip-description",children:[n("tip.supports_runner")," ",n("tip.order_total_is")," ",(0,_t.jsx)("span",{className:"order-total",children:(f=a,new Intl.NumberFormat("en-US",{style:"currency",currency:"ILS",maximumFractionDigits:2}).format(f||0))}),"."]}),(0,_t.jsx)("div",{className:"delivery-illustration",children:(0,_t.jsx)("img",{src:"/assets/images/tipimage.png",alt:n("tip.illustration_alt"),className:"tip-illustration-img"})}),(0,_t.jsx)(e_,{tipAmount:i,onCustomTip:()=>{requestAnimationFrame(()=>{d.current&&(d.current.scrollIntoView({behavior:"smooth",block:"center"}),d.current.focus())})}}),(0,_t.jsx)(Jk,{options:[2,4,6,8],selected:r,onChange:e=>{o(e),u(""),h(e)}}),(0,_t.jsx)(Zk,{value:c,onChange:e=>{u(e);const t=parseFloat(e)||0;t>=0&&(o(t),h(t))},inputRef:d}),(0,_t.jsx)(t_,{onAddTip:()=>{console.log("\ud83d\udcb0 Adding tip:",i,"ILS"),localStorage.setItem("selectedTip",JSON.stringify({amount:i})),t("/order/confirm")},onSkipTip:()=>{console.log("\u23ed\ufe0f Skipping tip"),localStorage.setItem("selectedTip",JSON.stringify({amount:0})),t("/order/confirm")},tipAmount:i})]})});var f};const r_=function(){var t;const{shopId:n}=ne(),r=te(),[o,i]=(0,e.useState)([]),[s,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(!0),[u,d]=(0,e.useState)(null);return(0,e.useEffect)(()=>{try{window.scrollTo({top:0,left:0,behavior:"auto"})}catch(e){window.scrollTo(0,0)}},[n]),(0,e.useEffect)(()=>{(async()=>{try{if(c(!0),d(null),n){const e=Gh(Vw,"shops",n),t=await ep(e);t.exists()&&a({id:t.id,...t.data()})}const e=await ik.getMenuItemsByShop(n,50);e.success?i(e.foods):d(e.error||"Failed to fetch shop menu")}catch(AS){console.error(AS),d("Failed to fetch shop menu")}finally{c(!1)}})()},[n]),(0,_t.jsxs)("div",{className:"shop-menu-page",children:[(0,_t.jsx)("div",{className:"shop-menu-header",children:(0,_t.jsxs)("div",{className:"shop-title-row",children:[(0,_t.jsx)("button",{onClick:()=>r(-1),className:"back-icon","aria-label":"Go back",title:"Back",children:"\u2190"}),(0,_t.jsx)("h2",{className:"shop-title",children:(null===s||void 0===s?void 0:s.name)||`Gate ${(null===s||void 0===s?void 0:s.gate)||(null===n||void 0===n||null===(t=n.slice)||void 0===t?void 0:t.call(n,0,6))}`})]})}),u&&(0,_t.jsx)("div",{className:"shop-menu-error",children:u}),(0,_t.jsx)("div",{className:"shop-menu-grid",children:l?[...Array(8)].map((e,t)=>(0,_t.jsxs)("div",{className:"grid-card shimmer",children:[(0,_t.jsx)("div",{className:"grid-image"}),(0,_t.jsxs)("div",{className:"grid-content",children:[(0,_t.jsx)("div",{className:"line"}),(0,_t.jsx)("div",{className:"line short"})]})]},t)):o.map(e=>(0,_t.jsxs)("div",{className:"grid-card",onClick:()=>(e=>r(`/food/${e.id}`))(e),children:[(0,_t.jsx)("div",{className:"grid-image",children:(0,_t.jsx)("img",{src:e.getPrimaryImage(),alt:e.name,onError:e=>{e.target.src="/api/placeholder/200/150"}})}),(0,_t.jsxs)("div",{className:"grid-content",children:[(0,_t.jsx)("h3",{className:"grid-name",children:e.name}),(0,_t.jsxs)("div",{className:"grid-bottom",children:[(0,_t.jsx)("span",{className:"grid-price",children:e.getFormattedPrice()}),(0,_t.jsx)("span",{className:"grid-prep",children:e.getPreparationTimeText()})]})]})]},e.id))})]})},o_=e=>{let{formData:t,errors:n,onChange:r,sectionsOptions:o=[],onScanQr:i}=e;const{t:s}=Ft(),a=(e,t)=>{try{const n=s(e);return n&&n!==e?n:t}catch(n){return t}};return(0,_t.jsxs)("div",{className:"seat-info-section",children:[(0,_t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,_t.jsx)("h2",{className:"section-title",style:{margin:0},children:s("order.seat_info_title")}),(0,_t.jsx)("button",{type:"button",onClick:i,style:{padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},onMouseOver:e=>e.target.style.background="#2563eb",onMouseOut:e=>e.target.style.background="#3b82f6",children:"\ud83d\udcf1 Scan QR"})]}),(0,_t.jsxs)("div",{className:"form-row",children:[(0,_t.jsxs)("div",{className:"form-field",children:[(0,_t.jsx)("label",{className:"field-label",children:s("order.seat_number")}),(0,_t.jsx)("input",{type:"text",className:"field-input "+(n.seatNo?"error":""),placeholder:s("order.seat_number_ph"),value:t.seatNo,onChange:e=>r("seatNo",e.target.value)}),n.seatNo&&(0,_t.jsx)("span",{className:"error-text",children:n.seatNo})]}),(0,_t.jsxs)("div",{className:"form-field",children:[(0,_t.jsx)("label",{className:"field-label",children:s("order.stand")}),(0,_t.jsxs)("select",{className:"field-input",value:t.stand||"",onChange:e=>r("stand",e.target.value),children:[(0,_t.jsx)("option",{value:"",disabled:!0,children:s("order.select_stand")}),(0,_t.jsx)("option",{value:"Gallery",children:s("order.stand_gallery")}),(0,_t.jsx)("option",{value:"Main",children:s("order.stand_main")})]})]})]}),(0,_t.jsxs)("div",{className:"form-row",children:[(0,_t.jsxs)("div",{className:"form-field",children:[(0,_t.jsx)("label",{className:"field-label",children:s("order.row_number")}),(0,_t.jsx)("input",{type:"text",className:"field-input "+(n.row?"error":""),placeholder:s("order.row_number_ph"),value:t.row,onChange:e=>r("row",e.target.value)}),n.row&&(0,_t.jsx)("span",{className:"error-text",children:n.row})]}),(0,_t.jsxs)("div",{className:"form-field",children:[(0,_t.jsx)("label",{className:"field-label",children:a("order.section","Section")}),(0,_t.jsxs)("select",{className:"field-input "+(n.section?"error":""),value:t.sectionId||"",onChange:e=>{const t=e.target.value,n=o.find(e=>e.id===t);r("sectionId",t),r("section",(null===n||void 0===n?void 0:n.name)||"")},children:[(0,_t.jsx)("option",{value:"",disabled:!0,children:a("order.select_section","Select section")}),o.map(e=>(0,_t.jsx)("option",{value:e.id,children:e.name||e.id},e.id))]}),n.section&&(0,_t.jsx)("span",{className:"error-text",children:n.section})]})]})]})},i_=t=>{let{ticketImage:n,onImageUpload:r,onCameraCapture:o}=t;const i=(0,e.useRef)(null),s=(0,e.useRef)(null),{t:a}=Ft();return(0,_t.jsxs)("div",{className:"ticket-upload-section",children:[(0,_t.jsx)("input",{ref:i,type:"file",accept:"image/*",onChange:r,style:{display:"none"}}),(0,_t.jsx)("input",{ref:s,type:"file",accept:"image/*",capture:"environment",onChange:r,style:{display:"none"}}),(0,_t.jsxs)("div",{className:"upload-options",children:[(0,_t.jsx)("button",{type:"button",className:"upload-option",onClick:()=>{i.current&&i.current.click()},"aria-label":a("order.choose_from_gallery"),children:(0,_t.jsx)("img",{src:"/assets/images/choose-from-gallery.png",alt:a("order.choose_from_gallery"),className:"upload-icon-img"})}),(0,_t.jsx)("button",{type:"button",className:"upload-option",onClick:()=>{s.current&&s.current.click(),"function"===typeof o&&o()},"aria-label":a("order.front_camera"),children:(0,_t.jsx)("img",{src:"/assets/images/camera.png",alt:a("order.front_camera"),className:"upload-icon-img"})})]}),n&&(0,_t.jsxs)("div",{style:{marginTop:10,display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,_t.jsx)("img",{src:n,alt:a("order.ticket_alt"),style:{width:46,height:46,borderRadius:10,objectFit:"cover",border:"1px solid #e5e7eb"}}),(0,_t.jsx)("span",{style:{marginInlineStart:8,fontSize:12,color:"#6b7280"},children:a("order.ticket_image_title")})]}),(0,_t.jsxs)("div",{className:"upload-or-separator",children:[(0,_t.jsx)("span",{className:"line"}),(0,_t.jsx)("span",{className:"or",children:a("order.or")}),(0,_t.jsx)("span",{className:"line"})]})]})},s_=e=>{let{orderTotal:t=0,deliveryFee:n=0,tipData:r={amount:0,percentage:0},finalTotal:o=0}=e;const{t:i}=Ft(),s=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"ILS",maximumFractionDigits:2}).format(e||0);return(0,_t.jsxs)("div",{className:"order-summary-section",children:[(0,_t.jsx)("h2",{className:"section-title",children:i("order.summary_title")}),(0,_t.jsxs)("div",{className:"summary-row",children:[(0,_t.jsx)("span",{className:"summary-label",children:i("order.subtotal")}),(0,_t.jsx)("span",{className:"summary-value",children:s(t)})]}),(0,_t.jsxs)("div",{className:"summary-row",children:[(0,_t.jsx)("span",{className:"summary-label",children:i("cart.delivery")}),(0,_t.jsx)("span",{className:"summary-value",children:s(n)})]}),(0,_t.jsxs)("div",{className:"summary-row",children:[(0,_t.jsx)("span",{className:"summary-label",children:i("order.tip")}),(0,_t.jsx)("span",{className:"summary-value",children:s(r.amount)})]}),(0,_t.jsxs)("div",{className:"summary-row total",children:[(0,_t.jsx)("span",{className:"summary-label",children:i("order.total")}),(0,_t.jsx)("span",{className:"summary-value",children:s(o)})]})]})},a_=e=>{let{loading:t,finalTotal:n,onPlaceOrder:r}=e;const{t:o}=Ft(),i=`\u20aa${n.toFixed(2)}`,s=t?o("order.processing"):o("order.place_order_with_total").replace("{total}",i);return(0,_t.jsx)("div",{className:"place-order-section",children:(0,_t.jsx)("button",{className:"place-order-button",onClick:r,disabled:t,children:s})})};var l_,c_="basil",u_="https://js.stripe.com",d_="".concat(u_,"/").concat(c_,"/stripe.js"),h_=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,f_=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,p_="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",m_=function(e){return h_.test(e)||f_.test(e)},g_=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(d_).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},y_=null,v_=null,w_=null,b_=function(e){return null!==y_?y_:(y_=new Promise(function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(p_),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(u_,'"]')),t=0;t<e.length;t++){var n=e[t];if(m_(n.src))return n}return null}();if(r&&e)console.warn(p_);else if(r){if(r&&null!==w_&&null!==v_){var o;r.removeEventListener("load",w_),r.removeEventListener("error",v_),null===(o=r.parentNode)||void 0===o||o.removeChild(r),r=g_(e)}}else r=g_(e);w_=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),v_=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),r.addEventListener("load",w_),r.addEventListener("error",v_)}catch(i){return void n(i)}else t(null)})).catch(function(e){return y_=null,Promise.reject(e)})},k_=!1,__=function(){return l_||(l_=b_(null).catch(function(e){return l_=null,Promise.reject(e)}))};Promise.resolve().then(function(){return __()}).catch(function(e){k_||console.warn(e)});var S_=n(173);function C_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C_(Object(n),!0).forEach(function(t){x_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I_(e){return I_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I_(e)}function x_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T_(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function N_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A_=function(t,n,r){var o=!!r,i=e.useRef(r);e.useEffect(function(){i.current=r},[r]),e.useEffect(function(){if(!o||!t)return function(){};var e=function(){i.current&&i.current.apply(i,arguments)};return t.on(n,e),function(){t.off(n,e)}},[o,n,t,i])},R_=function(t){var n=e.useRef(t);return e.useEffect(function(){n.current=t},[t]),n.current},D_=function(e){return null!==e&&"object"===I_(e)},B_="[object Object]",L_=function e(t,n){if(!D_(t)||!D_(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var o=Object.prototype.toString.call(t)===B_;if(o!==(Object.prototype.toString.call(n)===B_))return!1;if(!o&&!r)return t===n;var i=Object.keys(t),s=Object.keys(n);if(i.length!==s.length)return!1;for(var a={},l=0;l<i.length;l+=1)a[i[l]]=!0;for(var c=0;c<s.length;c+=1)a[s[c]]=!0;var u=Object.keys(a);if(u.length!==i.length)return!1;var d=t,h=n;return u.every(function(t){return e(d[t],h[t])})},O_=function(e,t,n){return D_(e)?Object.keys(e).reduce(function(r,o){var i=!D_(t)||!L_(e[o],t[o]);return n.includes(o)?(i&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),r):i?E_(E_({},r||{}),{},x_({},o,e[o])):r},null):null},j_="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",M_=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j_;if(null===e||D_(t=e)&&"function"===typeof t.elements&&"function"===typeof t.createToken&&"function"===typeof t.createPaymentMethod&&"function"===typeof t.confirmCardPayment)return e;throw new Error(n)},F_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j_;if(function(e){return D_(e)&&"function"===typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return M_(e,t)})};var n=M_(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},U_=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"4.0.0"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},z_=e.createContext(null);z_.displayName="ElementsContext";var V_=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},$_=function(t){var n=t.stripe,r=t.options,o=t.children,i=e.useMemo(function(){return F_(n)},[n]),s=N_(e.useState(function(){return{stripe:"sync"===i.tag?i.stripe:null,elements:"sync"===i.tag?i.stripe.elements(r):null}}),2),a=s[0],l=s[1];e.useEffect(function(){var e=!0,t=function(e){l(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==i.tag||a.stripe?"sync"!==i.tag||a.stripe||t(i.stripe):i.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[i,a,r]);var c=R_(n);e.useEffect(function(){null!==c&&c!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[c,n]);var u=R_(r);return e.useEffect(function(){if(a.elements){var e=O_(r,u,["clientSecret","fonts"]);e&&a.elements.update(e)}},[r,u,a.elements]),e.useEffect(function(){U_(a.stripe)},[a.stripe]),e.createElement(z_.Provider,{value:a},o)};$_.propTypes={stripe:S_.any,options:S_.object};var q_=function(t){var n=e.useContext(z_);return V_(n,t)};S_.func.isRequired;var H_=e.createContext(null);H_.displayName="CheckoutContext",S_.any,S_.shape({fetchClientSecret:S_.func.isRequired,elementsOptions:S_.object}).isRequired;var W_=function(t){var n=e.useContext(H_),r=e.useContext(z_);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}return V_(r,t)},K_=["mode"],G_=function(t,n){var r,o="".concat((r=t).charAt(0).toUpperCase()+r.slice(1),"Element"),i=n?function(t){W_("mounts <".concat(o,">"));var n=t.id,r=t.className;return e.createElement("div",{id:n,className:r})}:function(n){var r,i=n.id,s=n.className,a=n.options,l=void 0===a?{}:a,c=n.onBlur,u=n.onFocus,d=n.onReady,h=n.onChange,f=n.onEscape,p=n.onClick,m=n.onLoadError,g=n.onLoaderStart,y=n.onNetworksChange,v=n.onConfirm,w=n.onCancel,b=n.onShippingAddressChange,k=n.onShippingRateChange,_=n.onSavedPaymentMethodRemove,S=n.onSavedPaymentMethodUpdate,C=W_("mounts <".concat(o,">")),E="elements"in C?C.elements:null,I="checkoutState"in C?C.checkoutState:null,x="success"===(null===I||void 0===I?void 0:I.type)?I.checkout:null,T=N_(e.useState(null),2),N=T[0],P=T[1],A=e.useRef(null),R=e.useRef(null);A_(N,"blur",c),A_(N,"focus",u),A_(N,"escape",f),A_(N,"click",p),A_(N,"loaderror",m),A_(N,"loaderstart",g),A_(N,"networkschange",y),A_(N,"confirm",v),A_(N,"cancel",w),A_(N,"shippingaddresschange",b),A_(N,"shippingratechange",k),A_(N,"savedpaymentmethodremove",_),A_(N,"savedpaymentmethodupdate",S),A_(N,"change",h),d&&(r="expressCheckout"===t?d:function(){d(N)}),A_(N,"ready",r),e.useLayoutEffect(function(){if(null===A.current&&null!==R.current&&(E||x)){var e=null;if(x)switch(t){case"payment":e=x.createPaymentElement(l);break;case"address":if(!("mode"in l))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var n=l.mode,r=T_(l,K_);if("shipping"===n)e=x.createShippingAddressElement(r);else{if("billing"!==n)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");e=x.createBillingAddressElement(r)}break;case"expressCheckout":e=x.createExpressCheckoutElement(l);break;case"currencySelector":e=x.createCurrencySelectorElement();break;case"taxId":e=x.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(o,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else E&&(e=E.create(t,l));A.current=e,P(e),e&&e.mount(R.current)}},[E,x,l]);var D=R_(l);return e.useEffect(function(){if(A.current){var e=O_(l,D,["paymentRequest"]);e&&"update"in A.current&&A.current.update(e)}},[l,D]),e.useLayoutEffect(function(){return function(){if(A.current&&"function"===typeof A.current.destroy)try{A.current.destroy(),A.current=null}catch(e){}}},[]),e.createElement("div",{id:i,className:s,ref:R})};return i.propTypes={id:S_.string,className:S_.string,onChange:S_.func,onBlur:S_.func,onFocus:S_.func,onReady:S_.func,onEscape:S_.func,onClick:S_.func,onLoadError:S_.func,onLoaderStart:S_.func,onNetworksChange:S_.func,onConfirm:S_.func,onCancel:S_.func,onShippingAddressChange:S_.func,onShippingRateChange:S_.func,onSavedPaymentMethodRemove:S_.func,onSavedPaymentMethodUpdate:S_.func,options:S_.object},i.displayName=o,i.__elementType=t,i},Q_="undefined"===typeof window,Y_=e.createContext(null);Y_.displayName="EmbeddedCheckoutProviderContext";G_("auBankAccount",Q_);var X_=G_("card",Q_),J_=(G_("cardNumber",Q_),G_("cardExpiry",Q_),G_("cardCvc",Q_),G_("fpxBank",Q_),G_("iban",Q_),G_("idealBank",Q_),G_("p24Bank",Q_),G_("epsBank",Q_),G_("payment",Q_),G_("expressCheckout",Q_),G_("paymentRequestButton",Q_));G_("linkAuthentication",Q_),G_("address",Q_),G_("shippingAddress",Q_),G_("paymentMethodMessaging",Q_),G_("affirmMessage",Q_),G_("afterpayClearpayMessage",Q_),G_("taxId",Q_);console.log("[DEBUG] REACT_APP_STRIPE_PUBLISHABLE_KEY:","pk_test_51RyfgTKj6LjssenC2Wy0Omeu3bQMa2hsc33riQoi43TU7AyIAQ08zELQWLOBvcRBgCyKMYIQ0rhOOsr0mTqanrse00W2xoKNg7");const Z_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];k_=!0;var r=Date.now();return __().then(function(e){return function(e,t,n){if(null===e)return null;var r=t[0].match(/^pk_test/),o=function(e){return 3===e?"v3":e}(e.version),i=c_;r&&o!==i&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(i,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})}(s,n),s}(e,t,r)})}("pk_test_51RyfgTKj6LjssenC2Wy0Omeu3bQMa2hsc33riQoi43TU7AyIAQ08zELQWLOBvcRBgCyKMYIQ0rhOOsr0mTqanrse00W2xoKNg7"),eS=(0,e.forwardRef)((t,n)=>{let{intentId:r,clientSecret:o,onConfirmed:i,totalAmount:s,currency:a="ils",isFormValid:l=!0,onWalletPaymentSuccess:c,validateBeforeWalletPay:u}=t;const d=W_("calls useStripe()").stripe,h=q_("calls useElements()").elements,[f,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(null),{t:y}=Ft();console.log("[DEBUG] CardForm - stripe:",!!d,"elements:",!!h),(0,e.useEffect)(()=>{let e=!0;return(async()=>{try{if(console.log("[DEBUG] Payment Request - stripe:",!!d,"clientSecret:",!!o,"totalAmount:",s),!d||!o||!s)return void console.log("[DEBUG] Payment Request - missing requirements, skipping");console.log("[DEBUG] Building payment request with amount:",s,"currency:",a);const t=await async function(e){let{amount:t,currency:n="ils",country:r="US",label:o="Order",requestPayerName:i=!0,requestPayerEmail:s=!0,requestPayerPhone:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(console.log("[DEBUG] buildPaymentRequest called with:",{amount:t,currency:n,country:r,label:o}),!e||!t||t<=0)return console.log("[DEBUG] buildPaymentRequest failed - stripe:",!!e,"amount:",t),null;const l=e.paymentRequest({country:r,currency:n,total:{label:o,amount:Math.round(100*Number(t))||0},requestPayerName:i,requestPayerEmail:s,requestPayerPhone:a}),c=await l.canMakePayment();return console.log("[DEBUG] canMakePayment result:",c),c?(console.log("[DEBUG] Payment Request created successfully"),l):(console.log("[DEBUG] Payment Request not available - no Apple Pay/Google Pay support"),null)}catch(AS){return console.warn("[stripePaymentRequest] Failed to build payment request:",(null===AS||void 0===AS?void 0:AS.message)||AS),null}}(d,{amount:s,currency:a,label:"Fan Munch Order"});if(console.log("[DEBUG] Payment Request result:",!!t),!e||!t)return;t.on("paymentmethod",async e=>{try{if("function"===typeof u){if(!await u())return void e.complete("fail")}console.log("[STRIPE WALLET] Payment method selected:",{type:e.paymentMethod.type,id:e.paymentMethod.id,card:e.paymentMethod.card});const{error:n,paymentIntent:r}=await d.confirmCardPayment(o,{payment_method:e.paymentMethod.id});if(console.log("[STRIPE WALLET] Payment confirmation response:",{error:n?{type:n.type,code:n.code,message:n.message,decline_code:n.decline_code}:null,paymentIntent:r?{id:r.id,status:r.status,amount:r.amount,currency:r.currency}:null}),n)e.complete("fail"),qb(`${y("order.payment_failed_generic")} ${n.message||""}`.trim(),"error",4e3);else if("succeeded"===(null===r||void 0===r?void 0:r.status)){if(e.complete("success"),qb(y("order.processing_full"),"success",2500),c)try{await c()}catch(t){const e=(null===t||void 0===t?void 0:t.message)||y("order.unknown_error");t&&"VALIDATION"===t.code?qb(e,"error",8e3):qb(`${y("order.wallet_payment_succeeded_order_failed_prefix")} ${e}. ${y("order.contact_support")}`,"error",8e3)}i&&i({intentId:r.id,status:"SUCCEEDED"})}else"requires_action"===(null===r||void 0===r?void 0:r.status)?(e.complete("success"),qb(y("order.additional_auth_required"),"info",3500)):(e.complete("fail"),qb(`${y("order.payment_status")}: ${(null===r||void 0===r?void 0:r.status)||y("order.unknown")}`,"warning",3e3))}catch(n){console.error("[STRIPE WALLET] Payment error:",n),e.complete("fail"),qb(`${y("order.payment_error")}: ${n.message}`,"error",4e3)}}),g(t)}catch(t){}})(),()=>{e=!1}},[d,o,s,a,c,i,u,y]);(0,e.useImperativeHandle)(n,()=>({confirm:async()=>await(async()=>{if(!d||!h||!o)return qb("Stripe not ready or missing payment intent","error",3e3),{ok:!1,error:"Stripe not ready"};p(!0);try{var e,t;const n=h.getElement(X_);console.log("[STRIPE CARD] Attempting payment confirmation with clientSecret:",(null===o||void 0===o?void 0:o.substring(0,20))+"...");const{error:r,paymentIntent:s}=await d.confirmCardPayment(o,{payment_method:{card:n}});return console.log("[STRIPE CARD] Payment confirmation response:",{error:r?{type:r.type,code:r.code,message:r.message,decline_code:r.decline_code}:null,paymentIntent:s?{id:s.id,status:s.status,amount:s.amount,currency:s.currency,charges:null===(e=s.charges)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map(e=>({id:e.id,amount:e.amount,currency:e.currency,status:e.status,outcome:e.outcome,fee_details:e.fee_details}))}:null}),r?(console.error("[Stripe] Payment confirmation error:",r),qb(`Payment failed: ${r.message}`,"error",4e3),{ok:!1,error:r.message,status:"FAILED"}):"succeeded"===s.status?(qb("Payment successful!","success",2500),i&&i({intentId:s.id,status:"SUCCEEDED"}),{ok:!0,status:"SUCCEEDED",intentId:s.id}):"requires_action"===s.status?(qb("Additional authentication required","info",3500),{ok:!1,status:"REQUIRES_ACTION",intentId:s.id}):(qb(`Payment status: ${s.status}`,"warning",3e3),{ok:!1,status:s.status,intentId:s.id})}catch(n){return console.error("[Stripe] Confirmation error:",n),qb(`Payment error: ${n.message}`,"error",4e3),{ok:!1,error:n.message,status:"ERROR"}}finally{p(!1)}})(),isReady:()=>Boolean(d&&h&&o)}));return d&&h?(0,_t.jsxs)("div",{style:{padding:16,margin:"16px 0",border:"1px solid #e5e7eb",borderRadius:8,background:"#fff"},children:[(0,_t.jsx)("div",{style:{fontWeight:600,marginBottom:12},children:y("order.card_payment_title")}),m&&(0,_t.jsxs)("div",{style:{marginBottom:12},children:[(0,_t.jsx)(J_,{options:{paymentRequest:m}}),(0,_t.jsx)("div",{style:{fontSize:12,color:"#6b7280",marginTop:6,fontWeight:"bold"},children:"Or pay with card"})]}),(0,_t.jsx)("div",{style:{padding:"16px",border:"2px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#ffffff",marginBottom:"8px",minHeight:"44px",display:"flex",alignItems:"center",width:"100%"},children:(0,_t.jsx)("div",{style:{width:"100%"},children:(0,_t.jsx)(X_,{options:{style:{base:{fontSize:"16px",color:"#424770",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"},complete:{color:"#424770"}},hidePostalCode:!1}})})}),(0,_t.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:"Enter your card details above. All payments are processed securely through Stripe."}),f&&(0,_t.jsx)("div",{style:{fontSize:14,color:"#6b7280",textAlign:"center"},children:"Processing payment..."})]}):(0,_t.jsxs)("div",{style:{padding:16,margin:"16px 0",border:"1px solid #e5e7eb",borderRadius:8,background:"#fff"},children:[(0,_t.jsx)("div",{style:{fontWeight:600,marginBottom:12},children:y("order.card_payment_title")}),(0,_t.jsx)("div",{style:{fontSize:14,color:"#6b7280",textAlign:"center",padding:"20px"},children:"Loading Stripe payment form..."})]})}),tS=(0,e.forwardRef)((t,n)=>{let{intentId:r,clientSecret:o,mode:i,showConfirmButton:s=!1,onConfirmed:a,totalAmount:l,currency:c="ils",isFormValid:u=!0,onWalletPaymentSuccess:d,validateBeforeWalletPay:h}=t;const f=(0,e.useRef)();return(0,e.useImperativeHandle)(n,()=>({async confirm(){var e;return null===(e=f.current)||void 0===e?void 0:e.confirm()},isReady(){var e;return null===(e=f.current)||void 0===e?void 0:e.isReady()}})),Z_?(0,_t.jsx)($_,{stripe:Z_,children:(0,_t.jsx)(eS,{ref:f,intentId:r,clientSecret:o,totalAmount:l,currency:c,onConfirmed:a,isFormValid:u,onWalletPaymentSuccess:d,validateBeforeWalletPay:h})}):(0,_t.jsxs)("div",{style:{padding:16,margin:"16px 0",border:"1px solid #fecaca",borderRadius:8,background:"#fef2f2"},children:[(0,_t.jsx)("div",{style:{color:"#dc2626",fontWeight:600},children:"Stripe Configuration Missing"}),(0,_t.jsxs)("div",{style:{color:"#7f1d1d",fontSize:14,marginTop:4},children:["Please add your Stripe publishable key to the .env file:",(0,_t.jsx)("br",{}),(0,_t.jsx)("code",{style:{background:"#f3f4f6",padding:"2px 4px",borderRadius:3},children:"REACT_APP_STRIPE_PUBLISHABLE_KEY=pk_test_your_key_here"})]})]})});async function nS(e){let{formData:t,tipData:n,ticketImage:r,customerLocation:o,finalTotal:i,notifyDelivery:s=!1,strictShopAvailability:a=!1,customerPhone:l}=e;if(null===t||void 0===t||!t.row||!String(t.row).trim())throw new Error("Row number is required");if(null===t||void 0===t||!t.seatNo||!String(t.seatNo).trim())throw new Error("Seat number is required");const c=Tt.getUserData(),u={...c,phone:l||(null===c||void 0===c?void 0:c.phone)},d=Nt.getSelectedStadium(),h=gk.getCartItems();if(!c)throw new Error("User data not found. Please log in again.");if(!d)throw new Error("Stadium data not found. Please select a stadium.");if(!h||0===h.length)throw new Error("Cart is empty. Please add items to cart.");const f={row:t.row,seatNo:t.seatNo,section:t.section,seatDetails:t.seatDetails,area:t.area,entrance:t.entrance,stand:t.stand,ticketImage:r||""},p=Array.isArray(h)?h.reduce((e,t)=>e+(t.quantity||0),0):0,m=2*p,g=fk.calculateOrderTotals(h,m,(null===n||void 0===n?void 0:n.amount)||0,0);let y=null;try{y=await async function(e,t,n){if(!e||!t)return null;try{const r=Gh(Vw,"stadiums",e,"sections",t),o=await ep(r);if(!o.exists())return null;const i=o.data()||{},s=Array.isArray(i.shops)?i.shops:[],a=s.length>0?s[0]:null;if(!a){if(n)throw new Error("No shop is assigned to the selected section.");return null}return String(a)}catch(AS){if(n)throw AS;return null}}(d.id,t.sectionId,a)}catch(AS){throw AS}if(!y)throw new Error("No shop is assigned to the selected section. Please choose a different section.");const v=dk.createFromCart({cartItems:h,subtotal:g.subtotal,deliveryFee:g.deliveryFee,discount:g.discount,tipAmount:g.tipAmount,tipPercentage:(null===n||void 0===n?void 0:n.percentage)||0,userData:u,seatInfo:f,stadiumId:d.id,shopId:y,customerLocation:o,location:null,deliveryUserId:""}),w=await fk.createOrder(v);return gk.clearCart(),localStorage.removeItem("selectedTip"),w}function rS(e){if(null==e)return"";let t=String(e).trim();const n=t.startsWith("+");return t=t.replace(/[^0-9]/g,""),n&&(t=`+${t}`),t}function oS(e){const t=rS(e);if(!t)return!1;const n=(t.startsWith("+")?t.slice(1):t).replace(/\D/g,"").length;return n>=6&&n<=16}async function iS(e,t){if(!e)return{saved:!1};const n=rS(t);try{const t=Gh(Vw,"customers",e),r=await ep(t);if(!r.exists())return{saved:!1};const o=r.data()||{};return rS(o.phone||o.userPhoneNo||"")?{saved:!1}:(await op(t,{phone:n}),{saved:!0})}catch(AS){return console.warn("[phoneHelper] saveCustomerPhoneIfMissing error:",AS),{saved:!1}}}var sS=n(361),aS=n.n(sS);const lS=t=>{let{onScanSuccess:n,onClose:r,visible:o}=t;const i=(0,e.useRef)(null),s=(0,e.useRef)(null),a=(0,e.useRef)(null),[l,c]=(0,e.useState)(!1),u=(0,e.useRef)(!1),[d,h]=(0,e.useState)(null),f=(0,e.useRef)(null),[p,m]=(0,e.useState)(!1),[g,y]=(0,e.useState)("idle"),[v,w]=(0,e.useState)({fps:0,vw:0,vh:0,cw:0,ch:0,tw:0,th:0}),b=(0,e.useRef)(performance.now()),k=(0,e.useRef)(0);(0,e.useRef)(!1);(0,e.useEffect)(()=>(o?_():C(),()=>C()),[o]);const _=async()=>{try{let t;try{t=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"},width:{ideal:1920},height:{ideal:1080}}})}catch(e){t=await navigator.mediaDevices.getUserMedia({video:!0})}if(i.current){const e=i.current;e.setAttribute("playsinline","true"),e.setAttribute("webkit-playsinline","true"),e.setAttribute("muted","true"),e.setAttribute("autoplay","true"),e.srcObject=t,h(t);const n=async t=>{console.info(`[QR DEBUG] ${t} fired. readyState=${e.readyState}, dims=${e.videoWidth}x${e.videoHeight}`);try{await e.play()}catch(AS){console.warn("[QR DEBUG] video.play() blocked, will continue polling",AS)}S(e)};e.onloadedmetadata=()=>n("loadedmetadata"),e.onloadeddata=()=>n("loadeddata"),e.oncanplay=()=>n("canplay"),e.onresize=()=>n("resize"),e.readyState>=1&&n("immediate")}}catch(t){console.error("Camera access failed:",t),qb("Camera access denied. Please allow camera permission.","error",4e3)}},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=e.videoWidth||0,r=e.videoHeight||0;return n>0&&r>0?(console.info(`[QR DEBUG] Dimensions ready: ${n}x${r}. Starting scan loop.`),c(!0),u.current=!0,void(f.current||(f.current=requestAnimationFrame(E)))):t>50?(console.warn("[QR DEBUG] Dimensions still 0 after retries. Will keep running loop anyway."),c(!0),u.current=!0,void(f.current||(f.current=requestAnimationFrame(E)))):(y("warming-up"),void setTimeout(()=>S(e,t+1),50))},C=()=>{d&&(d.getTracks().forEach(e=>e.stop()),h(null)),f.current&&(cancelAnimationFrame(f.current),f.current=null),c(!1),u.current=!1},E=()=>{var e,t;if(!i.current||!s.current)return void console.warn("[QR DEBUG] scanForQrCode: missing refs, stopping");if(!u.current)return void console.warn("[QR DEBUG] scanForQrCode: isScanningRef=false, stopping");const n=i.current,r=s.current,o=r.getContext("2d",{willReadFrequently:!0}),l=null===d||void 0===d||null===(e=d.getVideoTracks)||void 0===e?void 0:e.call(d)[0],c=(null===l||void 0===l||null===(t=l.getSettings)||void 0===t?void 0:t.call(l))||{},h=c.width||0,m=c.height||0;if(console.log("[QR DEBUG] scanForQrCode tick, isScanningRef=",u.current,"dims=",n.videoWidth,"x",n.videoHeight),(n.videoWidth||0)>0&&(n.videoHeight||0)>0){const e=n.videoWidth||640,t=n.videoHeight||480;r.width=e,r.height=t,o.drawImage(n,0,0,e,t);let i=o.getImageData(0,0,r.width,r.height),s=I(i);if(!s){const a=Math.min(e,t),l=Math.max(0,Math.floor((e-a)/2)),c=Math.max(0,Math.floor((t-a)/2));r.width=a,o.drawImage(n,l,c,a,a,0,0,a,a),i=o.getImageData(0,0,a,a),s=I(i)}if(p&&a.current)try{const e=a.current.getContext("2d");if(a.current.width=r.width,a.current.height=r.height,e.drawImage(r,0,0),p&&"object"===typeof s&&s.location){const t=s.location,n=(t,n,r)=>{e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.lineWidth=3,e.strokeStyle=r,e.stroke()};n(t.topLeftCorner,t.topRightCorner,"#22c55e"),n(t.topRightCorner,t.bottomRightCorner,"#22c55e"),n(t.bottomRightCorner,t.bottomLeftCorner,"#22c55e"),n(t.bottomLeftCorner,t.topLeftCorner,"#22c55e")}}catch(AS){}k.current+=1;const l=performance.now(),c=l-b.current;if(c>=1e3){const n=Math.round(1e3*k.current/c);k.current=0,b.current=l,w({fps:n,vw:e,vh:t,cw:r.width,ch:r.height,tw:h,th:m}),p&&console.info(`[QR DEBUG] fps=${n} video=${e}x${t} track=${h}x${m} canvas=${r.width}x${r.height}`)}if(s)return y("detected"),void x("object"===typeof s?s.data:s)}u.current?f.current=requestAnimationFrame(E):console.warn("[QR DEBUG] Not continuing RAF, isScanningRef=false")},I=e=>{try{const t=aS()(e.data,e.width,e.height,{inversionAttempts:"attemptBoth"});return t?(console.log("\ud83c\udfaf QR Code detected:",t.data),t):null}catch(t){return console.warn("QR detection error:",t),null}},x=e=>{try{let t,r;console.log("Processing QR data:",e);try{t=new URL(e),r=new URLSearchParams(t.search)}catch{try{r=new URLSearchParams(e)}catch{return void console.warn("Could not parse QR data as URL or query string")}}if(t){if(!["fanmunch.com","www.fanmunch.com","localhost"].some(e=>t.hostname===e||t.hostname.includes(e)))return void console.warn("QR code contains invalid domain:",t.hostname)}const o={row:r.get("row")||"",seatNo:r.get("seat")||r.get("seatNo")||"",section:r.get("section")||"",sectionId:r.get("sectionId")||"",entrance:r.get("entrance")||r.get("gate")||"",stand:r.get("stand")||"",seatDetails:r.get("details")||r.get("seatDetails")||"",area:r.get("area")||""};Object.values(o).some(e=>e&&""!==String(e).trim())&&(C(),n(o),qb("QR code scanned successfully!","success",2e3))}catch(t){console.warn("Failed to parse QR data:",t)}};return o?(0,_t.jsxs)("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.9)",zIndex:1e3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px"},children:[(0,_t.jsxs)("div",{style:{color:"white",textAlign:"center",marginBottom:"20px"},children:[(0,_t.jsx)("h2",{style:{margin:"0 0 8px 0",fontSize:"1.5rem"},children:"Scan QR Code"}),(0,_t.jsx)("p",{style:{margin:0,opacity:.8},children:"Point your camera at the QR code"})]}),(0,_t.jsx)("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",color:"white",background:"detected"===g?"rgba(34,197,94,0.9)":"rgba(59, 130, 246, 0.9)",padding:"12px 20px",borderRadius:"25px",fontSize:"14px",fontWeight:"600",textAlign:"center",maxWidth:"280px",lineHeight:"1.4"},children:"detected"===g?"\u2705 QR Detected":"\ud83d\udcf1 Scanning for QR Codes..."}),(0,_t.jsxs)("div",{style:{position:"relative",width:"100%",maxWidth:"600px",aspectRatio:"4/3",background:"#1f2937",borderRadius:"12px",overflow:"hidden",marginBottom:"20px"},children:[(0,_t.jsx)("video",{ref:i,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(1)"}}),(0,_t.jsx)("div",{style:{position:"absolute",inset:"20px",border:"2px solid #3b82f6",borderRadius:"8px",boxShadow:"inset 0 0 0 2px rgba(59, 130, 246, 0.3)"},children:[{top:"-2px",left:"-2px"},{top:"-2px",right:"-2px"},{bottom:"-2px",left:"-2px"},{bottom:"-2px",right:"-2px"}].map((e,t)=>(0,_t.jsx)("div",{style:{position:"absolute",width:"20px",height:"20px",border:"3px solid #3b82f6",...e,...void 0!==e.top&&void 0!==e.left&&{borderRight:"none",borderBottom:"none"},...void 0!==e.top&&void 0!==e.right&&{borderLeft:"none",borderBottom:"none"},...void 0!==e.bottom&&void 0!==e.left&&{borderRight:"none",borderTop:"none"},...void 0!==e.bottom&&void 0!==e.right&&{borderLeft:"none",borderTop:"none"}}},t))})]}),(0,_t.jsx)("canvas",{ref:s,style:{display:"none"}}),p&&(0,_t.jsxs)("div",{style:{marginTop:"8px",background:"#111827",padding:"8px",borderRadius:"8px"},children:[(0,_t.jsx)("div",{style:{color:"#9CA3AF",fontSize:12,marginBottom:6},children:"Processed frame preview"}),(0,_t.jsx)("canvas",{ref:a,style:{maxWidth:320,width:"100%",borderRadius:6,border:"1px solid #374151"}})]}),(0,_t.jsx)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",justifyContent:"center"},children:(0,_t.jsx)("button",{onClick:r,style:{padding:"16px 32px",background:"#dc2626",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:"600",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)",transition:"all 0.2s ease"},onMouseOver:e=>e.target.style.background="#b91c1c",onMouseOut:e=>e.target.style.background="#dc2626",children:"Close Scanner"})}),(0,_t.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.7)",textAlign:"center",marginTop:"20px",fontSize:"14px",maxWidth:"300px"},children:(0,_t.jsx)("p",{style:{margin:0},children:"Position the QR code within the blue frame and hold steady."})})]}):null},cS=()=>{const t=te(),{t:n}=Ft(),r=(0,e.useRef)(null),o=(0,e.useRef)(null),[i,s]=(0,e.useState)(null),[a,l]=(0,e.useState)({row:"",seatNo:"",entrance:"",stand:"Main"}),[c,u]=(0,e.useState)(0),[d,h]=(0,e.useState)(0),[f,p]=(0,e.useState)({amount:0,percentage:0}),[m,g]=(0,e.useState)(0),[y,v]=(0,e.useState)(()=>{var e;return(null===(e=Nt.getSelectedStadium())||void 0===e?void 0:e.id)||null}),[w,b]=(0,e.useState)([]),[k,_]=(0,e.useState)(!1),[S,C]=(0,e.useState)({}),[E,I]=(0,e.useState)(null),[x,T]=(0,e.useState)(null),[N,P]=(0,e.useState)(!1),[A,R]=(0,e.useState)(!1),[D,B]=(0,e.useState)(!1),[L,O]=(0,e.useState)(!1),[j,M]=(0,e.useState)("unknown"),[F,U]=(0,e.useState)(""),[z,V]=(0,e.useState)(!1),[$,q]=(0,e.useState)(!1),[H,W]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=gk.getCartItems(),t=gk.getTotalPrice();u(t);const n=Array.isArray(e)?e.reduce((e,t)=>e+(t.quantity||0),0):0,r=2*n;h(r);const o=localStorage.getItem("selectedTip");if(o){const e=JSON.parse(o);p(e),g(t+r+e.amount)}else g(t+r);console.log("\ud83d\udd0d [ORDER] Checking for seat data..."),console.log("\ud83d\udd0d [ORDER] Current URL:",window.location.href);const i=new URLSearchParams(window.location.search);console.log("\ud83d\udd0d [ORDER] URL params:",Object.fromEntries(i.entries()));const s={row:i.get("row")||"",seatNo:i.get("seat")||i.get("seatNo")||"",section:i.get("section")||"",sectionId:i.get("sectionId")||"",entrance:i.get("entrance")||i.get("gate")||"",stand:i.get("stand")||"",seatDetails:i.get("details")||i.get("seatDetails")||"",area:i.get("area")||""},c=Object.values(s).some(e=>e&&""!==String(e).trim());console.log("\ud83d\udd0d [ORDER] Has URL data?",c,s),console.log("\ud83d\udd0d [ORDER] Checking sessionStorage...");let d=null;try{const e=sessionStorage.getItem("pending_seat_data");console.log("\ud83d\udd0d [ORDER] Raw sessionStorage data:",e),e?(d=JSON.parse(e),console.log("\u2705 [ORDER] Parsed session data:",d)):console.log("\u26a0\ufe0f [ORDER] No data in sessionStorage")}catch(AS){console.error("\u274c [ORDER] Failed to parse pending seat data:",AS)}if(c)console.log("\u2705 [ORDER] Auto-filling from URL parameters:",s),l(e=>{const t={...e,...s,stand:s.stand||"Main"};return console.log("\ud83d\udcdd [ORDER] Form data updated:",t),t}),qb("Seat info loaded from QR code!","success",2e3),sessionStorage.removeItem("pending_seat_data"),console.log("\ud83d\uddd1\ufe0f [ORDER] Cleared sessionStorage");else if(d)console.log("\u2705 [ORDER] Auto-filling from session storage:",d),l(e=>{const t={...e,...d,stand:d.stand||"Main"};return console.log("\ud83d\udcdd [ORDER] Form data updated:",t),t}),qb("Seat info loaded from QR code!","success",2e3),sessionStorage.removeItem("pending_seat_data"),console.log("\ud83d\uddd1\ufe0f [ORDER] Cleared sessionStorage");else{console.log("\ud83d\udd0d [ORDER] Checking seatStorage...");const e=It.getSeatInfo();e?(console.log("\u2705 [ORDER] Auto-filling from seatStorage:",e),l(t=>({...t,...e}))):console.log("\u26a0\ufe0f [ORDER] No seat data found anywhere - form will be empty")}try{const e=Tt.getUserData();null!==e&&void 0!==e&&e.id&&async function(e){if(!e)return{phone:"",exists:!1};try{const t=Gh(Vw,"customers",e),n=await ep(t);if(!n.exists())return{phone:"",exists:!1};const r=n.data()||{};return{phone:rS(r.phone||r.userPhoneNo||""),exists:!0}}catch(AS){return console.warn("[phoneHelper] fetchCustomerPhone error:",AS),{phone:"",exists:!1}}}(e.id).then(e=>{let{phone:t,exists:n}=e;U(rS(t)),V(!!n&&!!rS(t)),q(!n||!rS(t))})}catch(f){}(async()=>{try{const e=Nt.getSelectedStadium();let t=y||(null===e||void 0===e?void 0:e.id);if(console.log("[Sections] Selected stadium from storage:",e),!t)try{const e=await np(Kh(Vw,"stadiums"));if(!e.empty){t=e.docs[0].id,v(t),console.log("[Sections] Using fallback stadium id from collection:",t);try{qb(`Using default stadium ${t}`,"info",2500)}catch(f){}}}catch(AS){console.warn("[Sections] Failed to load fallback stadium list:",AS)}if(t){const e=Kh(Vw,"stadiums",t,"sections"),n=await np(e);console.log("[Sections] Fetched sections count:",n.size,"for stadiumId:",t);try{console.log("[Sections] Raw docs:",n.docs.map(e=>({id:e.id,data:e.data()})))}catch(f){}const r=n.docs.map(e=>{const t=e.data()||{},n="number"===typeof t.sectionNo?t.sectionNo:Number(t.sectionNo),r="number"!==typeof n||Number.isNaN(n)?t.sectionName||t.name||e.id:`Section ${n}`;return{id:e.id,name:r,shops:t.shops||[],no:"number"!==typeof n||Number.isNaN(n)?null:n,isActive:void 0===t.isActive||null===t.isActive||!!t.isActive}}),o=[...r];o.sort((e,t)=>null!=e.no&&null!=t.no?e.no-t.no:null!=e.no?-1:null!=t.no?1:String(e.name).localeCompare(String(t.name))),b(o);try{o.length>0?qb(`Loaded ${o.length} sections for stadium ${t}`,"success",2e3):qb(`No sections found for stadium ${t}`,"error",3e3)}catch(f){}if(console.log("[Sections] Options after sort (all):",o),1===o.length&&!a.sectionId){const e=o[0];l(t=>({...t,sectionId:e.id,section:e.name}));try{It.setSeatInfo({row:a.row,seatNo:a.seatNo,stand:a.stand,sectionId:e.id,section:e.name,entrance:a.entrance})}catch(f){}}}else{b([]);try{qb("No stadium selected. Please choose a stadium first.","error",3e3)}catch(f){}}}catch(AS){console.warn("[OrderConfirm] Failed to load sections:",(null===AS||void 0===AS?void 0:AS.message)||AS),b([]);try{qb(`Failed to load sections: ${(null===AS||void 0===AS?void 0:AS.message)||AS}`,"error",4e3)}catch(f){}}})(),setTimeout(()=>K(),0)},[y]),(0,e.useEffect)(()=>{const e=e=>{try{if((null===e||void 0===e?void 0:e.key)===Et.SELECTED_STADIUM){var t;const e=(null===(t=Nt.getSelectedStadium())||void 0===t?void 0:t.id)||null;v(e),l(e=>({...e,sectionId:"",section:""}))}}catch(n){}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,e.useEffect)(()=>{try{const t=(a.section||"").toString().trim(),n=!(!a.sectionId||!String(a.sectionId).trim());if(!t||n||0===w.length)return;const r=t.toLowerCase();let o=w.find(e=>(e.name||"").toString().toLowerCase()===r);if(!o){const e=/section\s*(\d+)/i.exec(t);if(e){const t=Number(e[1]);Number.isNaN(t)||(o=w.find(e=>e.no===t)||null)}}if(o){l(e=>({...e,sectionId:o.id,section:o.name}));try{It.setSeatInfo({row:a.row,seatNo:a.seatNo,entrance:a.entrance,stand:a.stand,section:o.name,sectionId:o.id})}catch(e){}try{qb(`Section auto-selected: ${o.name}`,"success",1600)}catch(e){}}}catch(AS){console.warn("Auto-select sectionId failed:",AS)}},[w,a.section,a.sectionId]),(0,e.useEffect)(()=>{const e=c+d+(f.amount||0);g(e)},[c,d,f.amount]),(0,e.useEffect)(()=>{if(!m||m<=0)return void console.log("[OrderConfirm] Skipping intent creation - invalid amount:",m);let e=!1;return(async()=>{try{const a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51RyfgTKj6LjssenC2Wy0Omeu3bQMa2hsc33riQoi43TU7AyIAQ08zELQWLOBvcRBgCyKMYIQ0rhOOsr0mTqanrse00W2xoKNg7",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S570jKWPD2pzAyo",REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo"}.REACT_APP_API_BASE&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51RyfgTKj6LjssenC2Wy0Omeu3bQMa2hsc33riQoi43TU7AyIAQ08zELQWLOBvcRBgCyKMYIQ0rhOOsr0mTqanrse00W2xoKNg7",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S570jKWPD2pzAyo",REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo"}.REACT_APP_API_BASE.trim()?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51RyfgTKj6LjssenC2Wy0Omeu3bQMa2hsc33riQoi43TU7AyIAQ08zELQWLOBvcRBgCyKMYIQ0rhOOsr0mTqanrse00W2xoKNg7",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S570jKWPD2pzAyo",REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo"}.REACT_APP_API_BASE.trim():"3000"===window.location.port?"http://localhost:5001":"";if(null!==i&&void 0!==i&&i.id&&null!==i&&void 0!==i&&i.clientSecret)return;console.log("[OrderConfirm] Creating payment intent with amount:",m);const l=await fetch(`${a}/api/stripe/create-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:m,currency:"ils",vendorConnectedAccountId:"acct_1S570jKWPD2pzAyo",deliveryFee:d,tipAmount:f.amount||0})}),c=await l.text();let u;try{u=JSON.parse(c)}catch(o){}if(!l.ok)return void console.warn("OrderConfirm Pre-create Stripe intent failed:",c);var t,n,r;if(!e)s({id:null===(t=u)||void 0===t?void 0:t.intentId,clientSecret:null===(n=u)||void 0===n?void 0:n.clientSecret,mode:null===(r=u)||void 0===r?void 0:r.mode})}catch(AS){console.warn("[OrderConfirm] Pre-create intent error:",(null===AS||void 0===AS?void 0:AS.message)||AS)}})(),()=>{e=!0}},[m,d,f.amount]);const K=()=>{let e=F;try{var t;const n=null===(t=o.current)||void 0===t?void 0:t.value;"string"===typeof n&&(e=rS(n),e!==F&&U(e))}catch(s){}const r={};if(console.log("[VALIDATION] Checking form data:",{row:a.row,seatNo:a.seatNo,entrance:a.entrance,stand:a.stand}),a.row&&a.row.trim()||(r.row=n("order.err_row_required")),a.seatNo&&a.seatNo.trim()||(r.seatNo=n("order.err_seat_required")),a.sectionId&&String(a.sectionId).trim()||(r.section=n("order.err_section_required")),!z){oS(e)||(r.customerPhone=n("order.err_phone_required"))}console.log("[VALIDATION] Validation result:",{errors:r,isValid:0===Object.keys(r).length}),C(D?r:{});const i=0===Object.keys(r).length;return R(i),i},G=(0,e.useCallback)(async()=>{try{document&&document.activeElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()}catch(u){}await new Promise(e=>setTimeout(e,60)),D||B(!0);const e=It.getSeatInfo()||{},t=(e,t)=>{const n=(null!==e&&void 0!==e?e:"").toString();if(n.trim().length>0)return n;return(null!==t&&void 0!==t?t:"").toString()},r={row:t(a.row,e.row),seatNo:t(a.seatNo,e.seatNo),sectionId:t(a.sectionId,e.sectionId)};let i=F;try{var s;const e=null===(s=o.current)||void 0===s?void 0:s.value;"string"===typeof e&&(i=rS(e),i!==F&&U(i))}catch(u){}const l={};if(r.row.trim()||(l.row=n("order.err_row_required")),r.seatNo.trim()||(l.seatNo=n("order.err_seat_required")),r.sectionId&&String(r.sectionId).trim()||(l.section=n("order.err_section_required")),!z){oS(i)||(l.customerPhone=n("order.err_phone_required"))}try{console.log("[VALIDATE WALLET] effective values:",r,"errors:",l)}catch(u){}C(l);const c=0===Object.keys(l).length;if(R(c),!c){const e=[];l.row&&e.push(n("order.row")),l.seatNo&&e.push(n("order.seat")),l.customerPhone&&e.push(n("auth.phone"));const t=`${n("order.complete_required_fields_prefix")} ${e.join(", ")}`.trim();qb(t,"error",4e3);try{window&&window.scrollTo&&window.scrollTo({top:0,behavior:"smooth"})}catch(u){}return!1}return!0},[D,a,n,z]);return(0,_t.jsx)("div",{className:"order-confirm-screen",children:(0,_t.jsxs)("div",{className:"order-confirm-container",children:[k&&(0,_t.jsxs)("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.35)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,_t.jsxs)("div",{style:{background:"#fff",padding:20,borderRadius:10,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",display:"flex",alignItems:"center"},children:[(0,_t.jsx)("div",{className:"spinner",style:{width:24,height:24,border:"3px solid #eee",borderTopColor:"#3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",marginInlineEnd:12}}),(0,_t.jsx)("div",{style:{fontSize:14,color:"#374151"},children:n("order.processing_full")})]}),(0,_t.jsx)("style",{children:"@keyframes spin{to{transform:rotate(360deg)}}"})]}),(0,_t.jsxs)("div",{className:"order-header-section",children:[(0,_t.jsx)("h2",{className:"order-header-title",children:n("order.upload_ticket_header")}),(0,_t.jsx)("p",{className:"order-header-subtitle",children:n("order.upload_ticket_subheader")})]}),(0,_t.jsx)(i_,{ticketImage:E,onImageUpload:e=>{const t=e.target.files[0];if(t){const e=URL.createObjectURL(t);I(e),console.log("\ud83d\udcf7 Ticket image uploaded:",t.name)}},onCameraCapture:()=>{console.log("\ud83d\udcf8 Camera capture requested")}}),(0,_t.jsx)(o_,{formData:a,errors:S,onChange:(e,t)=>{console.log("[INPUT CHANGE]",{field:e,value:t,currentFormData:a}),l(n=>{const r={...n,[e]:t};console.log("[INPUT CHANGE] New form data:",r);try{It.setSeatInfo({row:"row"===e?t:r.row,seatNo:"seatNo"===e?t:r.seatNo,entrance:"entrance"===e?t:r.entrance,stand:"stand"===e?t:r.stand,section:"section"===e?t:r.section,sectionId:"sectionId"===e?t:r.sectionId})}catch(AS){console.warn("seatStorage set error",AS)}return r}),setTimeout(()=>K(),0)},sectionsOptions:w,onScanQr:()=>W(!0)}),(0,_t.jsxs)("div",{className:"seat-info-section phone-section",children:[(0,_t.jsx)("h2",{className:"section-title",children:n("order.phone_contact_title")||"Delivery Contact Phone"}),(0,_t.jsx)("p",{className:"helper-text",style:{margin:"6px 0 10px",color:"#6b7280",fontSize:14},children:n("order.phone_contact_hint")||"This number will be used by the delivery person if they need help finding you."}),!$&&F?(0,_t.jsxs)("div",{className:"phone-row",children:[(0,_t.jsx)("div",{style:{fontSize:16,fontWeight:600},children:F}),(0,_t.jsx)("button",{type:"button",onClick:()=>q(!0),style:{background:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:6,padding:"6px 10px",cursor:"pointer"},children:n("common.edit")||"Edit"})]}):(0,_t.jsxs)("div",{style:{maxWidth:360},children:[(0,_t.jsx)("input",{type:"tel",inputMode:"tel",placeholder:n("order.phone_input_ph")||"+972501234567",className:"field-input "+(S.customerPhone?"error":""),value:F,onChange:e=>(e=>{try{const t=rS(e);U(t)}catch(t){U(e)}setTimeout(()=>K(),0)})(e.target.value),ref:o,style:{width:"100%"}}),S.customerPhone&&(0,_t.jsx)("div",{className:"error-text",style:{color:"#dc2626",fontSize:12,marginTop:6},children:S.customerPhone})]})]}),(0,_t.jsx)(s_,{orderTotal:c,deliveryFee:d,tipData:f,finalTotal:m}),(0,_t.jsx)(tS,{ref:r,intentId:null===i||void 0===i?void 0:i.id,clientSecret:null===i||void 0===i?void 0:i.clientSecret,mode:null===i||void 0===i?void 0:i.mode,showConfirmButton:!1,totalAmount:m,currency:"ils",isFormValid:A,onWalletPaymentSuccess:async()=>{_(!0);try{const i=It.getSeatInfo()||{},s=(e,t)=>{const n=(null!==e&&void 0!==e?e:"").toString().trim();return n.length>0?n:(null!==t&&void 0!==t?t:"").toString().trim()},c={row:s(a.row,i.row),seatNo:s(a.seatNo,i.seatNo),entrance:s(a.entrance,i.entrance),stand:s(a.stand,i.stand),section:s(a.section,i.section),sectionId:s(a.sectionId,i.sectionId),seatDetails:s(a.seatDetails,i.seatDetails),area:s(a.area,i.area)};C({}),R(!0);let u=F;try{var e;const t=null===(e=o.current)||void 0===e?void 0:e.value;"string"===typeof t&&(u=rS(t),u!==F&&U(u))}catch(n){}try{const e=await nS({formData:c,tipData:f,ticketImage:E,customerLocation:null,finalTotal:m,notifyDelivery:!1,strictShopAvailability:!0,customerPhone:u||void 0});try{const e=Tt.getUserData();null!==e&&void 0!==e&&e.id&&!z&&oS(u)&&(await iS(e.id,u),V(!0))}catch(n){}try{It.clearSeatInfo&&It.clearSeatInfo()}catch(n){}l({row:"",seatNo:"",section:"",seatDetails:"",area:"",entrance:"",stand:"Main"}),C({}),B(!1),R(!1),I(null),q(!1);qb(`${"Order placed successfully!"} Order ID: ${e.orderId}`,"success",4e3),setTimeout(()=>t(`/order/${e.id}`,{replace:!0}),1200)}catch(r){r.message&&r.message.includes("Shops are closed today")?qb("Shops are closed today. Please try again later.","error",5e3):qb(r.message||"Order failed. Please try again.","error",4e3),console.error("[Wallet] Order placement failed:",r)}}finally{_(!1)}},validateBeforeWalletPay:G,disabled:!1}),(0,_t.jsx)(a_,{loading:k,finalTotal:m,onPlaceOrder:async()=>{if(await G()){_(!0);try{var e;const v={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51RyfgTKj6LjssenC2Wy0Omeu3bQMa2hsc33riQoi43TU7AyIAQ08zELQWLOBvcRBgCyKMYIQ0rhOOsr0mTqanrse00W2xoKNg7",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S570jKWPD2pzAyo",REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo"}.REACT_APP_API_BASE&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51RyfgTKj6LjssenC2Wy0Omeu3bQMa2hsc33riQoi43TU7AyIAQ08zELQWLOBvcRBgCyKMYIQ0rhOOsr0mTqanrse00W2xoKNg7",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S570jKWPD2pzAyo",REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo"}.REACT_APP_API_BASE.trim()?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51RyfgTKj6LjssenC2Wy0Omeu3bQMa2hsc33riQoi43TU7AyIAQ08zELQWLOBvcRBgCyKMYIQ0rhOOsr0mTqanrse00W2xoKNg7",REACT_APP_STRIPE_VENDOR_ACCOUNT_ID:"acct_1S570jKWPD2pzAyo",REACT_APP_FIREBASE_VAPID_KEY:"BJbRKcAgyAfNg7DsBqvNrvVB3Hcd8fEylzKQH4JV53AKBEPUpB5TFGIlbRPYKTckQ9gvG5q2OJBpEV9Mrk4sdVo"}.REACT_APP_API_BASE.trim():"3000"===window.location.port?"http://localhost:5001":"";if(null===i||void 0===i||!i.id||null===i||void 0===i||!i.clientSecret){var c,u,h;const e=await fetch(`${v}/api/stripe/create-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:m,currency:"ils",vendorConnectedAccountId:"acct_1S570jKWPD2pzAyo",deliveryFee:d,tipAmount:f.amount||0})}),t=await e.text();let n;try{n=JSON.parse(t)}catch(y){}if(!e.ok)throw new Error(n&&(n.error||n.message)||t||"Create Stripe intent failed");s({id:null===(c=n)||void 0===c?void 0:c.intentId,clientSecret:null===(u=n)||void 0===u?void 0:u.clientSecret,mode:null===(h=n)||void 0===h?void 0:h.mode}),qb("\u2705 Stripe payment intent ready. Processing your order...","success",2e3)}if(null!==(e=r.current)&&void 0!==e&&e.confirm){let e=0;const t=15;for(;(!r.current.isReady||!r.current.isReady())&&e<t;)await new Promise(e=>setTimeout(e,200)),e+=1;if(!r.current.isReady||!r.current.isReady())throw new Error("Stripe card element not ready");const n=await r.current.confirm();var p;if(null===n||void 0===n||!n.ok)throw new Error((null===n||void 0===n||null===(p=n.error)||void 0===p?void 0:p.message)||"Stripe card confirmation failed")}const w=Tt.getUserData(),b=Nt.getSelectedStadium(),k=gk.getCartItems();if(console.log("[ORDER DEBUG] userData:",!!w,"stadiumData:",!!b,"cartItems:",k.length),console.log("[ORDER DEBUG] stadiumData details:",b),!w){qb("Please sign in to complete your order","error",3e3);try{localStorage.setItem("postLoginNext","/order/confirm")}catch(y){}return void t("/auth?next=%2Forder%2Fconfirm")}if(!b)return qb("Please select a stadium first","error",3e3),void t("/stadium-selection");if(0===k.length)return qb("Cart is empty","error",3e3),void t("/home");const _=It.getSeatInfo()||{},S=(e,t)=>{const n=(null!==e&&void 0!==e?e:"").toString().trim();return n.length>0?n:(null!==t&&void 0!==t?t:"").toString().trim()},T={row:S(a.row,_.row),seatNo:S(a.seatNo,_.seatNo),entrance:S(a.entrance,_.entrance),stand:S(a.stand,_.stand),section:S(a.section,_.section),sectionId:S(a.sectionId,_.sectionId),seatDetails:S(a.seatDetails,_.seatDetails),area:S(a.area,_.area)};let N=F;try{var g;const e=null===(g=o.current)||void 0===g?void 0:g.value;"string"===typeof e&&(N=rS(e),N!==F&&U(N))}catch(y){}const P=await nS({formData:T,tipData:f,ticketImage:E,customerLocation:x,finalTotal:m,notifyDelivery:!1,strictShopAvailability:!0,customerPhone:N||void 0});try{const e=Tt.getUserData();null!==e&&void 0!==e&&e.id&&!z&&oS(N)&&(await iS(e.id,N),V(!0))}catch(y){}try{It.clearSeatInfo&&It.clearSeatInfo()}catch(y){}l({row:"",seatNo:"",section:"",seatDetails:"",area:"",entrance:"",stand:"Main"}),C({}),B(!1),R(!1),I(null),q(!1);const A=n("order.order_placed");qb(`${A} ${n("order.order_id")}: ${P.orderId}`,"success",4e3),console.log("Order Doc ID:",P.id),setTimeout(()=>t(`/order/${P.id}`,{replace:!0}),1200)}catch(v){console.error("\u274c Payment/Order creation failed:",v);const e=v.message||n("order.payment_failed_generic");qb(e,"error",5e3)}finally{_(!1)}}},disabled:!A}),(0,_t.jsx)(lS,{visible:H,onScanSuccess:e=>{try{l(t=>({...t,row:e.row||t.row,seatNo:e.seatNo||t.seatNo,section:e.section||t.section,sectionId:e.sectionId||t.sectionId,entrance:e.entrance||t.entrance,stand:e.stand||t.stand||"Main",seatDetails:e.seatDetails||t.seatDetails,area:e.area||t.area}));try{It.setSeatInfo({row:e.row||a.row,seatNo:e.seatNo||a.seatNo,section:e.section||a.section,sectionId:e.sectionId||a.sectionId,entrance:e.entrance||a.entrance,stand:e.stand||a.stand||"Main",seatDetails:e.seatDetails||a.seatDetails,area:e.area||a.area})}catch(t){}W(!1),setTimeout(()=>K(),100)}catch(n){console.error("Failed to process QR scan data:",n),qb("Failed to process QR code data","error",3e3)}},onClose:()=>W(!1)})]})})};var uS=n(245);const dS=[{key:uk.PENDING,labelKey:"track.order_received"},{key:uk.PREPARING,labelKey:"track.preparing"},{key:uk.DELIVERING,labelKey:"track.on_the_way"},{key:uk.DELIVERED,labelKey:"track.delivered"}];function hS(){const{orderId:t}=ne(),n=te(),{t:r,lang:o}=Ft(),i="he"===o,[s,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(!0),[u,d]=(0,e.useState)(""),[h,f]=(0,e.useState)(null),[p,m]=(0,e.useState)(!1);(0,e.useEffect)(()=>{try{window&&window.scrollTo&&window.scrollTo({top:0,behavior:"auto"})}catch(e){}},[t]),(0,e.useEffect)(()=>{if(!t)return;c(!0);const e=ip(Gh(Vw,"orders",t),e=>{if(!e.exists())return d("Order not found"),a(null),void c(!1);d("");const t={id:e.id,...e.data()};a(t),c(!1),console.log("Order status:",t.status,"DELIVERING constant:",uk.DELIVERING),console.log("DeliveryUserId:",t.deliveryUserId),t.status===uk.DELIVERING&&t.deliveryUserId?g(t.deliveryUserId):f(null)},e=>{d((null===e||void 0===e?void 0:e.message)||"Failed to load order"),c(!1)});return()=>e()},[t]);const g=async e=>{if(e){m(!0);try{const t=Gh(Vw,"deliveryUsers",e),n=await ep(t);if(n.exists()){const e={id:n.id,...n.data()};console.log("Delivery user data:",e),f(e)}else console.warn("Delivery user not found:",e),f(null)}catch(u){console.error("Error fetching delivery user:",u),f(null)}finally{m(!1)}}},y=e=>{switch(e){case uk.PENDING:return(0,_t.jsx)(Cb,{});case uk.PREPARING:return(0,_t.jsx)(Ib,{});case uk.DELIVERING:return(0,_t.jsx)(Eb,{});case uk.DELIVERED:return(0,_t.jsx)(sb,{});default:return(0,_t.jsx)(Cb,{})}},v=dS.map(e=>({...e,label:r(e.labelKey),icon:y(e.key)})),w=s?v.findIndex(e=>e.key===s.status):-1,b=(null===s||void 0===s?void 0:s.orderCode)||(null===s||void 0===s?void 0:s.orderId)||(null===s||void 0===s?void 0:s.id)||"";return(0,_t.jsxs)("div",{className:"order-track-screen",dir:i?"rtl":"ltr",children:[(0,_t.jsxs)("div",{className:"hero",children:[(0,_t.jsx)("button",{className:"back-btn","aria-label":r("common.back"),onClick:()=>n(-1),children:i?(0,_t.jsx)(Nb,{}):(0,_t.jsx)(Tb,{})}),(0,_t.jsx)("div",{className:"hero-title",children:r("track.order")}),(0,_t.jsxs)("div",{className:"order-code",children:["#",(null===s||void 0===s?void 0:s.orderId)||(null===s||void 0===s?void 0:s.id)]})]}),(0,_t.jsx)("div",{className:"content",children:l?(0,_t.jsx)("div",{className:"loading",children:r("track.loading")}):u?(0,_t.jsx)("div",{className:"error",children:u}):(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"qr-card",children:[b?(0,_t.jsx)("div",{className:"qr-wrap",children:(0,_t.jsx)(uS.Ay,{value:String(b),size:140})}):(0,_t.jsx)("div",{className:"qr-placeholder",children:r("track.no_code")}),(0,_t.jsx)("div",{className:"qr-hint",children:(0,_t.jsx)("strong",{children:r("track.present_qr")})})]}),(0,_t.jsx)("div",{className:"timeline",children:v.map((e,t)=>{var n;const r=t<=w||-1===w&&0===t,o=t===w||-1===w&&0===t,i=t<w,a=t<v.length-1;return(0,_t.jsxs)("div",{className:`timeline-item ${r?"active":""} ${o?"current":""} ${i?"done":""} ${a?"has-next":""}`,children:[(0,_t.jsx)("div",{className:"dot"}),(0,_t.jsx)("div",{className:"step-card",children:(0,_t.jsxs)("div",{className:"step-row",children:[(0,_t.jsx)("span",{className:`step-icon ${r?"on":""} ${o?"glow":""}`,children:e.icon}),(0,_t.jsxs)("div",{className:"step-text",children:[(0,_t.jsx)("div",{className:"step-title",children:e.label}),(0,_t.jsx)("div",{className:"step-sub",children:null!==s&&void 0!==s&&null!==(n=s.createdAt)&&void 0!==n&&n.toDate?s.createdAt.toDate().toLocaleString():""})]})]})})]},e.key)})}),(null===s||void 0===s?void 0:s.status)===uk.DELIVERING&&(0,_t.jsxs)("div",{className:"delivery-contact-section",children:[(0,_t.jsxs)("div",{className:"delivery-contact-title",children:[(0,_t.jsx)(vb,{className:"phone-icon"}),r("track.delivery_contact")]}),p?(0,_t.jsx)("div",{className:"delivery-contact-loading",children:r("track.loading_contact")}):(console.log("Delivery user in render:",h,"Phone:",null===h||void 0===h?void 0:h.phone),null!==h&&void 0!==h&&h.phone?(0,_t.jsx)("div",{className:"delivery-contact-card",children:(0,_t.jsxs)("div",{className:"delivery-contact-info",children:[(0,_t.jsx)("div",{className:"delivery-person-name",children:h.name||r("track.delivery_person")}),(0,_t.jsxs)("a",{href:`tel:${h.phone}`,className:"delivery-phone-link",children:[(0,_t.jsx)(vb,{className:"phone-icon-small"}),h.phone]})]})}):null!==s&&void 0!==s&&s.deliveryUserId?(0,_t.jsx)("div",{className:"delivery-contact-unavailable",children:r("track.contact_unavailable")}):null)]}),(0,_t.jsxs)("div",{className:"items-section",children:[(0,_t.jsx)("div",{className:"items-title",children:r("track.items")}),Array.isArray(null===s||void 0===s?void 0:s.cart)&&s.cart.length>0?s.cart.map((e,t)=>{return(0,_t.jsxs)("div",{className:"item-card modern",children:[(0,_t.jsxs)("div",{className:"item-main",children:[(0,_t.jsxs)("div",{className:"item-top",children:[(0,_t.jsxs)("span",{className:"qty-pill",children:[r("track.qty")," ",e.quantity||1]}),(0,_t.jsx)("div",{className:"name",children:e.name||r("track.item")})]}),(0,_t.jsx)("div",{className:"desc clamp-2",children:e.description||""}),(0,_t.jsx)("div",{className:"price ils",children:(n=e.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"ILS",maximumFractionDigits:2}).format(n||0))})]}),(0,_t.jsx)("div",{className:"item-media",children:Array.isArray(e.images)&&e.images.length>0?(0,_t.jsx)("img",{src:e.images[0],alt:e.name||"item",onError:e=>{e.currentTarget.style.display="none"}}):(0,_t.jsx)("div",{className:"thumb","aria-hidden":!0,children:"\ud83e\udd64"})})]},t);var n}):(0,_t.jsx)("div",{className:"empty-items",children:r("track.no_items")})]})]})}),s&&s.status===uk.DELIVERING&&(0,_t.jsx)("div",{className:"footer-cta",children:(0,_t.jsx)("button",{className:"cta-button",type:"button",children:"Show this screen to the delivery person"})})]})}const fS=e=>`https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=${encodeURIComponent(e)}`,pS={width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:8,outline:"none",fontSize:14},mS={fontWeight:600,marginBottom:6,fontSize:14},gS=(e,t)=>(0,_t.jsx)("div",{style:{marginBottom:14},children:e},t);function yS(){const{t:t}=Ft(),[n,r]=(0,e.useState)(()=>"https://www.fanmunch.com"),[o,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[l,c]=(0,e.useState)("1"),[u,d]=(0,e.useState)("10"),[h,f]=(0,e.useState)([]),[p,m]=(0,e.useState)(!1),[g,y]=(0,e.useState)([]);(0,e.useEffect)(()=>{v()},[]);const v=async()=>{try{m(!0);const e=Nt.getSelectedStadium();let t=null===e||void 0===e?void 0:e.id;if(!t){const e=await np(Kh(Vw,"stadiums"));e.empty||(t=e.docs[0].id,console.log("[QR Generator] Using first stadium:",t))}if(t){const e=Kh(Vw,"stadiums",t,"sections"),n=(await np(e)).docs.map(e=>{const t=e.data()||{},n="number"===typeof t.sectionNo?t.sectionNo:Number(t.sectionNo),r="number"!==typeof n||Number.isNaN(n)?t.sectionName||t.name||e.id:`Section ${n}`;return{id:e.id,name:r,no:"number"!==typeof n||Number.isNaN(n)?null:n}});if(n.sort((e,t)=>null!=e.no&&null!=t.no?e.no-t.no:null!=e.no?-1:null!=t.no?1:String(e.name).localeCompare(String(t.name))),f(n),n.length>0&&!s){const e=n[0];a(e.id),i(e.name)}qb(`Loaded ${n.length} sections`,"success",1500)}else qb("No stadium found. Please select a stadium first.","error",3e3)}catch(e){console.error("Failed to load sections:",e),qb("Failed to load sections from Firebase","error",3e3)}finally{m(!1)}},w=(0,e.useMemo)(()=>{const e=parseInt(u,10);return Number.isNaN(e)||e<=0?[]:Array.from({length:e},(e,t)=>`${t+1}`)},[u]);return(0,_t.jsxs)("div",{style:{maxWidth:1100,margin:"20px auto",padding:"0 16px"},children:[(0,_t.jsx)("h1",{style:{marginBottom:6},children:"Fanmunch QR Code"}),(0,_t.jsx)("p",{style:{color:"#6b7280",marginBottom:18},children:"Enter Section Name, Row Number, and Total Seats to generate deep-link URLs and QR codes that prefill Order Confirmation."}),(0,_t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(260px, 1fr))",gap:16,marginBottom:16},children:[gS((0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{style:mS,children:"Base URL"}),(0,_t.jsx)("input",{style:pS,value:n,onChange:e=>r(e.target.value),placeholder:"https://www.fanmunch.com"}),(0,_t.jsx)("div",{style:{color:"#6b7280",fontSize:12,marginTop:6},children:"Production: https://www.fanmunch.com | Development: http://localhost:3000"})]}),"base"),gS((0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{style:mS,children:"Section"}),p?(0,_t.jsx)("div",{style:{...pS,display:"flex",alignItems:"center",color:"#6b7280"},children:"Loading sections..."}):h.length>0?(0,_t.jsxs)("select",{style:pS,value:s,onChange:e=>(e=>{a(e);const t=h.find(t=>t.id===e);t&&i(t.name)})(e.target.value),children:[(0,_t.jsx)("option",{value:"",children:"Select a section"}),h.map(e=>(0,_t.jsx)("option",{value:e.id,children:e.name},e.id))]}):(0,_t.jsxs)("div",{style:{...pS,display:"flex",alignItems:"center",justifyContent:"space-between",color:"#6b7280"},children:[(0,_t.jsx)("span",{children:"No sections found"}),(0,_t.jsx)("button",{onClick:v,style:{padding:"4px 8px",background:"#3b82f6",color:"white",border:"none",borderRadius:4,fontSize:12,cursor:"pointer"},children:"Retry"})]}),(0,_t.jsx)("div",{style:{color:"#6b7280",fontSize:12,marginTop:6},children:"Sections are loaded from the selected stadium in Firebase"})]}),"section"),gS((0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{style:mS,children:"Row Number"}),(0,_t.jsx)("input",{style:pS,value:l,onChange:e=>c(e.target.value),placeholder:"1"})]}),"rowNumber"),gS((0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{style:mS,children:"Total Seats"}),(0,_t.jsx)("input",{style:pS,value:u,onChange:e=>d(e.target.value),placeholder:"10"}),(0,_t.jsx)("div",{style:{color:"#6b7280",fontSize:12,marginTop:6},children:"Number of seats to generate (1, 2, 3, ... up to this number)"})]}),"totalSeats")]}),(0,_t.jsxs)("div",{style:{display:"flex",gap:12,marginBottom:16},children:[(0,_t.jsx)("button",{onClick:()=>{try{if(!n||!n.startsWith("http"))return void qb("Base URL must start with http.","error",2500);if(!s||!o.trim())return void qb("Please select a section.","error",2500);if(!l||!`${l}`.trim())return void qb("Row number is required.","error",2500);if(0===w.length)return void qb("Total seats must be a valid number.","error",2500);const e=w.map(e=>{const t=new URLSearchParams;t.set("row",`${l}`),t.set("seat",`${e}`),t.set("section",o),s&&s.trim()&&t.set("sectionId",s.trim());const r=`${n}?${t.toString()}`;return{row:`${l}`,seat:`${e}`,sectionName:o,sectionId:s,url:r}});y(e),qb(`Generated ${e.length} links`,"success",2e3)}catch(AS){qb((null===AS||void 0===AS?void 0:AS.message)||"Failed to generate links","error",3e3)}},style:{padding:"10px 14px",borderRadius:8,border:"1px solid #e5e7eb",background:"#111827",color:"#fff",cursor:"pointer"},children:"Generate"}),(0,_t.jsx)("button",{onClick:async()=>{try{const e=g.map(e=>e.url).join("\n");await navigator.clipboard.writeText(e),qb("All links copied","success",1500)}catch(e){qb("Copy failed","error",2e3)}},disabled:0===g.length,style:{padding:"10px 14px",borderRadius:8,border:"1px solid #e5e7eb",background:g.length?"#f3f4f6":"#f9fafb",color:"#111827",cursor:g.length?"pointer":"not-allowed"},children:"Copy all links"})]}),g.length>0&&(0,_t.jsx)("div",{style:{overflowX:"auto"},children:(0,_t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,_t.jsx)("thead",{children:(0,_t.jsxs)("tr",{style:{textAlign:"left",borderBottom:"1px solid #e5e7eb"},children:[(0,_t.jsx)("th",{style:{padding:"8px 6px"},children:"Row"}),(0,_t.jsx)("th",{style:{padding:"8px 6px"},children:"Seat"}),(0,_t.jsx)("th",{style:{padding:"8px 6px"},children:"Section"}),(0,_t.jsx)("th",{style:{padding:"8px 6px"},children:"Link"}),(0,_t.jsx)("th",{style:{padding:"8px 6px"},children:"QR"})]})}),(0,_t.jsx)("tbody",{children:g.map(e=>(0,_t.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[(0,_t.jsx)("td",{style:{padding:"10px 6px"},children:e.row}),(0,_t.jsx)("td",{style:{padding:"10px 6px"},children:e.seat}),(0,_t.jsxs)("td",{style:{padding:"10px 6px"},children:[e.sectionName,e.sectionId?` (${e.sectionId})`:""]}),(0,_t.jsx)("td",{style:{padding:"10px 6px"},children:(0,_t.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",style:{color:"#2563eb"},children:e.url})}),(0,_t.jsx)("td",{style:{padding:"10px 6px"},children:(0,_t.jsx)("img",{src:fS(e.url),alt:`QR ${e.row}-${e.seat}`,width:110,height:110,style:{borderRadius:8,border:"1px solid #e5e7eb"}})})]},`${e.row}-${e.seat}`))})]})})]})}const vS=()=>{const t=te(),n=J(),{t:r}=Ft(),[o,i]=(0,e.useState)(0),[s,a]=(0,e.useState)(0);(0,e.useEffect)(()=>{l(),c();const e=e=>{var t;const n=(null===(t=e.detail)||void 0===t?void 0:t.totalItems)||0;i(n)},t=()=>{console.log("\ud83d\udd14 Order update event received, refreshing badge..."),c()},n=setInterval(()=>{c()},3e4);return window.addEventListener("cartUpdated",e),window.addEventListener("orderUpdated",t),()=>{window.removeEventListener("cartUpdated",e),window.removeEventListener("orderUpdated",t),clearInterval(n)}},[]);const l=()=>{const e=gk.getTotalItems();i(e)},c=async()=>{try{const e=Tt.getUserData();if(!e||!e.id)return void a(0);const t=(await fk.fetchOrdersForUser(e.id)).filter(e=>[uk.PENDING,uk.PREPARING,uk.DELIVERING].includes(e.status));a(t.length),console.log("\ud83d\udd14 Active orders count updated:",t.length)}catch(e){console.error("\u274c Error fetching active orders count:",e),a(0)}},u=(0,e.useMemo)(()=>[{id:"home",icon:ub,activeIcon:ub,label:r("nav.home"),path:"/home"},{id:"orders",icon:hb,activeIcon:hb,label:r("nav.orders"),path:"/orders"},{id:"cart",icon:pb,activeIcon:pb,label:r("nav.cart"),path:"/cart"},{id:"profile",icon:Rb,activeIcon:Rb,label:r("nav.profile"),path:"/profile"}],[r]),d=e=>n.pathname===e,h=["/auth","/onboarding","/stadium-selection","/food"].some(e=>n.pathname.startsWith(e)),f=Tt.getUserData();return h||!(f&&null!==f)?null:(0,_t.jsx)("div",{className:"bottom-navigation",children:(0,_t.jsx)("div",{className:"nav-container",children:u.map(n=>(0,_t.jsxs)("button",{className:"nav-item "+(d(n.path)?"active":""),onClick:()=>{return e=n.path,void t(e);var e},children:[(0,_t.jsxs)("div",{className:"nav-icon",children:[e.createElement(d(n.path)?n.activeIcon:n.icon,{className:"icon "+(d(n.path)?"active":"")}),"cart"===n.id&&o>0&&(0,_t.jsx)("span",{className:"cart-badge",children:o>99?"99+":o}),"orders"===n.id&&s>0&&(0,_t.jsx)("span",{className:"orders-badge",children:s>99?"99+":s})]}),(0,_t.jsx)("span",{className:"nav-label",children:n.label})]},n.id))})})},wS=["/assets/images/on-boarding-1.png","/assets/images/on-boarding-2.png","/assets/images/on-boarding-3.png"];function bS(e){const t=String(e||"food");let n=0;for(let o=0;o<t.length;o++)n=(n<<5)-n+t.charCodeAt(o),n|=0;const r=Math.abs(n)%wS.length;return wS[r]}function kS(){const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)(!0),[i,s]=(0,e.useState)(null),[a,l]=(0,e.useState)(""),c=te(),u=J(),{title:d,shopId:h}=(0,e.useMemo)(()=>{const e=new URLSearchParams(u.search);return{title:e.get("shopName")||"\u05db\u05dc \u05d4\u05ea\u05e4\u05e8\u05d9\u05d8",shopId:e.get("shopId")||null}},[u.search]);(0,e.useEffect)(()=>{(async()=>{try{o(!0),s(null);const e=Nt.getSelectedStadium();let t;if(t=e&&e.id?await ik.getStadiumMenu(e.id,200):await ik.getAllMenuItems(),t.success){let e=t.foods||[];h&&(e=e.filter(e=>Array.isArray(e.shopIds)&&e.shopIds.includes(h))),n(e)}else s(t.error||"Failed to load menu items"),n([])}catch(AS){s("Failed to load menu items"),n([])}finally{o(!1)}})()},[h]);const f=(0,e.useMemo)(()=>{if(!a.trim())return t;const e=a.toLowerCase();return t.filter(t=>{var n,r,o;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(r=t.description)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(o=t.category)||void 0===o?void 0:o.toLowerCase().includes(e))})},[t,a]),p=(0,e.useMemo)(()=>a.trim()?`${d} (${f.length})`:d,[d,a,f.length]);return(0,_t.jsxs)("div",{className:"menu-page fade-in",children:[(0,_t.jsxs)("div",{className:"menu-page-header",children:[(0,_t.jsx)("button",{className:"back-btn",onClick:()=>c(-1),"aria-label":"Back",children:(0,_t.jsx)(Pb,{size:22})}),(0,_t.jsx)("h1",{className:"menu-page-title",children:p}),(0,_t.jsx)("div",{className:"header-spacer"})]}),(0,_t.jsx)("div",{className:"menu-page-search",children:(0,_t.jsx)("input",{className:"menu-search-input",type:"search",value:a,onChange:e=>l(e.target.value),placeholder:"\u05d7\u05e4\u05e9 \u05d1\u05db\u05dc \u05d4\u05ea\u05e4\u05e8\u05d9\u05d8..."})}),r&&(0,_t.jsx)("div",{className:"menu-page-status",children:"Loading..."}),i&&(0,_t.jsx)("div",{className:"menu-page-status error",children:i}),!r&&!i&&(0,_t.jsx)("div",{className:"menu-grid",children:f.map(e=>(0,_t.jsxs)("div",{className:"menu-grid-card fade-up",onClick:()=>(e=>{c(`/food/${e.id}`)})(e),children:[(0,_t.jsx)("div",{className:"menu-grid-image",children:(0,_t.jsx)("img",{src:e.getPrimaryImage()||bS(e.id||e.name),alt:e.name,onError:t=>{t.currentTarget.src=bS(e.id||e.name)}})}),(0,_t.jsxs)("div",{className:"menu-grid-content",children:[(0,_t.jsx)("h3",{className:"menu-grid-name",children:e.name}),(0,_t.jsxs)("p",{className:"menu-grid-price",children:["\u20aa",e.price.toFixed(2)]})]})]},e.id))})]})}const _S=()=>(0,_t.jsxs)("div",{className:"screen static-screen",children:[(0,_t.jsx)("h1",{children:"About App"}),(0,_t.jsx)("p",{children:"Fans Munch helps you order food to your seat at the stadium. We focus on speed, simplicity, and reliability."}),(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"Version: 1.0.0"}),(0,_t.jsxs)("li",{children:["Build Date: ",(new Date).toLocaleDateString()]})]})]}),SS=()=>(0,_t.jsxs)("div",{className:"screen static-screen",children:[(0,_t.jsx)("h1",{children:"Terms and Conditions"}),(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:"1. Introduction"}),(0,_t.jsx)("p",{children:"By using Fans Munch, you agree to these terms. Please read them carefully."})]}),(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:"2. Orders and Payments"}),(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"All orders are subject to availability and acceptance."}),(0,_t.jsx)("li",{children:"Payments are processed securely by our partners."}),(0,_t.jsx)("li",{children:"Prices and fees may vary by venue."})]})]}),(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:"3. Delivery"}),(0,_t.jsx)("p",{children:"Delivery times depend on venue operations and event conditions."})]}),(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:"4. Refunds"}),(0,_t.jsx)("p",{children:"Issues with your order? Contact support from within the app."})]}),(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:"5. Responsible Use"}),(0,_t.jsx)("p",{children:"Do not misuse the service or attempt to disrupt the platform."})]})]}),CS=()=>(0,_t.jsxs)("div",{className:"screen static-screen",children:[(0,_t.jsx)("h1",{children:"Privacy Policy"}),(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:"Data We Collect"}),(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"Account info (name, email)"}),(0,_t.jsx)("li",{children:"Order and payment metadata"}),(0,_t.jsx)("li",{children:"Device and usage data to improve reliability"})]})]}),(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:"How We Use Data"}),(0,_t.jsx)("p",{children:"To process orders, provide support, and improve the app experience."})]}),(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:"Sharing"}),(0,_t.jsx)("p",{children:"We do not sell your data. Limited sharing with payment and delivery partners is required to fulfill your order."})]}),(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:"Your Rights"}),(0,_t.jsx)("p",{children:"You can request deletion or export of your data by contacting support."})]}),(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:"Contact"}),(0,_t.jsx)("p",{children:"Email: support@fansmunch.example"})]})]}),ES=()=>{const[t,n]=(0,e.useState)(""),[r,o]=(0,e.useState)(!1);return(0,_t.jsxs)("div",{className:"screen form-screen",children:[(0,_t.jsx)("h1",{children:"Feedback"}),r?(0,_t.jsx)("div",{className:"section-card",children:(0,_t.jsx)("p",{children:"Thanks for your feedback! We'll review it shortly."})}):(0,_t.jsx)("form",{onSubmit:e=>{e.preventDefault(),o(!0)},className:"simple-form",children:(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:"Share your thoughts"}),(0,_t.jsx)("label",{className:"helper",htmlFor:"fb-email",children:"Email (optional)"}),(0,_t.jsx)("input",{id:"fb-email",type:"email",placeholder:"you@example.com"}),(0,_t.jsx)("label",{className:"helper",htmlFor:"fb-category",children:"Category"}),(0,_t.jsxs)("select",{id:"fb-category",defaultValue:"general",children:[(0,_t.jsx)("option",{value:"general",children:"General"}),(0,_t.jsx)("option",{value:"feature",children:"Feature Request"}),(0,_t.jsx)("option",{value:"ui",children:"Design / UI"}),(0,_t.jsx)("option",{value:"performance",children:"Performance"})]}),(0,_t.jsx)("label",{className:"helper",htmlFor:"fb-message",children:"Message"}),(0,_t.jsx)("textarea",{id:"fb-message",value:t,onChange:e=>n(e.target.value),placeholder:"Tell us what you think",rows:6}),(0,_t.jsx)("button",{type:"submit",children:"Send"})]})})]})},IS=()=>{const[t,n]=(0,e.useState)(""),[r,o]=(0,e.useState)(!1);return(0,_t.jsxs)("div",{className:"screen form-screen",children:[(0,_t.jsx)("h1",{children:"Report a Problem"}),r?(0,_t.jsx)("div",{className:"section-card",children:(0,_t.jsx)("p",{children:"Thanks, we received your report. Our team will investigate."})}):(0,_t.jsx)("form",{onSubmit:e=>{e.preventDefault(),o(!0)},className:"simple-form",children:(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:"What went wrong?"}),(0,_t.jsx)("label",{className:"helper",htmlFor:"rp-steps",children:"Steps to reproduce (optional)"}),(0,_t.jsx)("textarea",{id:"rp-steps",value:t,onChange:e=>n(e.target.value),placeholder:"Describe the issue",rows:6}),(0,_t.jsx)("button",{type:"submit",children:"Submit"})]})})]})},xS=()=>{const[t,n]=(0,e.useState)(Rt.getLanguagePreference()||"en"),{t:r}=Ft();return(0,e.useEffect)(()=>{Rt.setLanguagePreference(t);const e="he"===t?"rtl":"ltr";document.documentElement.setAttribute("dir",e)},[t]),(0,_t.jsxs)("div",{className:"screen static-screen",children:[(0,_t.jsx)("h1",{children:r("settings.select_language")}),(0,_t.jsxs)("div",{className:"section-card",children:[(0,_t.jsx)("h2",{children:r("settings.app_language")}),(0,_t.jsxs)("div",{className:"lang-options",children:[(0,_t.jsx)("button",{className:"lang-btn "+("en"===t?"active":""),onClick:()=>{n("en"),window.dispatchEvent(new CustomEvent("language-changed",{detail:"en"}))},children:r("settings.english")}),(0,_t.jsx)("button",{className:"lang-btn "+("he"===t?"active":""),onClick:()=>{n("he"),window.dispatchEvent(new CustomEvent("language-changed",{detail:"he"}))},children:r("settings.hebrew")})]}),(0,_t.jsx)("p",{className:"helper",children:r("settings.rtl_note")}),(0,_t.jsxs)("p",{children:[r("settings.current"),": ",r("en"===t?"settings.english":"settings.hebrew")]})]})]})},TS=()=>{const e=window.location.search;return console.log("\ud83d\udd00 [REDIRECT] window.location.search:",e),console.log("\ud83d\udd00 [REDIRECT] window.location.href:",window.location.href),console.log("\ud83d\udd00 [REDIRECT] Redirecting to:",`/home${e}`),(0,_t.jsx)(we,{to:`/home${e}`,replace:!0})};const NS=function(){return(0,e.useEffect)(()=>{try{const e=new URLSearchParams(window.location.search);if(e&&Array.from(e.keys()).length>0){const t={row:e.get("row")||"",seatNo:e.get("seat")||e.get("seatNo")||"",section:e.get("section")||"",sectionId:e.get("sectionId")||"",seatDetails:e.get("details")||e.get("seatDetails")||"",area:e.get("area")||"",entrance:e.get("entrance")||e.get("gate")||"",stand:e.get("stand")||"",ticketImage:e.get("ticketImage")||""};Object.values(t).some(e=>e&&""!==String(e).trim())&&(It.setSeatInfo(t),console.log("\ud83c\udfab QR parameters parsed and saved:",t))}}catch(AS){console.log("QR param parse skipped:",null===AS||void 0===AS?void 0:AS.message)}},[]),(0,_t.jsx)(Mt,{children:(0,_t.jsx)(Ct,{children:(0,_t.jsx)(nt,{children:(0,_t.jsxs)("div",{className:"App",children:[(0,_t.jsxs)(_e,{children:[(0,_t.jsx)(be,{path:"/",element:(0,_t.jsx)(TS,{})}),(0,_t.jsx)(be,{path:"/splash",element:(0,_t.jsx)(Ut,{})}),(0,_t.jsx)(be,{path:"/onboarding",element:(0,_t.jsx)(zt,{})}),(0,_t.jsx)(be,{path:"/auth",element:(0,_t.jsx)(Lb,{})}),(0,_t.jsx)(be,{path:"/forgot-password",element:(0,_t.jsx)(jb,{})}),(0,_t.jsx)(be,{path:"/stadium-selection",element:(0,_t.jsx)(Wb,{})}),(0,_t.jsx)(be,{path:"/home",element:(0,_t.jsx)(ck,{})}),(0,_t.jsx)(be,{path:"/menu",element:(0,_t.jsx)(kS,{})}),(0,_t.jsx)(be,{path:"/orders",element:(0,_t.jsx)(pk,{})}),(0,_t.jsx)(be,{path:"/cart",element:(0,_t.jsx)(Ak,{})}),(0,_t.jsx)(be,{path:"/precart",element:(0,_t.jsx)(Rk,{})}),(0,_t.jsx)(be,{path:"/profile",element:(0,_t.jsx)(zk,{})}),(0,_t.jsx)(be,{path:"/settings/about",element:(0,_t.jsx)(_S,{})}),(0,_t.jsx)(be,{path:"/settings/terms",element:(0,_t.jsx)(SS,{})}),(0,_t.jsx)(be,{path:"/settings/privacy",element:(0,_t.jsx)(CS,{})}),(0,_t.jsx)(be,{path:"/settings/feedback",element:(0,_t.jsx)(ES,{})}),(0,_t.jsx)(be,{path:"/settings/report",element:(0,_t.jsx)(IS,{})}),(0,_t.jsx)(be,{path:"/settings/language",element:(0,_t.jsx)(xS,{})}),(0,_t.jsx)(be,{path:"/food/:foodId",element:(0,_t.jsx)(Yk,{})}),(0,_t.jsx)(be,{path:"/shop-menu/:shopId",element:(0,_t.jsx)(r_,{})}),(0,_t.jsx)(be,{path:"/tip",element:(0,_t.jsx)(n_,{})}),(0,_t.jsx)(be,{path:"/order/confirm",element:(0,_t.jsx)(cS,{})}),(0,_t.jsx)(be,{path:"/order/:orderId",element:(0,_t.jsx)(hS,{})}),(0,_t.jsx)(be,{path:"/tools/fanmunch-qr",element:(0,_t.jsx)(yS,{})}),(0,_t.jsx)(be,{path:"*",element:(0,_t.jsx)(we,{to:"/",replace:!0})})]}),(0,_t.jsx)(vS,{}),(0,_t.jsx)(Hb,{})]})})})})},PS=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:s}=t;n(e),r(e),o(e),i(e),s(e)})};t.createRoot(document.getElementById("root")).render((0,_t.jsx)(e.StrictMode,{children:(0,_t.jsx)(Mt,{children:(0,_t.jsx)(NS,{})})})),PS()})()})();
//# sourceMappingURL=main.eaca54dc.js.map